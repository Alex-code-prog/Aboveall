/* eslint-disable */
var Wy=Object.defineProperty;var n=(t,e)=>Wy(t,"name",{value:e,configurable:!0});var L=(t,e)=>{for(var i in e)Wy(t,i,{get:e[i],enumerable:!0})};function Jy(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(i[o[s]]=t[o[s]]);return i}n(Jy,"__rest");function Gy(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(Gy,"__setFunctionName");function y(t,e,i,o){function s(r){return r instanceof i?r:new i(function(l){l(r)})}return n(s,"adopt"),new(i||(i=Promise))(function(r,l){function p(_){try{m(o.next(_))}catch(g){l(g)}}n(p,"fulfilled");function f(_){try{m(o.throw(_))}catch(g){l(g)}}n(f,"rejected");function m(_){_.done?r(_.value):s(_.value).then(p,f)}n(m,"step"),m((o=o.apply(t,e||[])).next())})}n(y,"__awaiter");function Hy(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(Hy,"__values");function co(t){return this instanceof co?(this.v=t,this):new co(t)}n(co,"__await");function zy(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),s,r=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(w){o[w]&&(s[w]=function(T){return new Promise(function(C,N){r.push([w,T,C,N])>1||p(w,T)})})}function p(w,T){try{f(o[w](T))}catch(C){g(r[0][3],C)}}function f(w){w.value instanceof co?Promise.resolve(w.value.v).then(m,_):g(r[0][2],w)}function m(w){p("next",w)}function _(w){p("throw",w)}function g(w,T){w(T),r.shift(),r.length&&p(r[0][0],r[0][1])}}n(zy,"__asyncGenerator");function Ky(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Hy=="function"?Hy(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=t[r]&&function(l){return new Promise(function(p,f){l=t[r](l),s(p,f,l.done,l.value)})}}function s(r,l,p,f){Promise.resolve(f).then(function(m){r({value:m,done:p})},l)}}n(Ky,"__asyncValues");function c(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(c,"__classPrivateFieldGet");function S(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}n(S,"__classPrivateFieldSet");var Zg={};L(Zg,{ChannelError:()=>ls,InnertubeError:()=>x,MissingParamError:()=>en,OAuthError:()=>ci,ParsingError:()=>yt,Platform:()=>D,PlayerError:()=>_t,SessionError:()=>Ds,base64ToU8:()=>Rg,concatMemos:()=>zg,debugFetch:()=>bk,deepCompare:()=>Xh,escapeStringRegexp:()=>uy,generateRandomString:()=>St,generateSidAuth:()=>Qg,getRandomUserAgent:()=>Go,getStringBetweenStrings:()=>je,hasKeys:()=>yk,isTextRun:()=>qe,streamToIterable:()=>ty,throwIfMissing:()=>ee,timeToSeconds:()=>Le,u8ToBase64:()=>bt});var fg={};L(fg,{Maybe:()=>fo,Memo:()=>Pi,SuperParsedResult:()=>$t,YTNode:()=>a,observe:()=>ae});var pg,$y,Me,le,Kt,hi,po,qy=Symbol("ObservedArray.isObserved"),a=class{constructor(){pg.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>c(this,pg,"m",$y).call(this,i))}as(...e){if(!this.is(...e))throw new yt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new yt(`Missing key ${e}`);return new fo(this[e])}};n(a,"YTNode");pg=new WeakSet,$y=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var fo=class{constructor(e){Me.add(this),le.set(this,void 0),S(this,le,e,"f")}get typeof(){return typeof c(this,le,"f")}string(){return c(this,Me,"m",hi).call(this,"string")}isString(){return c(this,Me,"m",Kt).call(this,"string")}number(){return c(this,Me,"m",hi).call(this,"number")}isNumber(){return c(this,Me,"m",Kt).call(this,"number")}bigint(){return c(this,Me,"m",hi).call(this,"bigint")}isBigint(){return c(this,Me,"m",Kt).call(this,"bigint")}boolean(){return c(this,Me,"m",hi).call(this,"boolean")}isBoolean(){return c(this,Me,"m",Kt).call(this,"boolean")}symbol(){return c(this,Me,"m",hi).call(this,"symbol")}isSymbol(){return c(this,Me,"m",Kt).call(this,"symbol")}undefined(){return c(this,Me,"m",hi).call(this,"undefined")}isUndefined(){return c(this,Me,"m",Kt).call(this,"undefined")}null(){if(c(this,le,"f")!==null)throw new TypeError(`Expected null, got ${typeof c(this,le,"f")}`);return c(this,le,"f")}isNull(){return c(this,le,"f")===null}object(){return c(this,Me,"m",hi).call(this,"object")}isObject(){return c(this,Me,"m",Kt).call(this,"object")}function(){return c(this,Me,"m",hi).call(this,"function")}isFunction(){return c(this,Me,"m",Kt).call(this,"function")}array(){if(!Array.isArray(c(this,le,"f")))throw new TypeError(`Expected array, got ${typeof c(this,le,"f")}`);return c(this,le,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new fo(Reflect.get(i,o))}})}isArray(){return Array.isArray(c(this,le,"f"))}node(){if(!(c(this,le,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${c(this,le,"f").constructor.name}`);return c(this,le,"f")}isNode(){return c(this,le,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof c(this,le,"f")}`);return c(this,le,"f")}isObserved(){var e;return(e=c(this,le,"f"))===null||e===void 0?void 0:e[qy]}parsed(){if(!(c(this,le,"f")instanceof $t))throw new TypeError(`Expected SuperParsedResult, got ${typeof c(this,le,"f")}`);return c(this,le,"f")}isParsed(){return c(this,le,"f")instanceof $t}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),c(this,le,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${c(this,le,"f").constructor.name}`);return c(this,le,"f")}isInstanceof(e){return c(this,le,"f")instanceof e}};n(fo,"Maybe");le=new WeakMap,Me=new WeakSet,Kt=n(function(e){return typeof c(this,le,"f")===e},"_Maybe_checkPrimative"),hi=n(function(e){if(!c(this,Me,"m",Kt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return c(this,le,"f")},"_Maybe_assertPrimative");var $t=class{constructor(e){po.set(this,void 0),S(this,po,e,"f")}get is_null(){return c(this,po,"f")===null}get is_array(){return!this.is_null&&Array.isArray(c(this,po,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return c(this,po,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return c(this,po,"f")}};n($t,"SuperParsedResult");po=new WeakMap;function ae(t){return new Proxy(t,{get(e,i){return i=="get"?(o,s)=>e.find((r,l)=>{let p=Xh(o,r);return p&&s&&e.splice(l,1),p}):i==qy?!0:i=="getAll"?(o,s)=>e.filter((r,l)=>{let p=Xh(o,r);return p&&s&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(s=>o(s)):i=="filterType"?(...o)=>ae(e.filter(s=>!!s.is(...o))):i=="firstOfType"?(...o)=>e.find(s=>!!s.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ae(e.map(s=>{if(s.is(...o))return s;throw new yt(`Expected node of any type ${o.map(r=>r.type).join(", ")}, got ${s.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ae,"observe");var Pi=class extends Map{getType(...e){return e=e.flat(),ae(e.flatMap(i=>this.get(i.type)||[]))}};n(Pi,"Memo");var ay={};L(ay,{Author:()=>O,ChildElement:()=>I_,EmojiRun:()=>Ai,Format:()=>Nm,Text:()=>u,TextRun:()=>Ri,Thumbnail:()=>b,VideoDetails:()=>Oi});var Ue={};L(Ue,{CLIENTS:()=>H,INNERTUBE_HEADERS_BASE:()=>mI,OAUTH:()=>Ni,STREAM_HEADERS:()=>Qh,URLS:()=>pe});var pe=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Ni=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),H=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Qh=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),mI=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var $={};L($,{addRuntimeParser:()=>Wg,applyMutations:()=>z1,getDynamicParsers:()=>zI,getParserByName:()=>ch,hasParser:()=>d0,parse:()=>Xe,parseActions:()=>G1,parseArray:()=>Je,parseC:()=>H1,parseFormats:()=>Hg,parseItem:()=>oe,parseLC:()=>J1,parseRR:()=>p0,parseResponse:()=>KI,sanitizeClassName:()=>ph,setParserErrorHandler:()=>JI,shouldIgnore:()=>W1});var Er=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(Er,"AudioOnlyPlayability");Er.type="AudioOnlyPlayability";var Zh=Er;var Pr=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Pr,"Button");Pr.type="Button";var I=Pr;var Nr=class extends a{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(Nr,"DropdownItem");Nr.type="DropdownItem";var em=Nr;var Ar=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=d.parseArray(e.entries,em)}};n(Ar,"Dropdown");Ar.type="Dropdown";var Sn=Ar;var Rr=class extends a{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=d.parseItem(e.privacyOption,Sn),this.create_button=d.parseItem(e.cancelButton,I),this.cancel_button=d.parseItem(e.cancelButton,I)}};n(Rr,"CreatePlaylistDialog");Rr.type="CreatePlaylistDialog";var tm=Rr;var Mr=class extends a{constructor(e){super(),this.popup=d.parseItem(e.popup),this.popup_type=e.popupType}};n(Mr,"OpenPopupAction");Mr.type="OpenPopupAction";var im=Mr;var Vr=class extends a{constructor(e){var i,o,s,r,l,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new im(e.openPopupAction));let _=Object.keys(e||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=d.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=d.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,tm))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Vr,"NavigationEndpoint");Vr.type="NavigationEndpoint";var v=Vr;var b=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new b(i)).sort((i,o)=>o.width-i.width)}};n(b,"Thumbnail");var Ai=class{constructor(e){var i,o,s,r,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((s=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||s===void 0?void 0:s[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:b.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=om(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Ai,"EmojiRun");var Ri=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=om(this.text),s=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${s}</a>`}return s}};n(Ri,"TextRun");function om(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(om,"escape");var u=class{constructor(e){var i,o,s,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Ai(l):new Ri(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(r=(s=this.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.endpoint)}static fromAttributed(e){let i=[],o=e.content,s=e.commandRuns,r=0;if(s){for(let l of s){let p=l.length,f=l.startIndex;if(f>r&&i.push({text:o.slice(r,f)}),Reflect.has(l,"onTap")){let m=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let g of _)if(g.startIndex-2==f){m=g;break}}m?i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap,attachment:m}):i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap})}r=f+p}r<o.length&&i.push({text:o.slice(r)})}else i.push({text:o});return new u({runs:i})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");var Or=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Or,"CardCollection");Or.type="CardCollection";var nm=Or;var Dr=class extends a{constructor(e){super(),this.elements=d.parseArray(e.elements),this.start_ms=e.startMs}};n(Dr,"Endscreen");Dr.type="Endscreen";var sm=Dr;var Br=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:b.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:d.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Br,"PlayerAnnotationsExpanded");Br.type="PlayerAnnotationsExpanded";var rm=Br;var Lr=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(Lr,"PlayerCaptionsTracklist");Lr.type="PlayerCaptionsTracklist";var am=Lr;var Fr=class extends a{constructor(){super()}};n(Fr,"PlayerLiveStoryboardSpec");Fr.type="PlayerLiveStoryboardSpec";var um=Fr;var Yr=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((s,r)=>{let[l,p,f,m,_,g,w,T]=s.split("#");o.searchParams.set("sigh",T);let C=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(_,10)));return{template_url:o.toString().replace("$L",r).replace("$N",w),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(g,10),columns:parseInt(m,10),rows:parseInt(_,10),storyboard_count:C}})}};n(Yr,"PlayerStoryboardSpec");Yr.type="PlayerStoryboardSpec";var ho=Yr;var Ur=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(Ur,"Alert");Ur.type="Alert";var In=Ur;var jr=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=$.parseItem(e.dismissButton,I)}};n(jr,"AlertWithButton");jr.type="AlertWithButton";var lm=jr;var Wr=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=d.parseItem(e.button,I)),this.endpoint=new v(e.continuationEndpoint)}};n(Wr,"ContinuationItem");Wr.type="ContinuationItem";var ke=Wr;var Hr=class extends a{constructor(e){super(),this.title=new u(e.title),this.visibility_button=$.parseItem(e.visibilityButton,I)}};n(Hr,"EngagementPanelTitleHeader");Hr.type="EngagementPanelTitleHeader";var cm=Hr;var Jr=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.top_level_buttons=d.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(Jr,"Menu");Jr.type="Menu";var U=Jr;var Gr=class extends a{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=$.parseItem(e.menu,U)}};n(Gr,"MacroMarkersInfoItem");Gr.type="MacroMarkersInfoItem";var dm=Gr;var zr=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=b.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(zr,"MacroMarkersListItem");zr.type="MacroMarkersListItem";var kn=zr;var Kr=class extends a{constructor(e){super(),this.contents=$.parseArray(e.contents,[dm,kn]),this.sync_button_label=new u(e.syncButtonLabel)}};n(Kr,"MacroMarkersList");Kr.type="MacroMarkersList";var pm=Kr;var $r=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n($r,"ProductList");$r.type="ProductList";var fm=$r;var qr=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=d.parseItem(e.subMenu))}};n(qr,"SectionList");qr.type="SectionList";var Q=qr;var Xr=class extends a{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(Xr,"ExpandableVideoDescriptionBody");Xr.type="ExpandableVideoDescriptionBody";var hm=Xr;var Qr=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};n(Qr,"SearchRefinementCard");Qr.type="SearchRefinementCard";var mo=Qr;var Zr=class extends a{constructor(e){super(),this.game=d.parseItem(e.game)}};n(Zr,"GameCard");Zr.type="GameCard";var mm=Zr;var ea=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=d.parseArray(e.items)}get contents(){return this.items}};n(ea,"HorizontalList");ea.type="HorizontalList";var _m=ea;var ta=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:b.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=d.parseItem(e.expandedContent,[Mi,_m]),this.expand_button=d.parseItem(e.expandButton,I),this.collapse_button=d.parseItem(e.collapseButton,I)}};n(ta,"ExpandableMetadata");ta.type="ExpandableMetadata";var vm=ta;var ia=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(ia,"MetadataBadge");ia.type="MetadataBadge";var nt=ia;var oa=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(oa,"ThumbnailOverlayTimeStatus");oa.type="ThumbnailOverlayTimeStatus";var _o=oa;var na=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new u(l.snippetText),hover_text:new u(l.snippetHoverText)}))),this.expandable_metadata=d.parseItem(e.expandableMetadata,vm),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parseItem(e.richThumbnail)),this.author=new O(e.ownerText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=d.parseArray(e.badges,nt),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(r).toString(),seconds:Le(e.lengthText?new u(e.lengthText).toString():new u(r).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=d.parseItem(e.menu,U),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(_o))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(na,"Video");na.type="Video";var Cn=na;var sa=class extends Cn{constructor(e){super(e)}};n(sa,"VideoCard");sa.type="VideoCard";var xm=sa;var ra=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards,[mo,kn,mm,xm]),this.header=d.parseItem(e.header),this.previous_button=d.parseItem(e.previousButton,I),this.next_button=d.parseItem(e.nextButton,I)}};n(ra,"HorizontalCardList");ra.type="HorizontalCardList";var Mi=ra;var aa=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(aa,"Factoid");aa.type="Factoid";var Vi=aa;var ua=class extends a{constructor(e){super(),this.factoid=d.parseItem(e.factoid,Vi)}};n(ua,"UploadTimeFactoid");ua.type="UploadTimeFactoid";var gm=ua;var la=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=d.parseItem(e.factoid,[Vi]),this.view_count_type=e.viewCountType}};n(la,"ViewCountFactoid");la.type="ViewCountFactoid";var ym=la;var ca=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=b.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=d.parseArray(e.factoid,[Vi,ym,gm])}};n(ca,"VideoDescriptionHeader");ca.type="VideoDescriptionHeader";var bm=ca;var da=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=d.parseItem(e.creatorVideosButton,I),this.creator_about_button=d.parseItem(e.creatorAboutButton,I),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=b.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(da,"VideoDescriptionInfocardsSection");da.type="VideoDescriptionInfocardsSection";var wm=da;var pa=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(pa,"InfoRow");pa.type="InfoRow";var Tm=pa;var fa=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=b.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new O(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=d.parseArray(e.badges,nt),this.duration={text:new u(e.lengthText).toString(),seconds:Le(new u(e.lengthText).toString())},this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=d.parseItem(e.menu,U)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(fa,"CompactVideo");fa.type="CompactVideo";var En=fa;var ha=class extends a{constructor(e){super(),this.info_rows=d.parseArray(e.infoRows,Tm),this.video_lockup=d.parseItem(e.videoLockup,En)}};n(ha,"CarouselLockup");ha.type="CarouselLockup";var Sm=ha;var ma=class extends a{constructor(e){super(),this.carousel_lockups=d.parseArray(e.carouselLockups,Sm),this.section_title=new u(e.sectionTitle)}};n(ma,"VideoDescriptionMusicSection");ma.type="VideoDescriptionMusicSection";var Pn=ma;var _a=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=d.parseItem(e.primaryButton,I)}};n(_a,"VideoDescriptionTranscriptSection");_a.type="VideoDescriptionTranscriptSection";var va=_a;var xa=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(xa,"StructuredDescriptionPlaylistLockup");xa.type="StructuredDescriptionPlaylistLockup";var Im=xa;var ga=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=d.parseArray(e.mediaLockups,[Im])}};n(ga,"VideoDescriptionCourseSection");ga.type="VideoDescriptionCourseSection";var km=ga;var ya=class extends a{constructor(e){super(),this.items=d.parseArray(e.items,[bm,hm,Pn,wm,km,va,va,Mi])}};n(ya,"StructuredDescriptionContent");ya.type="StructuredDescriptionContent";var vo=ya;var ba=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,cm),this.content=d.parseItem(e.content,[Q,ke,vo,pm,fm]),this.panel_identifier=e.panelIdentifier,this.target_id=e.targetId,this.visibility=e.visibility}};n(ba,"EngagementPanelSectionList");ba.type="EngagementPanelSectionList";var Cm=ba;var wa=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(wa,"MusicMultiSelectMenuItem");wa.type="MusicMultiSelectMenuItem";var At=wa;var Em,Pm=class{constructor(e,i){var o,s,r,l,p,f;if(Em.set(this,void 0),i&&S(this,Em,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(o=e.colorInfo.primaries)===null||o===void 0?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(s=e.colorInfo.transferCharacteristics)===null||s===void 0?void 0:s.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(r=e.colorInfo.matrixCoefficients)===null||r===void 0?void 0:r.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let m=new URLSearchParams(this.cipher||this.signature_cipher),g=(l=new URLSearchParams(m.get("url")||this.url).get("xtags"))===null||l===void 0?void 0:l.split(":"),w=(p=g==null?void 0:g.find(T=>T.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((f=g==null?void 0:g.find(T=>T.startsWith("lang=")))===null||f===void 0?void 0:f.split("=")[1])||null,this.is_dubbed=w==="dubbed",this.is_descriptive=w==="descriptive",this.is_original=w==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new x("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,c(this,Em,"f"))}};n(Pm,"Format");Em=new WeakMap;var Nm=Pm;var Oi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=b.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};n(Oi,"VideoDetails");var lh={};L(lh,{AccountChannel:()=>Am,AccountItemSection:()=>Mm,AccountItemSectionHeader:()=>Rm,AccountSectionList:()=>Vm,AddBannerToLiveChatCommand:()=>Lw,AddChatItemAction:()=>G_,AddLiveChatTickerItemAction:()=>Fw,Alert:()=>In,AlertWithButton:()=>lm,AnalyticsMainAppKeyMetrics:()=>Qy,AnalyticsRoot:()=>Zy,AnalyticsShortsCarouselCard:()=>eb,AnalyticsVideo:()=>jm,AnalyticsVodCarouselCard:()=>tb,AnchoredSection:()=>a0,AppendContinuationItemsAction:()=>xo,AudioOnlyPlayability:()=>Zh,AuthorCommentBadge:()=>i_,AutomixPreviewVideo:()=>Di,BackstageImage:()=>Wm,BackstagePost:()=>Bi,BackstagePostThread:()=>nb,BrowseFeedActions:()=>Jm,BrowserMediaSession:()=>sb,Button:()=>I,C4TabbedHeader:()=>Mn,CallToActionButton:()=>rb,Card:()=>ab,CardCollection:()=>nm,CarouselHeader:()=>$m,CarouselItem:()=>ub,CarouselLockup:()=>Sm,Channel:()=>qm,ChannelAboutFullMetadata:()=>Xm,ChannelAgeGate:()=>lb,ChannelFeaturedContent:()=>cb,ChannelHeaderLinks:()=>Gm,ChannelHeaderLinksView:()=>zm,ChannelMetadata:()=>Qm,ChannelMobileHeader:()=>db,ChannelOptions:()=>Zm,ChannelSubMenu:()=>xu,ChannelThumbnailWithLink:()=>pb,ChannelVideoPlayer:()=>fb,Chapter:()=>e_,ChildVideo:()=>hb,ChipCloud:()=>ft,ChipCloudChip:()=>_e,CollaboratorInfoCardContent:()=>mb,CollageHeroImage:()=>_b,Comment:()=>Bn,CommentActionButtons:()=>An,CommentDialog:()=>rw,CommentReplies:()=>d_,CommentReplyDialog:()=>o_,CommentSimplebox:()=>m_,CommentThread:()=>__,CommentsEntryPointHeader:()=>h_,CommentsEntryPointTeaser:()=>f_,CommentsHeader:()=>Ln,CommentsSimplebox:()=>p_,CompactChannel:()=>aw,CompactLink:()=>Fn,CompactMix:()=>uw,CompactMovie:()=>lw,CompactPlaylist:()=>cw,CompactStation:()=>dw,CompactVideo:()=>En,ConfirmDialog:()=>pw,ContentPreviewImageView:()=>v_,ContinuationItem:()=>ke,ConversationBar:()=>fw,CopyLink:()=>x_,CreatePlaylistDialog:()=>tm,CreatorHeart:()=>Hm,CtaGoToCreatorStudio:()=>ib,DataModelSection:()=>Um,DecoratedPlayerBar:()=>w_,DefaultPromoPanel:()=>hw,DidYouMean:()=>T_,DimChatItemAction:()=>Yw,DownloadButton:()=>mw,Dropdown:()=>Sn,DropdownItem:()=>em,DynamicTextView:()=>S_,Element:()=>jn,EmergencyOnebox:()=>_w,EmojiPicker:()=>c_,EmojiPickerCategory:()=>vw,EmojiPickerCategoryButton:()=>xw,EmojiPickerUpsellCategory:()=>gw,EndScreenPlaylist:()=>k_,EndScreenVideo:()=>C_,Endscreen:()=>sm,EndscreenElement:()=>yw,EngagementPanelSectionList:()=>Cm,EngagementPanelTitleHeader:()=>cm,ExpandableMetadata:()=>vm,ExpandableTab:()=>Wn,ExpandableVideoDescriptionBody:()=>hm,ExpandedShelfContents:()=>bw,Factoid:()=>Vi,FancyDismissibleDialog:()=>ww,FeedFilterChipBar:()=>_i,FeedTabbedHeader:()=>E_,GameCard:()=>mm,GameDetails:()=>Tw,Grid:()=>wo,GridChannel:()=>P_,GridHeader:()=>Sw,GridMix:()=>Iw,GridMovie:()=>kw,GridPlaylist:()=>N_,GridShow:()=>Cw,GridVideo:()=>M_,GuideCollapsibleEntry:()=>Ew,GuideCollapsibleSectionEntry:()=>Pw,GuideDownloadsEntry:()=>Nw,GuideEntry:()=>To,GuideSection:()=>Hn,GuideSubscriptionsSection:()=>V_,HashtagHeader:()=>O_,HashtagTile:()=>Aw,HeatMarker:()=>g_,Heatmap:()=>y_,HeroPlaylistThumbnail:()=>Rw,HighlightsCarousel:()=>Jl,HistorySuggestion:()=>Mw,HorizontalCardList:()=>Mi,HorizontalList:()=>_m,HorizontalMovieList:()=>Vw,IconLink:()=>B_,IncludingResultsFor:()=>Ow,InfoPanelContainer:()=>Dw,InfoPanelContent:()=>L_,InfoRow:()=>Tm,InteractiveTabbedHeader:()=>F_,ItemSection:()=>ve,ItemSectionHeader:()=>Y_,ItemSectionTab:()=>U_,ItemSectionTabbedHeader:()=>j_,KidsBlocklistPicker:()=>D1,KidsBlocklistPickerItem:()=>is,KidsCategoriesHeader:()=>u0,KidsCategoryTab:()=>os,KidsHomeScreen:()=>l0,LikeButton:()=>Bw,LiveChat:()=>W_,LiveChatActionPanel:()=>K_,LiveChatAuthorBadge:()=>dT,LiveChatAutoModMessage:()=>Uw,LiveChatBanner:()=>J_,LiveChatBannerHeader:()=>H_,LiveChatBannerPoll:()=>jw,LiveChatDialog:()=>pT,LiveChatHeader:()=>ev,LiveChatItemList:()=>tv,LiveChatMembershipItem:()=>Ww,LiveChatMessageInput:()=>fT,LiveChatPaidMessage:()=>Hw,LiveChatPaidSticker:()=>Jw,LiveChatParticipant:()=>iv,LiveChatParticipantsList:()=>ov,LiveChatPlaceholderItem:()=>Gw,LiveChatProductItem:()=>zw,LiveChatRestrictedParticipation:()=>Kw,LiveChatTextMessage:()=>$w,LiveChatTickerPaidMessageItem:()=>z_,LiveChatTickerPaidStickerItem:()=>qw,LiveChatTickerSponsorItem:()=>Xw,LiveChatViewerEngagementMessage:()=>Qw,MacroMarkersInfoItem:()=>dm,MacroMarkersList:()=>pm,MacroMarkersListItem:()=>kn,MarkChatItemAsDeletedAction:()=>eT,MarkChatItemsByAuthorAsDeletedAction:()=>tT,Menu:()=>U,MenuNavigationItem:()=>nv,MenuPopup:()=>hT,MenuServiceItem:()=>Li,MenuServiceItemDownload:()=>mT,MerchandiseItem:()=>xT,MerchandiseShelf:()=>uv,Message:()=>He,MetadataBadge:()=>nt,MetadataRow:()=>gT,MetadataRowContainer:()=>lv,MetadataRowHeader:()=>yT,MetadataScreen:()=>bT,MicroformatData:()=>Xt,Mix:()=>wT,Movie:()=>TT,MovingThumbnail:()=>ST,MultiMarkersPlayerBar:()=>b_,MultiPageMenu:()=>_T,MultiPageMenuNotificationSection:()=>vT,MusicCardShelf:()=>fv,MusicCardShelfHeaderBasic:()=>cv,MusicCarouselShelf:()=>Pe,MusicCarouselShelfBasicHeader:()=>hv,MusicDescriptionShelf:()=>Io,MusicDetailHeader:()=>ko,MusicDownloadStateBadge:()=>VT,MusicEditablePlaylistDetailHeader:()=>xv,MusicElementHeader:()=>Vd,MusicHeader:()=>Yi,MusicImmersiveHeader:()=>gv,MusicInlineBadge:()=>dv,MusicItemThumbnailOverlay:()=>Qt,MusicLargeCardItemCarousel:()=>OT,MusicMenuItemDivider:()=>sv,MusicMultiRowListItem:()=>mv,MusicMultiSelectMenu:()=>rv,MusicMultiSelectMenuItem:()=>At,MusicNavigationButton:()=>Jn,MusicPlayButton:()=>pv,MusicPlaylistShelf:()=>Co,MusicQueue:()=>Kn,MusicResponsiveListItem:()=>Fi,MusicResponsiveListItemFixedColumn:()=>_v,MusicResponsiveListItemFlexColumn:()=>vv,MusicShelf:()=>ye,MusicSideAlignedItem:()=>bv,MusicSortFilterButton:()=>Kd,MusicTastebuilderShelf:()=>Tv,MusicTastebuilderShelfThumbnail:()=>wv,MusicThumbnail:()=>wt,MusicTwoRowItem:()=>zn,MusicVisualHeader:()=>Sv,NavigationEndpoint:()=>v,Notification:()=>Iv,OpenPopupAction:()=>im,PageHeader:()=>$n,PageHeaderView:()=>kv,PageIntroduction:()=>Cv,PdgCommentChip:()=>n_,PlayerAnnotationsExpanded:()=>rm,PlayerCaptionsTracklist:()=>am,PlayerControlsOverlay:()=>DT,PlayerErrorMessage:()=>BT,PlayerLegacyDesktopYpcOffer:()=>LT,PlayerLegacyDesktopYpcTrailer:()=>up,PlayerLiveStoryboardSpec:()=>um,PlayerMicroformat:()=>Dt,PlayerOverflow:()=>Ev,PlayerOverlay:()=>Ui,PlayerOverlayAutoplay:()=>Nv,PlayerStoryboardSpec:()=>ho,Playlist:()=>qt,PlaylistCustomThumbnail:()=>Yn,PlaylistHeader:()=>Rv,PlaylistInfoCardContent:()=>FT,PlaylistMetadata:()=>Mv,PlaylistPanel:()=>Zt,PlaylistPanelVideo:()=>vi,PlaylistPanelVideoWrapper:()=>yv,PlaylistSidebar:()=>YT,PlaylistSidebarPrimaryInfo:()=>Vv,PlaylistSidebarSecondaryInfo:()=>Ov,PlaylistVideo:()=>Dv,PlaylistVideoList:()=>UT,PlaylistVideoThumbnail:()=>Un,Poll:()=>jT,PollHeader:()=>Zw,Post:()=>Bv,PostMultiImage:()=>WT,ProductList:()=>fm,ProductListHeader:()=>HT,ProductListItem:()=>JT,ProfileColumn:()=>GT,ProfileColumnStats:()=>Lv,ProfileColumnStatsEntry:()=>zT,ProfileColumnUserInfo:()=>Fv,Quiz:()=>KT,RecognitionShelf:()=>$T,ReelItem:()=>Yv,ReelShelf:()=>Uv,RelatedChipCloud:()=>jv,RemoveBannerForLiveChatCommand:()=>iT,RemoveChatItemAction:()=>oT,RemoveChatItemByAuthorAction:()=>nT,ReplaceChatItemAction:()=>sT,ReplayChatItemAction:()=>rT,RichGrid:()=>ji,RichItem:()=>qT,RichListHeader:()=>XT,RichMetadata:()=>Fp,RichMetadataRow:()=>Up,RichSection:()=>QT,RichShelf:()=>Wv,SearchBox:()=>ZT,SearchFilter:()=>Hv,SearchFilterGroup:()=>qn,SearchFilterOptionsDialog:()=>e1,SearchHeader:()=>Jv,SearchRefinementCard:()=>mo,SearchSubMenu:()=>Gv,SearchSuggestion:()=>D_,SearchSuggestionsSection:()=>zv,SecondarySearchContainer:()=>t1,SectionList:()=>Q,SegmentedLikeDislikeButton:()=>Eo,SettingBoolean:()=>i1,SettingsCheckbox:()=>Kv,SettingsOptions:()=>Qn,SettingsSidebar:()=>$v,SettingsSwitch:()=>Xn,SharedPost:()=>qv,Shelf:()=>Zn,ShowCustomThumbnail:()=>A_,ShowLiveChatActionPanelAction:()=>aT,ShowLiveChatDialogAction:()=>uT,ShowLiveChatTooltipCommand:()=>lT,ShowingResultsFor:()=>Xv,SimpleCardContent:()=>o1,SimpleCardTeaser:()=>n1,SimpleMenuHeader:()=>av,SimpleTextSection:()=>s1,SingleActionEmergencySupport:()=>r1,SingleColumnBrowseResults:()=>ei,SingleColumnMusicWatchNextResults:()=>a1,SingleHeroImage:()=>u1,SlimOwner:()=>l1,SlimVideoMetadata:()=>Qv,SortFilterSubMenu:()=>Rt,SponsorCommentBadge:()=>s_,StatRow:()=>ob,StructuredDescriptionContent:()=>vo,StructuredDescriptionPlaylistLockup:()=>Im,SubFeedOption:()=>Zv,SubFeedSelector:()=>c1,SubscribeButton:()=>We,SubscriptionNotificationToggleButton:()=>Km,Tab:()=>xe,Tabbed:()=>d1,TabbedSearchResults:()=>e0,TextHeader:()=>p1,ThumbnailLandscapePortrait:()=>f1,ThumbnailOverlayBottomPanel:()=>R_,ThumbnailOverlayEndorsement:()=>h1,ThumbnailOverlayHoverText:()=>m1,ThumbnailOverlayInlineUnplayable:()=>_1,ThumbnailOverlayLoadingPreview:()=>v1,ThumbnailOverlayNowPlaying:()=>x1,ThumbnailOverlayPinking:()=>g1,ThumbnailOverlayPlaybackStatus:()=>y1,ThumbnailOverlayResumePlayback:()=>b1,ThumbnailOverlaySidePanel:()=>w1,ThumbnailOverlayTimeStatus:()=>_o,ThumbnailOverlayToggleButton:()=>T1,TimedMarkerDecoration:()=>S1,TitleAndButtonListHeader:()=>I1,ToggleButton:()=>Ve,ToggleMenuServiceItem:()=>k1,Tooltip:()=>C1,TopicChannelDetails:()=>E1,Transcript:()=>Nn,TranscriptFooter:()=>Om,TranscriptSearchBox:()=>Dm,TranscriptSearchPanel:()=>Ym,TranscriptSectionHeader:()=>Bm,TranscriptSegment:()=>Lm,TranscriptSegmentList:()=>Fm,TwoColumnBrowseResults:()=>ti,TwoColumnSearchResults:()=>t0,TwoColumnWatchNextResults:()=>es,UniversalWatchCard:()=>o0,UpdateDateTextAction:()=>$_,UpdateDescriptionAction:()=>q_,UpdateEngagementPanelAction:()=>Xy,UpdateLiveChatPollAction:()=>cT,UpdateTitleAction:()=>X_,UpdateToggleButtonTextAction:()=>Q_,UpdateViewershipAction:()=>Z_,UploadTimeFactoid:()=>gm,UpsellDialog:()=>P1,VerticalList:()=>N1,VerticalWatchCardList:()=>A1,Video:()=>Cn,VideoCard:()=>xm,VideoDescriptionCourseSection:()=>km,VideoDescriptionHeader:()=>bm,VideoDescriptionInfocardsSection:()=>wm,VideoDescriptionMusicSection:()=>Pn,VideoDescriptionTranscriptSection:()=>va,VideoInfoCardContent:()=>R1,VideoOwner:()=>ts,VideoPrimaryInfo:()=>n0,VideoSecondaryInfo:()=>qf,ViewCountFactoid:()=>ym,WatchCardCompactVideo:()=>s0,WatchCardHeroVideo:()=>M1,WatchCardRichHeader:()=>V1,WatchCardSectionSequence:()=>O1,WatchNextEndScreen:()=>Av,WatchNextTabbedResults:()=>r0,YpcTrailer:()=>Pv});var Ta=class extends a{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(Ta,"AccountChannel");Ta.type="AccountChannel";var Am=Ta;var Sa=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Sa,"AccountItemSectionHeader");Sa.type="AccountItemSectionHeader";var Rm=Sa;var Ia=class extends a{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=b.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(Ia,"AccountItem");Ia.type="AccountItem";var ka=class extends a{constructor(e){super(),this.contents=ae(e.contents.map(i=>new Ia(i.accountItem))),this.header=d.parseItem(e.header,Rm)}};n(ka,"AccountItemSection");ka.type="AccountItemSection";var Mm=ka;var Ca=class extends a{constructor(e){super(),this.contents=d.parseItem(e.contents[0],Mm),this.footers=d.parseItem(e.footers[0],Am)}};n(Ca,"AccountSectionList");Ca.type="AccountSectionList";var Vm=Ca;var Ea=class extends a{constructor(e){super(),this.contents=d.parseArray(e.continuationItems),this.target=e.target}};n(Ea,"AppendContinuationItemsAction");Ea.type="AppendContinuationItemsAction";var xo=Ea;var Pa=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,s;return{title:i.title,selected:i.selected,continuation:(s=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Pa,"SortFilterSubMenu");Pa.type="SortFilterSubMenu";var Rt=Pa;var Na=class extends a{constructor(e){super(),this.language_menu=d.parseItem(e.languageMenu,Rt)}};n(Na,"TranscriptFooter");Na.type="TranscriptFooter";var Om=Na;var Aa=class extends a{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=d.parseItem(e.clearButton,I),this.endpoint=new v(e.onTextChangeCommand),this.search_button=d.parseItem(e.searchButton,I)}};n(Aa,"TranscriptSearchBox");Aa.type="TranscriptSearchBox";var Dm=Aa;var Ra=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(Ra,"TranscriptSectionHeader");Ra.type="TranscriptSectionHeader";var Bm=Ra;var Ma=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(Ma,"TranscriptSegment");Ma.type="TranscriptSegment";var Lm=Ma;var Va=class extends a{constructor(e){super(),this.initial_segments=d.parseArray(e.initialSegments,[Lm,Bm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(Va,"TranscriptSegmentList");Va.type="TranscriptSegmentList";var Fm=Va;var Oa=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,Dm),this.body=d.parseItem(e.body,Fm),this.footer=d.parseItem(e.footer,Om),this.target_id=e.targetId}};n(Oa,"TranscriptSearchPanel");Oa.type="TranscriptSearchPanel";var Ym=Oa;var Da=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,Ym)}};n(Da,"Transcript");Da.type="Transcript";var Nn=Da;var Ba=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=d.parseItem(e.content,Nn)}};n(Ba,"UpdateEngagementPanelAction");Ba.type="UpdateEngagementPanelAction";var Xy=Ba;var La=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(La,"DataModelSection");La.type="DataModelSection";var Um=La;var Fa=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new Um(o))}};n(Fa,"AnalyticsMainAppKeyMetrics");Fa.type="AnalyticsMainAppKeyMetrics";var Qy=Fa;var Ya=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(Ya,"AnalyticsRoot");Ya.type="AnalyticsRoot";var Zy=Ya;var Ua=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(Ua,"AnalyticsShortsCarouselCard");Ua.type="AnalyticsShortsCarouselCard";var eb=Ua;var ja=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:b.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(ja,"AnalyticsVideo");ja.type="AnalyticsVideo";var jm=ja;var Wa=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new jm(i)))}};n(Wa,"AnalyticsVodCarouselCard");Wa.type="AnalyticsVodCarouselCard";var tb=Wa;var Ha=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(Ha,"CtaGoToCreatorStudio");Ha.type="CtaGoToCreatorStudio";var ib=Ha;var Ja=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(Ja,"StatRow");Ja.type="StatRow";var ob=Ja;var Ga=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(Ga,"AutomixPreviewVideo");Ga.type="AutomixPreviewVideo";var Di=Ga;var za=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.endpoint=new v(e.command)}};n(za,"BackstageImage");za.type="BackstageImage";var Wm=za;var Ka=class extends a{constructor(e){var i,o,s,r,l,p,f,m,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let g=((r=(s=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||s===void 0?void 0:s.accessibilityData)===null||r===void 0?void 0:r.label)||((p=(l=e==null?void 0:e.accessibilityData)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(g.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((_=(m=e.defaultServiceEndpoint)===null||m===void 0?void 0:m.commandExecutorCommand)===null||_===void 0)&&_.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(Ka,"ToggleButton");Ka.type="ToggleButton";var Ve=Ka;var $a=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=b.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n($a,"CreatorHeart");$a.type="CreatorHeart";var Hm=$a;var qa=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,Ve),this.dislike_button=d.parseItem(e.dislikeButton,Ve),this.reply_button=d.parseItem(e.replyButton,I),this.creator_heart=d.parseItem(e.creatorHeart,Hm)}};n(qa,"CommentActionButtons");qa.type="CommentActionButtons";var An=qa;var Xa=class extends a{constructor(e){super(),this.id=e.postId,this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=d.parseItem(e.actionMenu,U)),Reflect.has(e,"actionButtons")&&(this.action_buttons=d.parseItem(e.actionButtons,An)),Reflect.has(e,"voteButton")&&(this.vote_button=d.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=d.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(Xa,"BackstagePost");Xa.type="BackstagePost";var Bi=Xa;var Qa=class extends a{constructor(e){super(),this.post=d.parseItem(e.post)}};n(Qa,"BackstagePostThread");Qa.type="BackstagePostThread";var nb=Qa;var Za=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Za,"BrowseFeedActions");Za.type="BrowseFeedActions";var Jm=Za;var eu=class extends a{constructor(e){super(),this.album=new u(e.album),this.thumbnails=b.fromResponse(e.thumbnailDetails)}};n(eu,"BrowserMediaSession");eu.type="BrowserMediaSession";var sb=eu;var Rn=class extends a{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=b.fromResponse(e.icon),this.title=new u(e.title)}};n(Rn,"HeaderLink");Rn.type="HeaderLink";var tu=class extends a{constructor(e){var i,o;super(),this.primary=ae(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>new Rn(s)))||[]),this.secondary=ae(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(s=>new Rn(s)))||[])}};n(tu,"ChannelHeaderLinks");tu.type="ChannelHeaderLinks";var Gm=tu;var iu=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(iu,"ChannelHeaderLinksView");iu.type="ChannelHeaderLinksView";var zm=iu;var ou=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:d.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(ou,"SubscriptionNotificationToggleButton");ou.type="SubscriptionNotificationToggleButton";var Km=ou;var nu=class extends a{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=d.parseItem(e.notificationPreferenceButton,Km),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(nu,"SubscribeButton");nu.type="SubscribeButton";var We=nu;var su=class extends a{constructor(e){super(),this.author=new O({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=b.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=b.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=b.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=d.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=d.parseItem(e.subscribeButton,[We,I])),Reflect.has(e,"headerLinks")&&(this.header_links=d.parseItem(e.headerLinks,[Gm,zm])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId)}};n(su,"C4TabbedHeader");su.type="C4TabbedHeader";var Mn=su;var ru=class extends a{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(ru,"CallToActionButton");ru.type="CallToActionButton";var rb=ru;var au=class extends a{constructor(e){super(),this.teaser=d.parseItem(e.teaser),this.content=d.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(au,"Card");au.type="Card";var ab=au;var uu=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(uu,"CarouselHeader");uu.type="CarouselHeader";var $m=uu;var lu=class extends a{constructor(e){super(),this.items=d.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=b.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(lu,"CarouselItem");lu.type="CarouselItem";var ub=lu;var cu=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,[We,I]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};n(cu,"Channel");cu.type="Channel";var qm=cu;var du=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=b.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>({endpoint:new v(s.navigationEndpoint),icon:b.fromResponse(s.icon),title:new u(s.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=d.parseArray(e.actionButtons,I)}get views(){return this.view_count}get joined(){return this.joined_date}};n(du,"ChannelAboutFullMetadata");du.type="ChannelAboutFullMetadata";var Xm=du;var pu=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=b.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=$.parseItem(e.signInButton,I),this.secondary_text=new u(e.secondaryText)}};n(pu,"ChannelAgeGate");pu.type="ChannelAgeGate";var lb=pu;var fu=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=d.parseArray(e.items)}};n(fu,"ChannelFeaturedContent");fu.type="ChannelFeaturedContent";var cb=fu;var hu=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=b.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(hu,"ChannelMetadata");hu.type="ChannelMetadata";var Qm=hu;var mu=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(mu,"ChannelMobileHeader");mu.type="ChannelMobileHeader";var db=mu;var _u=class extends a{constructor(e){super(),this.avatar=b.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(_u,"ChannelOptions");_u.type="ChannelOptions";var Zm=_u;var vu=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=d.parseItem(e.sortSetting)}};n(vu,"ChannelSubMenu");vu.type="ChannelSubMenu";var xu=vu;var gu=class extends a{constructor(e){var i,o;super(),this.thumbnails=b.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(gu,"ChannelThumbnailWithLink");gu.type="ChannelThumbnailWithLink";var pb=gu;var yu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};n(yu,"ChannelVideoPlayer");yu.type="ChannelVideoPlayer";var fb=yu;var bu=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=b.fromResponse(e.thumbnail)}};n(bu,"Chapter");bu.type="Chapter";var e_=bu;var wu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Le(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(wu,"ChildVideo");wu.type="ChildVideo";var hb=wu;var Tu=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(Tu,"ChipCloudChip");Tu.type="ChipCloudChip";var _e=Tu;var Su=class extends a{constructor(e){super(),this.chips=d.parseArray(e.chips,_e),this.next_button=d.parseItem(e.nextButton,I),this.previous_button=d.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};n(Su,"ChipCloud");Su.type="ChipCloud";var ft=Su;var Iu=class extends a{constructor(e){super(),this.channel_avatar=b.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(Iu,"CollaboratorInfoCardContent");Iu.type="CollaboratorInfoCardContent";var mb=Iu;var ku=class extends a{constructor(e){super(),this.left=b.fromResponse(e.leftThumbnail),this.top_right=b.fromResponse(e.topRightThumbnail),this.bottom_right=b.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(ku,"CollageHeroImage");ku.type="CollageHeroImage";var _b=ku;var t_,Cu=class extends a{constructor(e){super(),t_.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,t_,e,"f")}get orig_badge(){return c(this,t_,"f")}};n(Cu,"AuthorCommentBadge");t_=new WeakMap;Cu.type="AuthorCommentBadge";var i_=Cu;var Eu=class extends a{constructor(e){super(),this.reply_button=d.parseItem(e.replyButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(Eu,"CommentReplyDialog");Eu.type="CommentReplyDialog";var o_=Eu;var Pu=class extends a{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Pu,"PdgCommentChip");Pu.type="PdgCommentChip";var n_=Pu;var Nu=class extends a{constructor(e){super(),this.custom_badge=b.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Nu,"SponsorCommentBadge");Nu.type="SponsorCommentBadge";var s_=Nu;var Mt={};L(Mt,{decodeVisitorData:()=>l_,encodeChannelAnalyticsParams:()=>wg,encodeCommentActionParams:()=>Au,encodeCommentParams:()=>Cg,encodeCommentsSectionParams:()=>kg,encodeCustomThumbnailPayload:()=>Ng,encodeHashtag:()=>Ag,encodeMessageParams:()=>Ig,encodeMusicSearchFilters:()=>Sg,encodeNotificationPref:()=>Eg,encodeSearchFilters:()=>Tg,encodeVideoMetadataPayload:()=>Pg,encodeVisitorData:()=>bg});var E;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(E||(E={}));var F=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+a_(hg(this),r_).toString(!1);let s=[],r=new F(i,o);for(;xI(r,_I);){let[l,p]=vI(r);s.push(p),r=l}return s.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new F(0);if(e.length<10)return i<0?a_(hg(new F(-i)),r_):new F(i);let s=new F,r=r_;for(let l of e.split("").reverse())parseInt(l)&&(s=a_(s,vb(new F(parseInt(l)),r))),r=vb(r,new F(10));return o?a_(hg(s),r_):s}};n(F,"Long");var _I=new F(0),r_=new F(1);function u_(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(u_,"makeChunk");function a_(t,e){let[i,o,s,r]=u_(t),[l,p,f,m]=u_(e),_=0,g=0,w=0,T=0;return T+=i+l,w+=T>>>16,T&=65535,w+=o+p,g+=w>>>16,w&=65535,g+=s+f,_+=g>>>16,g&=65535,_+=r+m,_&=65535,new F(w<<16|T,_<<16|g)}n(a_,"add");function vb(t,e){let[i,o,s,r]=u_(t),[l,p,f,m]=u_(e),_=0,g=0,w=0,T=0;return T+=i*l,w+=T>>>16,T&=65535,w+=i*p+o*l,g+=w>>>16,w&=65535,g+=i*f+s*l+o*p,_+=g>>>16,g&=65535,_+=i*m+o*f+s*p+r*l,_&=65535,new F(w<<16|T,_<<16|g)}n(vb,"mul");function vI(t){let[e,i]=t;return[new F((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(vI,"divByTen");function xI(t,e){let[i,o]=t,[s,r]=e;return o!==r?o-r:i-s}n(xI,"compare");function hg(t){let[e,i]=t;return new F(~e,~i)}n(hg,"negate");function Vn(t){let e=[],s=typeof t=="number"?new F(t):t;for(;s[0]||s[1];){let[r,l]=s,p=r&127,f=l>>>7,m=r>>>7|(l&127)<<32-7;s=new F(m,f);let _=s[0]||s[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Vn,"encode");function On(t){let e=new F(0),i=0;for(;;){let o=t.getUint8(i);if(e=gI(e,yI(new F(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(On,"decode");function gI(t,e){return new F(t[0]|e[0],t[1]|e[1])}n(gI,"or");function yI(t,e){return e===0?t:e>=32?new F(0,t[0]<<e-32):new F(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(yI,"leftshift");function P(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Vn(i<<3|o.type)),o.type){case E.Varint:e.push(Vn(o.value));break;case E.Fixed64:{let s=new Uint8Array(8),r=new DataView(s.buffer);r.setUint32(0,o.value[0],!0),r.setUint32(4,o.value[1],!0),e.push(s);break}case E.LengthDelimited:e.push(Vn(o.value.byteLength)),e.push(o.value);break;case E.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,o.value,!0),e.push(s);break}}}),mg(e)}n(P,"serialize");function mg(t){let e=t.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(e);return t.reduce((o,s)=>(i.set(s,o),o+s.byteLength),0),i}n(mg,"concat");function _g(t){if(t instanceof F){let e=new F(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new F(4294967295,4294967295):new F;return new F(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(_g,"encode");function vg(t){if(t instanceof F){let e=new F(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new F(4294967295,4294967295):new F;return new F(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(vg,"decode");var xg={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>vg(t[0]),sint64:t=>vg(t).toString(!0),bool:t=>t[0]!==0},gg={int32:t=>new F(t),int64:t=>F.parse(t),uint32:t=>new F(t),uint64:t=>F.parse(t),sint32:t=>_g(new F(t)),sint64:t=>_g(F.parse(t)),bool:t=>new F(+t)},bI=Object.fromEntries(Object.entries(xg).map(([t,e])=>[t,i=>{if(i.type===E.Varint)return e(i.value)}])),wI=Object.fromEntries(Object.entries(gg).map(([t,e])=>[t,i=>({type:E.Varint,value:e(i)})])),J=Object.assign(Object.assign({},bI),{double:t=>t.type!==E.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==E.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===E.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===E.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!0)},string:t=>t.type!==E.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===E.LengthDelimited)return t.value}}),k=Object.assign(Object.assign({},wI),{double:t=>{let e=new F;return new DataView(e.buffer).setFloat64(0,t,!0),{type:E.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:E.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:E.Fixed32,value:t>>>0}),fixed64:t=>({type:E.Fixed64,value:F.parse(t)}),sfixed32:t=>({type:E.Fixed32,value:t|0}),sfixed64:t=>({type:E.Fixed64,value:F.parse(t)}),string:t=>{let e=new TextEncoder;return{type:E.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:E.LengthDelimited,value:t})}),TI=Object.fromEntries(Object.keys(xg).map(t=>[t,function*(e){for(let i of e){let o=J[t](i);if(o!=null)yield o;else for(let s of CI(i))yield xg[t](s)}}])),NO=Object.assign(Object.assign({},TI),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*II(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*kI(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let o of xb(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let o of gb(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let o of xb(e))yield o|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let o of gb(e))yield o.toString(!0)}}}),SI=Object.fromEntries(Object.keys(gg).map(t=>[t,function(e){return{type:E.LengthDelimited,value:mg(e.map(i=>{let o=gg[t](i);return Vn(o)}))}}]));function Dn(t,e){return n(function(o){let s=new Uint8Array(o.length*t),r=new DataView(s.buffer);for(let l=0;l<o.length;++l)e(r,l*t,o[l]);return{type:E.LengthDelimited,value:s}},"pack")}n(Dn,"getFixedPackFn");var AO=Object.assign(Object.assign({},SI),{double:Dn(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Dn(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Dn(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Dn(8,(t,e,i)=>{let o=F.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Dn(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Dn(8,(t,e,i)=>{let o=F.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*II(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat64(i,!0);i+=4,yield s}}n(II,"unpackDouble");function*kI(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat32(i,!0);i+=4,yield s}}n(kI,"unpackFloat");function*CI(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let s=On(new DataView(e.buffer,o+i));i+=s[0],yield s[1]}}n(CI,"unpackVarint");function*xb(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4,yield s}}n(xb,"unpackFixed32");function*gb(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4;let r=o.getUint32(i,!0);i+=4,yield new F(s,r)}}n(gb,"unpackFixed64");function G(t){let e=0,i=t.byteOffset,o=[],s=new DataView(t.buffer,i);for(;e<t.length;){let r=On(new DataView(t.buffer,i+e)),l=r[1][0];e+=r[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case E.Varint:{let[g,w]=On(new DataView(t.buffer,i+e));o.push([f,{type:p,value:w}]),e+=g;break}case E.Fixed64:let m=s.getUint32(e,!0),_=s.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new F(m,_)}]);break;case E.LengthDelimited:{let[g,w]=On(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=g,e+=w[0])}]);break}case E.StartGroup:case E.EndGroup:o.push([f,{type:p}]);break;case E.Fixed32:o.push([f,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return o}n(G,"deserialize");function EI(){return{id:"",timestamp:0}}n(EI,"getDefaultValue");function yb(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,k.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,k.int32(i)])}return P(e)}n(yb,"encodeBinary");function bb(t){let e=EI(),i=G(t),o=new Map(i);e:{let s=o.get(1);if(s===void 0)break e;let r=J.string(s);if(r===void 0)break e;e.id=r}e:{let s=o.get(5);if(s===void 0)break e;let r=J.int32(s);if(r===void 0)break e;e.timestamp=r}return e}n(bb,"decodeBinary");function wb(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,k.string(i)])}return P(e)}n(wb,"encodeBinary");function Tb(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:E.LengthDelimited,value:wb(i)}])}return P(e)}n(Tb,"encodeBinary");function Sb(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,k.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,k.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,k.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,k.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,k.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,k.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,k.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,k.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,k.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,k.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,k.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,k.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,k.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,k.int32(i)])}return P(e)}n(Sb,"encodeBinary");function Ib(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,k.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:Sb(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,k.int32(i)])}return P(e)}n(Ib,"encodeBinary");function kb(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,k.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,k.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,k.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,k.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,k.int32(i)])}return P(e)}n(kb,"encodeBinary");function Cb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:E.LengthDelimited,value:kb(i)}])}return P(e)}n(Cb,"encodeBinary");function Eb(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:Cb(i)}])}return P(e)}n(Eb,"encodeBinary");function Pb(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}return P(e)}n(Pb,"encodeBinary");function Nb(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:E.LengthDelimited,value:Pb(i)}])}return P(e)}n(Nb,"encodeBinary");function Ab(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:E.LengthDelimited,value:Nb(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,k.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,k.int32(i)])}return P(e)}n(Ab,"encodeBinary");function Rb(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}return P(e)}n(Rb,"encodeBinary");function Mb(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,k.int32(i)])}return P(e)}n(Mb,"encodeBinary");function Vb(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,k.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:E.LengthDelimited,value:Mb(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,k.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,k.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,k.int32(i)])}return P(e)}n(Vb,"encodeBinary");function Ob(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,k.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,k.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,k.int32(i)])}return P(e)}n(Ob,"encodeBinary");function Db(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,k.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:E.LengthDelimited,value:Vb(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:E.LengthDelimited,value:Ob(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,k.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,k.string(i)])}return P(e)}n(Db,"encodeBinary");function Bb(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:E.LengthDelimited,value:Rb(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,k.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:E.LengthDelimited,value:Db(i)}])}return P(e)}n(Bb,"encodeBinary");function Lb(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,k.int32(i)])}return P(e)}n(Lb,"encodeBinary");function Fb(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:Lb(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,k.int32(i)])}return P(e)}n(Fb,"encodeBinary");function Yb(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return P(e)}n(Yb,"encodeBinary");function Ub(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:E.LengthDelimited,value:Yb(i)}])}return P(e)}n(Ub,"encodeBinary");function jb(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,k.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:E.LengthDelimited,value:Ub(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,k.string(i)])}return P(e)}n(jb,"encodeBinary");function Wb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,k.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,k.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,k.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:E.LengthDelimited,value:jb(i)}])}return P(e)}n(Wb,"encodeBinary");function Hb(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,k.int32(i)])}return P(e)}n(Hb,"encodeBinary");function Jb(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,k.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:E.LengthDelimited,value:Hb(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,k.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,k.int32(i)])}return P(e)}n(Jb,"encodeBinary");function Gb(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,k.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,k.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,k.string(i)])}return P(e)}n(Gb,"encodeBinary");function zb(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:E.LengthDelimited,value:Gb(i)}])}return P(e)}n(zb,"encodeBinary");function Kb(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return P(e)}n(Kb,"encodeBinary");function $b(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return P(e)}n($b,"encodeBinary");function qb(t){let e=[];for(let i of t.list)e.push([1,k.string(i)]);return P(e)}n(qb,"encodeBinary");function Xb(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,k.int32(i)])}return P(e)}n(Xb,"encodeBinary");function Qb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.string(i)])}return P(e)}n(Qb,"encodeBinary");function Zb(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,k.bytes(i)])}return P(e)}n(Zb,"encodeBinary");function ew(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:E.LengthDelimited,value:Zb(i)}])}return P(e)}n(ew,"encodeBinary");function tw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}return P(e)}n(tw,"encodeBinary");function iw(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,k.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,k.int32(i)])}return P(e)}n(iw,"encodeBinary");function ow(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,k.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,k.int32(i)])}return P(e)}n(ow,"encodeBinary");function yg(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:E.LengthDelimited,value:zb(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,k.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:E.LengthDelimited,value:Kb(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:E.LengthDelimited,value:$b(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:E.LengthDelimited,value:qb(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:E.LengthDelimited,value:Xb(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:E.LengthDelimited,value:Qb(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:E.LengthDelimited,value:ew(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:E.LengthDelimited,value:tw(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:E.LengthDelimited,value:iw(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:E.LengthDelimited,value:ow(i)}])}return P(e)}n(yg,"encodeBinary");function nw(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,k.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,k.int32(i)])}return P(e)}n(nw,"encodeBinary");function sw(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:E.LengthDelimited,value:nw(i)}])}return P(e)}n(sw,"encodeBinary");function bg(t,e){let i=yb({id:t,timestamp:e});return encodeURIComponent(bt(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(bg,"encodeVisitorData");function l_(t){return bb(Rg(decodeURIComponent(t)))}n(l_,"decodeVisitorData");function wg(t){let e=Tb({params:{channelId:t}});return encodeURIComponent(bt(e))}n(wg,"encodeChannelAnalyticsParams");function Tg(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},s={relevance:void 0,rating:1,upload_date:2,view_count:3},r={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},l={};if(t?l.filters={}:l.noFilter=0,l.filters&&(t.upload_date&&(l.filters.uploadDate=e[t.upload_date]),t.type&&(l.filters.type=i[t.type]),t.duration&&(l.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(l.sortBy=s[t.sort_by]),t.features))for(let f of t.features)l.filters[r[f]]=1;let p=Ib(l);return encodeURIComponent(bt(p))}n(Tg,"encodeSearchFilters");function Sg(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=Eb(i);return encodeURIComponent(bt(o))}n(Sg,"encodeMusicSearchFilters");function Ig(t,e){let i=Ab({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(bt(i)))}n(Ig,"encodeMessageParams");function kg(t,e={}){let o=Bb({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(bt(o))}n(kg,"encodeCommentsSectionParams");function Cg(t){let e=Fb({videoId:t,params:{index:0},number:7});return encodeURIComponent(bt(e))}n(Cg,"encodeCommentParams");function Au(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=Wb(i);return encodeURIComponent(bt(o))}n(Au,"encodeCommentActionParams");function Eg(t,e){let i=Jb({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(bt(i))}n(Eg,"encodeNotificationPref");function Pg(t,e){let i={context:{client:{unkparam:14,clientName:H.ANDROID.NAME,clientVersion:H.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),yg(i)}n(Pg,"encodeVideoMetadataPayload");function Ng(t,e){let i={context:{client:{unkparam:14,clientName:H.ANDROID.NAME,clientVersion:H.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return yg(i)}n(Ng,"encodeCustomThumbnailPayload");function Ag(t){let e=sw({params:{hashtag:t,type:1}});return encodeURIComponent(bt(e))}n(Ag,"encodeHashtag");var Vt,Ru=class extends a{constructor(e){var i,o,s,r,l,p,f;super(),Vt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=b.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=d.parseItem(e.sponsorCommentBadge,s_),this.paid_comment_chip=d.parseItem(e.paidCommentChipRenderer,n_),this.author_badge=d.parseItem(e.authorCommentBadge,i_),this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=d.parseItem(e.actionMenu,U),this.action_buttons=d.parseItem(e.actionButtons,An),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((l=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return y(this,void 0,void 0,function*(){if(!c(this,Vt,"f"))throw new x("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new x("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new x("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(c(this,Vt,"f"),{parse:!1})})}dislike(){var e;return y(this,void 0,void 0,function*(){if(!c(this,Vt,"f"))throw new x("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new x("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new x("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(c(this,Vt,"f"),{parse:!1})})}reply(e){var i,o,s;return y(this,void 0,void 0,function*(){if(!c(this,Vt,"f"))throw new x("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new x("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((s=r.endpoint)===null||s===void 0)&&s.dialog))throw new x("Reply button endpoint did not have a dialog.");let p=r.endpoint.dialog.as(o_).reply_button;if(!p)throw new x("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new x("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(c(this,Vt,"f"),{commentText:e})})}translate(e){var i,o,s,r,l,p;return y(this,void 0,void 0,function*(){if(!c(this,Vt,"f"))throw new x("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=Au(22,m),g=yield c(this,Vt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),w=(o=(i=g.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(l=(r=(s=w==null?void 0:w[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:T})})}setActions(e){S(this,Vt,e,"f")}};n(Ru,"Comment");Vt=new WeakMap;Ru.type="Comment";var Bn=Ru;var Mu=class extends a{constructor(e){super(),this.id=e.id,this.categories=d.parseArray(e.categories),this.category_buttons=d.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Mu,"EmojiPicker");Mu.type="EmojiPicker";var c_=Mu;var Vu=class extends a{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.submit_button=d.parseItem(e.submitButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.placeholder=new u(e.placeholderText),this.emoji_button=d.parseItem(e.emojiButton,I),this.emoji_picker=d.parseItem(e.emojiPicker,c_)}};n(Vu,"CommentDialog");Vu.type="CommentDialog";var rw=Vu;var Ou=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),this.view_replies=d.parseItem(e.viewReplies,I),this.hide_replies=d.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=b.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(Ou,"CommentReplies");Ou.type="CommentReplies";var d_=Ou;var Du=class extends a{constructor(e){super(),this.simplebox_avatar=b.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(Du,"CommentsSimplebox");Du.type="CommentsSimplebox";var p_=Du;var Bu=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=b.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(Bu,"CommentsEntryPointTeaser");Bu.type="CommentsEntryPointTeaser";var f_=Bu;var Lu=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=b.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=$.parseItem(e.contentRenderer,[f_,p_])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(Lu,"CommentsEntryPointHeader");Lu.type="CommentsEntryPointHeader";var h_=Lu;var Fu=class extends a{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=d.parseItem(e.createRenderer),this.sort_menu=d.parseItem(e.sortMenu,Rt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:b.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(Fu,"CommentsHeader");Fu.type="CommentsHeader";var Ln=Fu;var Yu=class extends a{constructor(e){super(),this.submit_button=d.parseItem(e.submitButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(Yu,"CommentSimplebox");Yu.type="CommentSimplebox";var m_=Yu;var mi,go,Uu=class extends a{constructor(e){super(),mi.set(this,void 0),go.set(this,void 0),this.comment=d.parseItem(e.comment,Bn),this.comment_replies_data=d.parseItem(e.replies,d_),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return y(this,void 0,void 0,function*(){if(!c(this,mi,"f"))throw new x("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new x("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(ke);if(!i)throw new x("Replies continuation not found.");let o=yield i.endpoint.call(c(this,mi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new x("Unexpected response.",o);return this.replies=ae(o.on_response_received_endpoints_memo.getType(Bn).map(s=>(s.setActions(c(this,mi,"f")),s))),S(this,go,o==null?void 0:o.on_response_received_endpoints_memo.getType(ke).first(),"f"),this})}getContinuation(){var e;return y(this,void 0,void 0,function*(){if(!this.replies)throw new x("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!c(this,go,"f"))throw new x("Continuation not found.");if(!c(this,mi,"f"))throw new x("Actions instance not set for this thread.");let i=(e=c(this,go,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new x('"Load more" button not found.');let o=yield i.endpoint.call(c(this,mi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new x("Unexpected response.",o);return this.replies=ae(o.on_response_received_endpoints_memo.getType(Bn).map(s=>(s.setActions(c(this,mi,"f")),s))),S(this,go,o.on_response_received_endpoints_memo.getType(ke).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new x("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!c(this,go,"f")}setActions(e){S(this,mi,e,"f")}};n(Uu,"CommentThread");mi=new WeakMap,go=new WeakMap;Uu.type="CommentThread";var __=Uu;var ju=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=b.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=b.fromResponse(e.tvBanner),this.menu=d.parseItem(e.menu,U)}};n(ju,"CompactChannel");ju.type="CompactChannel";var aw=ju;var Wu=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(Wu,"CompactLink");Wu.type="CompactLink";var Fn=Wu;var Hu=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(Hu,"PlaylistCustomThumbnail");Hu.type="PlaylistCustomThumbnail";var Yn=Hu;var Ju=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(Ju,"PlaylistVideoThumbnail");Ju.type="PlaylistVideoThumbnail";var Un=Ju;var Gu=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new O(e.longBylineText,e.ownerBadges,null),this.thumbnails=b.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=d.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=d.parseItem(e.menu),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer,[Un,Yn])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(Gu,"Playlist");Gu.type="Playlist";var qt=Gu;var zu=class extends qt{constructor(e){super(e)}};n(zu,"CompactMix");zu.type="CompactMix";var uw=zu;var Ku=class extends a{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.shortBylineText);let s=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:s,seconds:Le(s)},this.endpoint=new v(e.navigationEndpoint),this.badges=d.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=d.parseItem(e.menu,U)}};n(Ku,"CompactMovie");Ku.type="CompactMovie";var lw=Ku;var $u=class extends qt{constructor(e){super(e)}};n($u,"CompactPlaylist");$u.type="CompactPlaylist";var cw=$u;var qu=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=b.fromResponse(e.thumbnail)}};n(qu,"CompactStation");qu.type="CompactStation";var dw=qu;var Xu=class extends a{constructor(e){super(),this.title=new u(e.title),this.confirm_button=d.parseItem(e.confirmButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Xu,"ConfirmDialog");Xu.type="ConfirmDialog";var pw=Xu;var Qu=class extends a{constructor(e){super(),this.image=e.image.sources.map(i=>new b(i)).sort((i,o)=>o.width-i.width),this.style=e.style}};n(Qu,"ContentPreviewImageView");Qu.type="ContentPreviewImageView";var v_=Qu;var Zu=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(Zu,"Message");Zu.type="Message";var He=Zu;var el=class extends a{constructor(e){super(),this.availability_message=d.parseItem(e.availabilityMessage,He)}};n(el,"ConversationBar");el.type="ConversationBar";var fw=el;var tl=class extends a{constructor(e){super(),this.copy_button=d.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};n(tl,"CopyLink");tl.type="CopyLink";var x_=tl;var il=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(il,"HeatMarker");il.type="HeatMarker";var g_=il;var ol=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=d.parseArray(e.heatMarkers,g_),this.heat_markers_decorations=d.parseArray(e.heatMarkersDecorations)}};n(ol,"Heatmap");ol.type="Heatmap";var y_=ol;var nl=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=d.parseItem(e.value.heatmap,y_)),Reflect.has(e.value,"chapters")&&(this.value.chapters=d.parseArray(e.value.chapters,e_)))}};n(nl,"Marker");nl.type="Marker";var sl=class extends a{constructor(e){var i;super(),this.markers_map=ae(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new nl(o)))||[])}};n(sl,"MultiMarkersPlayerBar");sl.type="MultiMarkersPlayerBar";var b_=sl;var rl=class extends a{constructor(e){super(),this.player_bar=d.parseItem(e.playerBar,b_),this.player_bar_action_button=d.parseItem(e.playerBarActionButton,I)}};n(rl,"DecoratedPlayerBar");rl.type="DecoratedPlayerBar";var w_=rl;var al=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=d.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=d.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(al,"DefaultPromoPanel");al.type="DefaultPromoPanel";var hw=al;var ul=class extends a{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(ul,"DidYouMean");ul.type="DidYouMean";var T_=ul;var ll=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(ll,"DownloadButton");ll.type="DownloadButton";var mw=ll;var cl=class extends a{constructor(e){super(),this.text=e.text.content}};n(cl,"DynamicTextView");cl.type="DynamicTextView";var S_=cl;var yo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new yo(o)))}};n(yo,"ChildElement");yo.type="ChildElement";var I_=yo;var bo=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return d.parseItem(e,bo);let o=e.newElement.type.componentType;this.model=d.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ae(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(s=>new I_(s)))||[]))}};n(bo,"Element");bo.type="Element";var jn=bo;var dl=class extends a{constructor(e){super(),this.title=new u(e.title),this.first_option=d.parseItem(e.firstOption),this.menu=d.parseItem(e.menu,U)}};n(dl,"EmergencyOnebox");dl.type="EmergencyOnebox";var _w=dl;var pl=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(pl,"EmojiPickerCategory");pl.type="EmojiPickerCategory";var vw=pl;var fl=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(fl,"EmojiPickerCategoryButton");fl.type="EmojiPickerCategoryButton";var xw=fl;var hl=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(hl,"EmojiPickerUpsellCategory");hl.type="EmojiPickerUpsellCategory";var gw=hl;var ml=class extends a{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=b.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=b.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=d.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(ml,"EndscreenElement");ml.type="EndscreenElement";var yw=ml;var _l=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(_l,"EndScreenPlaylist");_l.type="EndScreenPlaylist";var k_=_l;var vl=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=d.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(vl,"EndScreenVideo");vl.type="EndScreenVideo";var C_=vl;var xl=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=d.parseItem(e.content)}};n(xl,"ExpandableTab");xl.type="ExpandableTab";var Wn=xl;var gl=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(gl,"ExpandedShelfContents");gl.type="ExpandedShelfContents";var bw=gl;var yl=class extends a{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(yl,"FancyDismissibleDialog");yl.type="FancyDismissibleDialog";var ww=yl;var bl=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents,_e)}};n(bl,"FeedFilterChipBar");bl.type="FeedFilterChipBar";var _i=bl;var wl=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(wl,"FeedTabbedHeader");wl.type="FeedTabbedHeader";var E_=wl;var Tl=class extends a{constructor(e){super(),this.title=new u(e.title),this.box_art=b.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Tl,"GameDetails");Tl.type="GameDetails";var Tw=Tl;var Sl=class extends a{constructor(e){var i,o,s;super(),this.items=d.parseArray(e.items),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};n(Sl,"Grid");Sl.type="Grid";var wo=Sl;var Il=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton)}};n(Il,"GridChannel");Il.type="GridChannel";var P_=Il;var kl=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(kl,"GridHeader");kl.type="GridHeader";var Sw=kl;var Cl=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(Cl,"GridMix");Cl.type="GridMix";var Iw=Cl;var El=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=d.parseArray(e.badges,nt),this.metadata=new u(e.metadata),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(El,"GridMovie");El.type="GridMovie";var kw=El;var Pl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new O(e.shortBylineText,e.ownerBadges)),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>b.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(Pl,"GridPlaylist");Pl.type="GridPlaylist";var N_=Pl;var Nl=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(Nl,"ShowCustomThumbnail");Nl.type="ShowCustomThumbnail";var A_=Nl;var Al=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Al,"ThumbnailOverlayBottomPanel");Al.type="ThumbnailOverlayBottomPanel";var R_=Al;var Rl=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=oe(e.thumbnailRenderer,A_),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Je(e.thumbnailOverlays,R_),this.author=new O(e.shortBylineText,void 0)}};n(Rl,"GridShow");Rl.type="GridShow";var Cw=Rl;var Ml=class extends a{constructor(e){var i,o;super();let s=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.rich_thumbnail=d.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):s!=null&&s.text?new u(s.text):null,this.author=e.shortBylineText&&new O(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=d.parseItem(e.menu,U),Reflect.has(e,"buttons")&&(this.buttons=d.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(Ml,"GridVideo");Ml.type="GridVideo";var M_=Ml;var Vl=class extends a{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=b.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(Vl,"GuideEntry");Vl.type="GuideEntry";var To=Vl;var Ol=class extends a{constructor(e){super(),this.expander_item=oe(e.expanderItem,To),this.collapser_item=oe(e.collapserItem,To),this.expandable_items=Je(e.expandableItems)}};n(Ol,"GuideCollapsibleEntry");Ol.type="GuideCollapsibleEntry";var Ew=Ol;var Dl=class extends a{constructor(e){super(),this.header_entry=oe(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Je(e.sectionItems)}};n(Dl,"GuideCollapsibleSectionEntry");Dl.type="GuideCollapsibleSectionEntry";var Pw=Dl;var Bl=class extends To{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(Bl,"GuideDownloadsEntry");Bl.type="GuideDownloadsEntry";var Nw=Bl;var Ll=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Je(e.items)}};n(Ll,"GuideSection");Ll.type="GuideSection";var Hn=Ll;var Fl=class extends Hn{};n(Fl,"GuideSubscriptionsSection");Fl.type="GuideSubscriptionsSection";var V_=Fl;var Yl=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(Yl,"HashtagHeader");Yl.type="HashtagHeader";var O_=Yl;var Ul=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=b.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(Ul,"HashtagTile");Ul.type="HashtagTile";var Aw=Ul;var jl=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(jl,"HeroPlaylistThumbnail");jl.type="HeroPlaylistThumbnail";var Rw=jl;var Wl=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(Wl,"Panel");Wl.type="Panel";var Hl=class extends a{constructor(e){super(),this.panels=ae(e.highlightsCarousel.panels.map(i=>new Wl(i)))}};n(Hl,"HighlightsCarousel");Hl.type="HighlightsCarousel";var Jl=Hl;var Gl=class extends a{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(Gl,"SearchSuggestion");Gl.type="SearchSuggestion";var D_=Gl;var zl=class extends D_{constructor(e){super(e)}};n(zl,"HistorySuggestion");zl.type="HistorySuggestion";var Mw=zl;var Kl=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.previous_button=d.parseItem(e.previousButton,I),this.next_button=d.parseItem(e.nextButton,I)}get contents(){return this.items}};n(Kl,"HorizontalMovieList");Kl.type="HorizontalMovieList";var Vw=Kl;var $l=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n($l,"IconLink");$l.type="IconLink";var B_=$l;var ql=class extends a{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};n(ql,"IncludingResultsFor");ql.type="IncludingResultsFor";var Ow=ql;var Xl=class extends a{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=b.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(Xl,"InfoPanelContent");Xl.type="InfoPanelContent";var L_=Xl;var Ql=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.menu=d.parseItem(e.menu,U),this.content=d.parseItem(e.content,L_),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(Ql,"InfoPanelContainer");Ql.type="InfoPanelContainer";var Dw=Ql;var Zl=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=d.parseArray(e.badges,nt),this.box_art=b.fromResponse(e.boxArt),this.banner=b.fromResponse(e.banner),this.buttons=d.parseArray(e.buttons,[We,I]),this.auto_generated=new u(e.autoGenerated)}};n(Zl,"InteractiveTabbedHeader");Zl.type="InteractiveTabbedHeader";var F_=Zl;var ec=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(ec,"ItemSectionHeader");ec.type="ItemSectionHeader";var Y_=ec;var tc=class extends a{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(tc,"ItemSectionTab");tc.type="Tab";var U_=tc;var ic=class extends a{constructor(e){super(),this.title=new u(e.title),this.tabs=d.parseArray(e.tabs,U_),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(ic,"ItemSectionTabbedHeader");ic.type="ItemSectionTabbedHeader";var j_=ic;var oc=class extends a{constructor(e){var i,o,s;super(),this.header=d.parseItem(e.header,[Ln,Y_,j_]),this.contents=d.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(oc,"ItemSection");oc.type="ItemSection";var ve=oc;var nc=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(nc,"LikeButton");nc.type="LikeButton";var Bw=nc;var sc=class extends a{constructor(e){var i,o;super(),this.header=d.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(sc,"LiveChat");sc.type="LiveChat";var W_=sc;var rc=class extends a{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=d.parseItem(e.contextMenuButton,I)}};n(rc,"LiveChatBannerHeader");rc.type="LiveChatBannerHeader";var H_=rc;var ac=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,H_),this.contents=d.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(ac,"LiveChatBanner");ac.type="LiveChatBanner";var J_=ac;var uc=class extends a{constructor(e){super(),this.banner=d.parseItem(e.bannerRenderer,J_)}};n(uc,"AddBannerToLiveChatCommand");uc.type="AddBannerToLiveChatCommand";var Lw=uc;var lc=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(lc,"AddChatItemAction");lc.type="AddChatItemAction";var G_=lc;var cc=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),this.duration_sec=e.durationSec}};n(cc,"AddLiveChatTickerItemAction");cc.type="AddLiveChatTickerItemAction";var Fw=cc;var dc=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(dc,"DimChatItemAction");dc.type="DimChatItemAction";var Yw=dc;var pc=class extends a{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=d.parseArray(e.moderationButtons,I),this.auto_moderated_item=d.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(pc,"LiveChatAutoModMessage");pc.type="LiveChatAutoModMessage";var Uw=pc;var fc=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=b.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=d.parseItem(e.contextMenuButton,I)}};n(fc,"LiveChatBannerPoll");fc.type="LiveChatBannerPoll";var jw=fc;var hc=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(hc,"LiveChatMembershipItem");hc.type="LiveChatMembershipItem";var Ww=hc;var mc=class extends a{constructor(e){super(),this.message=new u(e.message),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(mc,"LiveChatPaidMessage");mc.type="LiveChatPaidMessage";var Hw=mc;var _c=class extends a{constructor(e){super(),this.id=e.id,this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=b.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(_c,"LiveChatPaidSticker");_c.type="LiveChatPaidSticker";var Jw=_c;var vc=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(vc,"LiveChatPlaceholderItem");vc.type="LiveChatPlaceholderItem";var Gw=vc;var xc=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=b.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=d.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=b.fromResponse(e.authorPhoto),this.information_dialog=d.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(xc,"LiveChatProductItem");xc.type="LiveChatProductItem";var zw=xc;var gc=class extends a{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(gc,"LiveChatRestrictedParticipation");gc.type="LiveChatRestrictedParticipation";var Kw=gc;var So=class extends a{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=d.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(So,"LiveChatMessageBase");So.type="LiveChatMessageBase";var yc=class extends So{constructor(e){super(e),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(yc,"LiveChatTextMessage");yc.type="LiveChatTextMessage";var $w=yc;var bc=class extends a{constructor(e){var i,o;super(),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=d.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(bc,"LiveChatTickerPaidMessageItem");bc.type="LiveChatTickerPaidMessageItem";var z_=bc;var wc=class extends z_{};n(wc,"LiveChatTickerPaidStickerItem");wc.type="LiveChatTickerPaidStickerItem";var qw=wc;var Tc=class extends a{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new O(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Tc,"LiveChatTickerSponsorItem");Tc.type="LiveChatTickerSponsorItem";var Xw=Tc;var Sc=class extends So{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=d.parseItem(e.actionButton)}};n(Sc,"LiveChatViewerEngagementMessage");Sc.type="LiveChatViewerEngagementMessage";var Qw=Sc;var Ic=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=b.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=d.parseItem(e.contextMenuButton,I)}};n(Ic,"PollHeader");Ic.type="PollHeader";var Zw=Ic;var kc=class extends a{constructor(e){super(),this.id=e.id,this.contents=d.parse(e.contents),this.target_id=e.targetId}};n(kc,"LiveChatActionPanel");kc.type="LiveChatActionPanel";var K_=kc;var Cc=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Cc,"MarkChatItemAsDeletedAction");Cc.type="MarkChatItemAsDeletedAction";var eT=Cc;var Ec=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Ec,"MarkChatItemsByAuthorAsDeletedAction");Ec.type="MarkChatItemsByAuthorAsDeletedAction";var tT=Ec;var Pc=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Pc,"RemoveBannerForLiveChatCommand");Pc.type="RemoveBannerForLiveChatCommand";var iT=Pc;var Nc=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Nc,"RemoveChatItemAction");Nc.type="RemoveChatItemAction";var oT=Nc;var Ac=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(Ac,"RemoveChatItemByAuthorAction");Ac.type="RemoveChatItemByAuthorAction";var nT=Ac;var Rc=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=d.parseItem(e.replacementItem)}};n(Rc,"ReplaceChatItemAction");Rc.type="ReplaceChatItemAction";var sT=Rc;var Mc=class extends a{constructor(e){var i;super(),this.actions=d.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(Mc,"ReplayChatItemAction");Mc.type="ReplayChatItemAction";var rT=Mc;var Vc=class extends a{constructor(e){super(),this.panel_to_show=d.parseItem(e.panelToShow,K_)}};n(Vc,"ShowLiveChatActionPanelAction");Vc.type="ShowLiveChatActionPanelAction";var aT=Vc;var Oc=class extends a{constructor(e){super(),this.dialog=d.parseItem(e.dialog)}};n(Oc,"ShowLiveChatDialogAction");Oc.type="ShowLiveChatDialogAction";var uT=Oc;var Dc=class extends a{constructor(e){super(),this.tooltip=d.parseItem(e.tooltip)}};n(Dc,"ShowLiveChatTooltipCommand");Dc.type="ShowLiveChatTooltipCommand";var lT=Dc;var Bc=class extends a{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(Bc,"UpdateDateTextAction");Bc.type="UpdateDateTextAction";var $_=Bc;var Lc=class extends a{constructor(e){super(),this.description=new u(e.description)}};n(Lc,"UpdateDescriptionAction");Lc.type="UpdateDescriptionAction";var q_=Lc;var Fc=class extends a{constructor(e){super(),this.poll_to_update=d.parseItem(e.pollToUpdate)}};n(Fc,"UpdateLiveChatPollAction");Fc.type="UpdateLiveChatPollAction";var cT=Fc;var Yc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Yc,"UpdateTitleAction");Yc.type="UpdateTitleAction";var X_=Yc;var Uc=class extends a{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(Uc,"UpdateToggleButtonTextAction");Uc.type="UpdateToggleButtonTextAction";var Q_=Uc;var jc=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(jc,"UpdateViewershipAction");jc.type="UpdateViewershipAction";var Z_=jc;var Wc=class extends nt{constructor(e){super(e),this.custom_thumbnail=b.fromResponse(e.customThumbnail)}};n(Wc,"LiveChatAuthorBadge");Wc.type="LiveChatAuthorBadge";var dT=Wc;var Hc=class extends a{constructor(e){super(),this.confirm_button=d.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Hc,"LiveChatDialog");Hc.type="LiveChatDialog";var pT=Hc;var Jc=class extends a{constructor(e){super(),this.overflow_menu=d.parseItem(e.overflowMenu,U),this.collapse_button=d.parseItem(e.collapseButton,I),this.view_selector=d.parseItem(e.viewSelector,Rt)}};n(Jc,"LiveChatHeader");Jc.type="LiveChatHeader";var ev=Jc;var Gc=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=d.parseItem(e.moreCommentsBelowButton,I)}};n(Gc,"LiveChatItemList");Gc.type="LiveChatItemList";var tv=Gc;var zc=class extends a{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=b.fromResponse(e.authorPhoto),this.send_button=d.parseItem(e.sendButton,I),this.target_id=e.targetId}};n(zc,"LiveChatMessageInput");zc.type="LiveChatMessageInput";var fT=zc;var Kc=class extends a{constructor(e){super(),this.name=new u(e.authorName),this.photo=b.fromResponse(e.authorPhoto),this.badges=d.parseArray(e.authorBadges)}};n(Kc,"LiveChatParticipant");Kc.type="LiveChatParticipant";var iv=Kc;var $c=class extends a{constructor(e){super(),this.title=new u(e.title),this.participants=d.parseArray(e.participants,iv)}};n($c,"LiveChatParticipantsList");$c.type="LiveChatParticipantsList";var ov=$c;var qc=class extends I{constructor(e){super(e)}};n(qc,"MenuNavigationItem");qc.type="MenuNavigationItem";var nv=qc;var Xc=class extends I{constructor(e){super(e)}};n(Xc,"MenuServiceItem");Xc.type="MenuServiceItem";var Li=Xc;var Qc=class extends a{constructor(e){super(),this.items=d.parseArray(e.items,[nv,Li])}};n(Qc,"MenuPopup");Qc.type="MenuPopup";var hT=Qc;var Zc=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(Zc,"MenuServiceItemDownload");Zc.type="MenuServiceItemDownload";var mT=Zc;var ed=class extends a{constructor(e){super(),this.header=d.parse(e.header),this.sections=d.parse(e.sections),this.style=e.style}};n(ed,"MultiPageMenu");ed.type="MultiPageMenu";var _T=ed;var td=class extends a{constructor(e){super(),this.items=d.parse(e.items)}get contents(){return this.items}};n(td,"MultiPageMenuNotificationSection");td.type="MultiPageMenuNotificationSection";var vT=td;var id=class extends a{constructor(e){super()}};n(id,"MusicMenuItemDivider");id.type="MusicMenuItemDivider";var sv=id;var od=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=d.parseArray(e.options,[At,sv])}};n(od,"MusicMultiSelectMenu");od.type="MusicMultiSelectMenu";var rv=od;var nd=class extends a{constructor(e){super(),this.title=new u(e.title),this.buttons=d.parse(e.buttons)}};n(nd,"SimpleMenuHeader");nd.type="SimpleMenuHeader";var av=nd;var sd=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=b.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(sd,"MerchandiseItem");sd.type="MerchandiseItem";var xT=sd;var rd=class extends a{constructor(e){super(),this.title=e.title,this.menu=d.parseItem(e.actionButton),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(rd,"MerchandiseShelf");rd.type="MerchandiseShelf";var uv=rd;var ad=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(ad,"MetadataRow");ad.type="MetadataRow";var gT=ad;var ud=class extends a{constructor(e){super(),this.rows=d.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(ud,"MetadataRowContainer");ud.type="MetadataRowContainer";var lv=ud;var ld=class extends a{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(ld,"MetadataRowHeader");ld.type="MetadataRowHeader";var yT=ld;var cd=class extends a{constructor(e){super(),this.section_list=d.parseItem(e)}};n(cd,"MetadataScreen");cd.type="MetadataScreen";var bT=cd;var dd=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=b.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(dd,"MicroformatData");dd.type="MicroformatData";var Xt=dd;var pd=class extends qt{constructor(e){super(e)}};n(pd,"Mix");pd.type="Mix";var wT=pd;var fd=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.longBylineText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(r).toString(),seconds:Le(e.lengthText?new u(e.lengthText).toString():new u(r).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=d.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=d.parseItem(e.menu,U)}};n(fd,"Movie");fd.type="Movie";var TT=fd;var hd=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new b(o)).sort((o,s)=>s.width-o.width)}};n(hd,"MovingThumbnail");hd.type="MovingThumbnail";var ST=hd;var md=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(md,"MusicCardShelfHeaderBasic");md.type="MusicCardShelfHeaderBasic";var cv=md;var _d=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(_d,"MusicInlineBadge");_d.type="MusicInlineBadge";var dv=_d;var vd=class extends a{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(vd,"MusicPlayButton");vd.type="MusicPlayButton";var pv=vd;var xd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,pv),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(xd,"MusicItemThumbnailOverlay");xd.type="MusicItemThumbnailOverlay";var Qt=xd;var gd=class extends a{constructor(e){super(),this.contents=b.fromResponse(e.thumbnail)}};n(gd,"MusicThumbnail");gd.type="MusicThumbnail";var wt=gd;var yd=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,wt),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=d.parseArray(e.buttons,I),this.menu=d.parseItem(e.menu,U),this.on_tap=new v(e.onTap),this.header=d.parseItem(e.header,cv),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=d.parseArray(e.subtitleBadges,dv),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Qt),Reflect.has(e,"contents")&&(this.contents=d.parseArray(e.contents))}};n(yd,"MusicCardShelf");yd.type="MusicCardShelf";var fv=yd;var bd=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=d.parseItem(e.thumbnail,wt)),Reflect.has(e,"moreContentButton")&&(this.more_content=d.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=d.parseArray(e.endIcons,B_))}};n(bd,"MusicCarouselShelfBasicHeader");bd.type="MusicCarouselShelfBasicHeader";var hv=bd;var wd=class extends a{constructor(e){super(),this.thumbnail=$.parseItem(e.thumbnail,wt),this.overlay=$.parseItem(e.overlay,Qt),this.on_tap=new v(e.onTap),this.menu=$.parseItem(e.menu,U),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(wd,"MusicMultiRowListItem");wd.type="MusicMultiRowListItem";var mv=wd;var Td=class extends a{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};n(Td,"MusicNavigationButton");Td.type="MusicNavigationButton";var Jn=Td;var Sd=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Sd,"MusicResponsiveListItemFixedColumn");Sd.type="musicResponsiveListItemFlexColumnRenderer";var _v=Sd;var Id=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Id,"MusicResponsiveListItemFlexColumn");Id.type="MusicResponsiveListItemFlexColumn";var vv=Id;var Ot,Gn,CT,ET,IT,kT,PT,NT,AT,RT,MT,kd=class extends a{constructor(e){var i,o,s,r,l,p;super(),Ot.add(this),Gn.set(this,void 0),this.flex_columns=d.parseArray(e.flexColumns,vv),this.fixed_columns=d.parseArray(e.fixedColumns,_v),S(this,Gn,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let f=(p=(l=(r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(_=>{var g,w,T,C;return((C=(T=(w=(g=_.title.endpoint)===null||g===void 0?void 0:g.payload)===null||w===void 0?void 0:w.browseEndpointContextSupportedConfigs)===null||T===void 0?void 0:T.browseEndpointContextMusicConfig)===null||C===void 0?void 0:C.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",c(this,Ot,"m",RT).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",c(this,Ot,"m",MT).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",c(this,Ot,"m",PT).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",c(this,Ot,"m",NT).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",c(this,Ot,"m",AT).call(this);break;default:this.flex_columns[1]?c(this,Ot,"m",ET).call(this):c(this,Ot,"m",CT).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=d.parseItem(e.thumbnail,wt)),Reflect.has(e,"badges")&&(this.badges=d.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=d.parseItem(e.menu,U)),Reflect.has(e,"overlay")&&(this.overlay=d.parseItem(e.overlay,Qt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(kd,"MusicResponsiveListItem");Gn=new WeakMap,Ot=new WeakSet,CT=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),ET=n(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.some(s=>s.text.match(/(.*?) views/)))?(this.item_type="video",c(this,Ot,"m",kT).call(this)):(this.item_type="song",c(this,Ot,"m",IT).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),IT=n(function(){var e,i,o,s,r,l,p,f,m,_,g,w,T,C,N;this.id=c(this,Gn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let R=((r=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(z=>/^\d+$/.test(z.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.title)===null||p===void 0?void 0:p.toString());R&&(this.duration={text:R,seconds:Le(R)});let V=((m=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(z=>qe(z)&&z.endpoint&&z.endpoint.payload.browseId.startsWith("MPR")))||((g=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.title.runs)===null||g===void 0?void 0:g.find(z=>qe(z)&&z.endpoint&&z.endpoint.payload.browseId.startsWith("MPR")));V&&qe(V)&&(this.album={id:(T=(w=V.endpoint)===null||w===void 0?void 0:w.payload)===null||T===void 0?void 0:T.browseId,name:V.text,endpoint:V.endpoint});let q=(N=(C=this.flex_columns.at(1))===null||C===void 0?void 0:C.title.runs)===null||N===void 0?void 0:N.filter(z=>qe(z)&&z.endpoint&&z.endpoint.payload.browseId.startsWith("UC"));q&&(this.artists=q.map(z=>{var me,ge;return{name:z.text,channel_id:qe(z)?(ge=(me=z.endpoint)===null||me===void 0?void 0:me.payload)===null||ge===void 0?void 0:ge.browseId:void 0,endpoint:qe(z)?z.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),kT=n(function(){var e,i,o,s,r,l,p,f,m,_;this.id=c(this,Gn,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(T=>T.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let g=(r=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||r===void 0?void 0:r.filter(T=>qe(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));g&&(this.authors=g.map(T=>{var C,N;return{name:T.text,channel_id:qe(T)?(N=(C=T.endpoint)===null||C===void 0?void 0:C.payload)===null||N===void 0?void 0:N.browseId:void 0,endpoint:qe(T)?T.endpoint:void 0}}));let w=((p=(l=this.flex_columns[1].title.runs)===null||l===void 0?void 0:l.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);w&&(this.duration={text:w,seconds:Le(w)})},"_MusicResponsiveListItem_parseVideo"),PT=n(function(){var e,i,o,s,r,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((l=(r=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||r===void 0?void 0:r.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),NT=n(function(){var e,i,o,s;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((s=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),AT=n(function(){var e,i;this.id=c(this,Gn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),RT=n(function(){var e,i,o,s,r,l,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(g=>qe(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));_&&qe(_)&&(this.author={name:_.text,channel_id:(l=(r=_.endpoint)===null||r===void 0?void 0:r.payload)===null||l===void 0?void 0:l.browseId,endpoint:_.endpoint}),this.year=(m=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(g=>/^[12][0-9]{3}$/.test(g.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),MT=n(function(){var e,i,o,s,r,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let _=(l=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||l===void 0?void 0:l.find(g=>qe(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));_&&qe(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");kd.type="MusicResponsiveListItem";var Fi=kd;var Cd=class extends a{constructor(e){var i,o,s,r,l,p,f,m,_,g,w,T,C,N,R,V,q,z,me,ge,Te,Se;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new u(e.subtitle),this.badges=d.parse(e.subtitleBadges),(m=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((g=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||g===void 0?void 0:g.api_url)==="/next"?this.item_type="endpoint":!((w=this.subtitle.runs)===null||w===void 0)&&w[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((C=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find(K=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(K.text)))===null||C===void 0?void 0:C.text)||"";else if(this.item_type=="playlist"){let K=(N=this.subtitle.runs)===null||N===void 0?void 0:N.find(W=>W.text.match(/\d+ songs|song/));this.item_count=K?K.text:null}else if(this.item_type=="album"){let K=(R=this.subtitle.runs)===null||R===void 0?void 0:R.filter(W=>{var X,ie;return(ie=(X=W.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});K&&(this.artists=K.map(W=>{var X,ie;return{name:W.text,channel_id:(ie=(X=W.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:W.endpoint}})),this.year=(V=this.subtitle.runs)===null||V===void 0?void 0:V.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((z=(q=this===null||this===void 0?void 0:this.subtitle.runs)===null||q===void 0?void 0:q.find(W=>W==null?void 0:W.text.match(/(.*?) views/)))===null||z===void 0?void 0:z.text)||"N/A";let K=(me=this.subtitle.runs)===null||me===void 0?void 0:me.find(W=>{var X,ie,Re;return(Re=(ie=(X=W.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId)===null||Re===void 0?void 0:Re.startsWith("UC")});K&&(this.author={name:K==null?void 0:K.text,channel_id:(Te=(ge=K==null?void 0:K.endpoint)===null||ge===void 0?void 0:ge.payload)===null||Te===void 0?void 0:Te.browseId,endpoint:K==null?void 0:K.endpoint})}else if(this.item_type=="song"){let K=(Se=this.subtitle.runs)===null||Se===void 0?void 0:Se.filter(W=>{var X,ie;return(ie=(X=W.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});K&&(this.artists=K.map(W=>{var X,ie;return{name:W==null?void 0:W.text,channel_id:(ie=(X=W==null?void 0:W.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:W==null?void 0:W.endpoint}}))}this.thumbnail=b.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Qt),this.menu=d.parseItem(e.menu,U)}};n(Cd,"MusicTwoRowItem");Cd.type="MusicTwoRowItem";var zn=Cd;var Ed=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,hv),this.contents=d.parseArray(e.contents,[zn,Fi,mv,Jn]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Ed,"MusicCarouselShelf");Ed.type="MusicCarouselShelf";var Pe=Ed;var Pd=class extends a{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(Pd,"MusicDescriptionShelf");Pd.type="MusicDescriptionShelf";var Io=Pd;var Nd=class extends a{constructor(e){var i,o,s,r,l,p,f,m,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(w=>/^[12][0-9]{3}$/.test(w.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((r=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=b.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=d.parseArray(e.subtitleBadges);let g=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(w=>{var T,C;return(C=(T=w==null?void 0:w.endpoint)===null||T===void 0?void 0:T.payload)===null||C===void 0?void 0:C.browseId.startsWith("UC")});g&&(this.author={name:g.text,channel_id:(_=(m=g.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId,endpoint:g.endpoint}),this.menu=d.parseItem(e.menu)}};n(Nd,"MusicDetailHeader");Nd.type="MusicDetailHeader";var ko=Nd;var Ad=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(Ad,"MusicDownloadStateBadge");Ad.type="MusicDownloadStateBadge";var VT=Ad;var Rd=class extends a{constructor(e){super(),this.header=d.parseItem(e.header)}};n(Rd,"MusicEditablePlaylistDetailHeader");Rd.type="MusicEditablePlaylistDetailHeader";var xv=Rd;var Md=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?d.parseItem(e,jn):null}};n(Md,"MusicElementHeader");Md.type="MusicElementHeader";var Vd=Md;var Od=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(Od,"MusicHeader");Od.type="MusicHeader";var Yi=Od;var Dd=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=d.parseItem(e.thumbnail,wt)}};n(Dd,"MusicImmersiveHeader");Dd.type="MusicImmersiveHeader";var gv=Dd;var Bd=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(Bd,"ActionButton");Bd.type="ActionButton";var Ld=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Bd(i))}};n(Ld,"Panel");Ld.type="Panel";var Fd=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Ld(i))}};n(Fd,"MusicLargeCardItemCarousel");Fd.type="MusicLargeCardItemCarousel";var OT=Fd;var Yd=class extends a{constructor(e){var i,o,s;super(),this.playlist_id=e.playlistId,this.contents=d.parseArray(e.contents,Fi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(Yd,"MusicPlaylistShelf");Yd.type="MusicPlaylistShelf";var Co=Yd;var Ud=class extends a{constructor(e){var i,o,s,r,l;super(),this.title=new u(e.title),this.thumbnail=b.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Le(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var _,g,w;return(w=(g=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||g===void 0?void 0:g.browseId)===null||w===void 0?void 0:w.startsWith("MPR")}),f=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(m=>{var _,g,w;return(w=(g=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||g===void 0?void 0:g.browseId)===null||w===void 0?void 0:w.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(r=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseId,name:p.text,year:(l=new u(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var _,g;return{name:m.text,channel_id:(g=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||g===void 0?void 0:g.browseId,endpoint:m.endpoint}})),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(Ud,"PlaylistPanelVideo");Ud.type="PlaylistPanelVideo";var vi=Ud;var jd=class extends a{constructor(e){super(),this.primary=d.parseItem(e.primaryRenderer,vi),Reflect.has(e,"counterpart")&&(this.counterpart=ae(e.counterpart.map(i=>d.parseItem(i.counterpartRenderer,vi))||[]))}};n(jd,"PlaylistPanelVideoWrapper");jd.type="PlaylistPanelVideoWrapper";var yv=jd;var Wd=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=d.parseArray(e.contents,[yv,vi,Di]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(Wd,"PlaylistPanel");Wd.type="PlaylistPanel";var Zt=Wd;var Hd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,Zt)}};n(Hd,"MusicQueue");Hd.type="MusicQueue";var Kn=Hd;var Jd=class extends a{constructor(e){var i,o,s,r;super(),this.title=new u(e.title),this.contents=d.parseArray(e.contents,Fi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=d.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=d.parseArray(e.subheaders))}};n(Jd,"MusicShelf");Jd.type="MusicShelf";var ye=Jd;var Gd=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=d.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(Gd,"MusicSideAlignedItem");Gd.type="MusicSideAlignedItem";var bv=Gd;var zd=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=d.parseItem(e.menu,rv)}};n(zd,"MusicSortFilterButton");zd.type="MusicSortFilterButton";var Kd=zd;var $d=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n($d,"MusicTastebuilderShelfThumbnail");$d.type="MusicTastebuilderShelfThumbnail";var wv=$d;var qd=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,wv),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=d.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};n(qd,"MusicTasteBuilderShelf");qd.type="MusicTasteBuilderShelf";var Tv=qd;var Xd=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?b.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=d.parseItem(e.menu,U),this.foreground_thumbnail=e.foregroundThumbnail?b.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(Xd,"MusicVisualHeader");Xd.type="MusicVisualHeader";var Sv=Xd;var Qd=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.video_thumbnails=b.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=d.parseItem(e.contextualMenu),this.read=e.read}};n(Qd,"Notification");Qd.type="Notification";var Iv=Qd;var Zd=class extends a{constructor(e){super(),this.image=d.parseItem(e.image,v_),this.title=d.parseItem(e.title,S_)}};n(Zd,"PageHeaderView");Zd.type="PageHeaderView";var kv=Zd;var ep=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=d.parseItem(e.content,kv)}};n(ep,"PageHeader");ep.type="PageHeader";var $n=ep;var tp=class extends a{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(tp,"PageIntroduction");tp.type="PageIntroduction";var Cv=tp;var ip=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(ip,"PlayerOverflow");ip.type="PlayerOverflow";var Ev=ip;var op=class extends a{constructor(e){super(),this.overflow=$.parseItem(e.overflow,Ev)}};n(op,"PlayerControlsOverlay");op.type="PlayerControlsOverlay";var DT=op;var np=class extends a{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=d.parseItem(e.proceedButton,I),this.thumbnails=b.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(np,"PlayerErrorMessage");np.type="PlayerErrorMessage";var BT=np;var sp=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(sp,"PlayerLegacyDesktopYpcOffer");sp.type="PlayerLegacyDesktopYpcOffer";var LT=sp;var rp=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(rp,"YpcTrailer");rp.type="YpcTrailer";var Pv=rp;var ap=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=$.parseItem(e.ypcTrailer,Pv)}};n(ap,"PlayerLegacyDesktopYpcTrailer");ap.type="PlayerLegacyDesktopYpcTrailer";var up=ap;var lp=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=b.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};n(lp,"PlayerMicroformat");lp.type="PlayerMicroformat";var Dt=lp;var cp=class extends a{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=b.fromResponse(e.background),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.byline),this.cancel_button=d.parseItem(e.cancelButton,I),this.next_button=d.parseItem(e.nextButton,I),this.close_button=d.parseItem(e.closeButton,I)}};n(cp,"PlayerOverlayAutoplay");cp.type="PlayerOverlayAutoplay";var Nv=cp;var dp=class extends a{constructor(e){super(),this.results=d.parseArray(e.results,[C_,k_]),this.title=new u(e.title).toString()}};n(dp,"WatchNextEndScreen");dp.type="WatchNextEndScreen";var Av=dp;var pp=class extends a{constructor(e){super(),this.end_screen=d.parseItem(e.endScreen,Av),this.autoplay=d.parseItem(e.autoplay,Nv),this.share_button=d.parseItem(e.shareButton,I),this.add_to_menu=d.parseItem(e.addToMenu,U),this.fullscreen_engagement=d.parseItem(e.fullscreenEngagement),this.actions=d.parseArray(e.actions),this.browser_media_session=d.parseItem(e.browserMediaSession),this.decorated_player_bar=d.parseItem(e.decoratedPlayerBarRenderer,w_)}};n(pp,"PlayerOverlay");pp.type="PlayerOverlay";var Ui=pp;var fp=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new O(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=d.parseItem(e.saveButton),this.shuffle_play_button=d.parseItem(e.shufflePlayButton),this.menu=d.parseItem(e.moreActionsMenu),this.banner=d.parseItem(e.playlistHeaderBanner)}};n(fp,"PlaylistHeader");fp.type="PlaylistHeader";var Rv=fp;var hp=class extends a{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};n(hp,"PlaylistInfoCardContent");hp.type="PlaylistInfoCardContent";var FT=hp;var mp=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(mp,"PlaylistMetadata");mp.type="PlaylistMetadata";var Mv=mp;var _p=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(_p,"PlaylistSidebar");_p.type="PlaylistSidebar";var YT=_p;var vp=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=d.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};n(vp,"PlaylistSidebarPrimaryInfo");vp.type="PlaylistSidebarPrimaryInfo";var Vv=vp;var xp=class extends a{constructor(e){super(),this.owner=d.parseItem(e.videoOwner),this.button=d.parseItem(e.button)}};n(xp,"PlaylistSidebarSecondaryInfo");xp.type="PlaylistSidebarSecondaryInfo";var Ov=xp;var gp=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new O(e.shortBylineText),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=d.parseItem(e.menu,U),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(_o))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(_o))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(gp,"PlaylistVideo");gp.type="PlaylistVideo";var Dv=gp;var yp=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=d.parseArray(e.contents)}};n(yp,"PlaylistVideoList");yp.type="PlaylistVideoList";var UT=yp;var bp=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?b.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(bp,"Poll");bp.type="Poll";var jT=bp;var wp=class extends Bi{constructor(e){super(e)}};n(wp,"Post");wp.type="Post";var Bv=wp;var Tp=class extends a{constructor(e){super(),this.images=d.parseArray(e.images,Wm)}};n(Tp,"PostMultiImage");Tp.type="PostMultiImage";var WT=Tp;var Sp=class extends a{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(Sp,"ProductListHeader");Sp.type="ProductListHeader";var HT=Sp;var Ip=class extends a{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=b.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=d.parseItem(e.viewButton,I)}};n(Ip,"ProductListItem");Ip.type="ProductListItem";var JT=Ip;var kp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(kp,"ProfileColumn");kp.type="ProfileColumn";var GT=kp;var Cp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Cp,"ProfileColumnStats");Cp.type="ProfileColumnStats";var Lv=Cp;var Ep=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(Ep,"ProfileColumnStatsEntry");Ep.type="ProfileColumnStatsEntry";var zT=Ep;var Pp=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail)}};n(Pp,"ProfileColumnUserInfo");Pp.type="ProfileColumnUserInfo";var Fv=Pp;var Np=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(Np,"Quiz");Np.type="Quiz";var KT=Np;var Ap=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new b(i)),this.button=d.parseItem(e.button,I),this.surface=e.surface}};n(Ap,"RecognitionShelf");Ap.type="RecognitionShelf";var $T=Ap;var Rp=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=b.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(Rp,"ReelItem");Rp.type="ReelItem";var Yv=Rp;var Mp=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=d.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(Mp,"ReelShelf");Mp.type="ReelShelf";var Uv=Mp;var Vp=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Vp,"RelatedChipCloud");Vp.type="RelatedChipCloud";var jv=Vp;var Op=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.contents=d.parseArray(e.contents)}};n(Op,"RichGrid");Op.type="RichGrid";var ji=Op;var Dp=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Dp,"RichItem");Dp.type="RichItem";var qT=Dp;var Bp=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Bp,"RichListHeader");Bp.type="RichListHeader";var XT=Bp;var Lp=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(Lp,"RichMetadata");Lp.type="RichMetadata";var Fp=Lp;var Yp=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Yp,"RichMetadataRow");Yp.type="RichMetadataRow";var Up=Yp;var jp=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(jp,"RichSection");jp.type="RichSection";var QT=jp;var Wp=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=d.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n(Wp,"RichShelf");Wp.type="RichShelf";var Wv=Wp;var Hp=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=d.parseItem(e.searchButton,I),this.clear_button=d.parseItem(e.clearButton,I),this.placeholder_text=new u(e.placeholderText)}};n(Hp,"SearchBox");Hp.type="SearchBox";var ZT=Hp;var Jp=class extends a{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Jp,"SearchFilter");Jp.type="SearchFilter";var Hv=Jp;var Gp=class extends a{constructor(e){super(),this.title=new u(e.title),this.filters=$.parseArray(e.filters,Hv)}};n(Gp,"SearchFilterGroup");Gp.type="SearchFilterGroup";var qn=Gp;var zp=class extends a{constructor(e){super(),this.title=new u(e.title),this.groups=$.parseArray(e.groups,qn)}};n(zp,"SearchFilterOptionsDialog");zp.type="SearchFilterOptionsDialog";var e1=zp;var Kp=class extends a{constructor(e){super(),this.chip_bar=$.parseItem(e.chipBar,ft),this.search_filter_button=$.parseItem(e.searchFilterButton,I)}};n(Kp,"SearchHeader");Kp.type="SearchHeader";var Jv=Kp;var $p=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=d.parseArray(e.groups,qn)),Reflect.has(e,"button")&&(this.button=d.parseItem(e.button,Ve))}};n($p,"SearchSubMenu");$p.type="SearchSubMenu";var Gv=$p;var qp=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(qp,"SearchSuggestionsSection");qp.type="SearchSuggestionsSection";var zv=qp;var Xp=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Xp,"SecondarySearchContainer");Xp.type="SecondarySearchContainer";var t1=Xp;var Qp=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,[Ve,I]),this.dislike_button=d.parseItem(e.dislikeButton,[Ve,I])}};n(Qp,"SegmentedLikeDislikeButton");Qp.type="SegmentedLikeDislikeButton";var Eo=Qp;var Zp=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Zp,"SettingBoolean");Zp.type="SettingBoolean";var i1=Zp;var ef=class extends a{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(ef,"SettingsCheckbox");ef.type="SettingsCheckbox";var Kv=ef;var tf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(tf,"SettingsSwitch");tf.type="SettingsSwitch";var Xn=tf;var of=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=d.parseArray(e.options,[Xn,Sn,x_,Kv,Zm]))}};n(of,"SettingsOptions");of.type="SettingsOptions";var Qn=of;var nf=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=d.parseArray(e.items,Fn)}get contents(){return this.items}};n(nf,"SettingsSidebar");nf.type="SettingsSidebar";var $v=nf;var sf=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=oe(e.actionMenu,U),this.original_post=oe(e.originalPost,Bi),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=oe(e.expandButton,I),this.author=new O(e.displayName,void 0)}};n(sf,"SharedPost");sf.type="SharedPost";var qv=sf;var rf=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=d.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=d.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=d.parseItem(e.playAllButton,I))}};n(rf,"Shelf");rf.type="Shelf";var Zn=rf;var af=class extends a{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(af,"ShowingResultsFor");af.type="ShowingResultsFor";var Xv=af;var uf=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};n(uf,"SimpleCardContent");uf.type="SimpleCardContent";var o1=uf;var lf=class extends a{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(lf,"SimpleCardTeaser");lf.type="SimpleCardTeaser";var n1=lf;var cf=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(cf,"SimpleTextSection");cf.type="SimpleTextSection";var s1=cf;var df=class extends a{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(df,"SingleActionEmergencySupport");df.type="SingleActionEmergencySupport";var r1=df;var pf=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=d.parseItem(e.content,[Q,Kn,ji])}};n(pf,"Tab");pf.type="Tab";var xe=pf;var ff=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,xe)}};n(ff,"SingleColumnBrowseResults");ff.type="SingleColumnBrowseResults";var ei=ff;var hf=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(hf,"SingleColumnMusicWatchNextResults");hf.type="SingleColumnMusicWatchNextResults";var a1=hf;var mf=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.style=e.style}};n(mf,"SingleHeroImage");mf.type="SingleHeroImage";var u1=mf;var _f=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,We)}};n(_f,"SlimOwner");_f.type="SlimOwner";var l1=_f;var vf=class extends a{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=d.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(vf,"SlimVideoMetadata");vf.type="SlimVideoMetadata";var Qv=vf;var xf=class extends a{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(xf,"SubFeedOption");xf.type="SubFeedOption";var Zv=xf;var gf=class extends a{constructor(e){super(),this.title=new u(e.title),this.options=d.parseArray(e.options,Zv)}};n(gf,"SubFeedSelector");gf.type="SubFeedSelector";var c1=gf;var yf=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(yf,"Tabbed");yf.type="Tabbed";var d1=yf;var bf=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,xe)}};n(bf,"TabbedSearchResults");bf.type="TabbedSearchResults";var e0=bf;var wf=class extends a{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(wf,"TextHeader");wf.type="TextHeader";var p1=wf;var Tf=class extends a{constructor(e){super(),this.landscape=b.fromResponse(e.landscape),this.portrait=b.fromResponse(e.portrait)}};n(Tf,"ThumbnailLandscapePortrait");Tf.type="ThumbnailLandscapePortrait";var f1=Tf;var Sf=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(Sf,"ThumbnailOverlayEndorsement");Sf.type="ThumbnailOverlayEndorsement";var h1=Sf;var If=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(If,"ThumbnailOverlayHoverText");If.type="ThumbnailOverlayHoverText";var m1=If;var kf=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(kf,"ThumbnailOverlayInlineUnplayable");kf.type="ThumbnailOverlayInlineUnplayable";var _1=kf;var Cf=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(Cf,"ThumbnailOverlayLoadingPreview");Cf.type="ThumbnailOverlayLoadingPreview";var v1=Cf;var Ef=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(Ef,"ThumbnailOverlayNowPlaying");Ef.type="ThumbnailOverlayNowPlaying";var x1=Ef;var Pf=class extends a{constructor(e){super(),this.hack=e.hack}};n(Pf,"ThumbnailOverlayPinking");Pf.type="ThumbnailOverlayPinking";var g1=Pf;var Nf=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(Nf,"ThumbnailOverlayPlaybackStatus");Nf.type="ThumbnailOverlayPlaybackStatus";var y1=Nf;var Af=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(Af,"ThumbnailOverlayResumePlayback");Af.type="ThumbnailOverlayResumePlayback";var b1=Af;var Rf=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(Rf,"ThumbnailOverlaySidePanel");Rf.type="ThumbnailOverlaySidePanel";var w1=Rf;var Mf=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};n(Mf,"ThumbnailOverlayToggleButton");Mf.type="ThumbnailOverlayToggleButton";var T1=Mf;var Vf=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(Vf,"TimedMarkerDecoration");Vf.type="TimedMarkerDecoration";var S1=Vf;var Of=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Of,"TitleAndButtonListHeader");Of.type="TitleAndButtonListHeader";var I1=Of;var Df=class extends a{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(Df,"ToggleMenuServiceItem");Df.type="ToggleMenuServiceItem";var k1=Df;var Bf=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Bf,"Tooltip");Bf.type="Tooltip";var C1=Bf;var Lf=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=b.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=d.parseItem(e.subscribeButton,We),this.endpoint=new v(e.navigationEndpoint)}};n(Lf,"TopicChannelDetails");Lf.type="TopicChannelDetails";var E1=Lf;var Ff=class extends a{constructor(e){super(),this.tabs=d.parse(e.tabs),this.secondary_contents=d.parse(e.secondaryContents)}};n(Ff,"TwoColumnBrowseResults");Ff.type="TwoColumnBrowseResults";var ti=Ff;var Yf=class extends a{constructor(e){super(),this.primary_contents=d.parse(e.primaryContents),this.secondary_contents=d.parse(e.secondaryContents)}};n(Yf,"TwoColumnSearchResults");Yf.type="TwoColumnSearchResults";var t0=Yf;var i0,Mg,Uf=class extends a{constructor(e){var i,o,s,r,l;super(),i0.add(this),this.results=d.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=d.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=d.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((r=p.shortBylineText)===null||r===void 0)&&r.simpleText?new u(p.shortBylineText):new O(p.longBylineText),contents:d.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:d.parseItem(p.menu,U)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>c(this,i0,"m",Mg).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>c(this,i0,"m",Mg).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(Uf,"TwoColumnWatchNextResults");i0=new WeakSet,Mg=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Uf.type="TwoColumnWatchNextResults";var es=Uf;var jf=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.call_to_action=d.parseItem(e.callToAction),this.sections=d.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(jf,"UniversalWatchCard");jf.type="UniversalWatchCard";var o0=jf;var Wf=class extends a{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=d.parseItem(e.actionButton,I),this.dismiss_button=d.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};n(Wf,"UpsellDialog");Wf.type="UpsellDialog";var P1=Wf;var Hf=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(Hf,"VerticalList");Hf.type="VerticalList";var N1=Hf;var Jf=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(Jf,"VerticalWatchCardList");Jf.type="VerticalWatchCardList";var A1=Jf;var Gf=class extends a{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=b.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};n(Gf,"VideoInfoCardContent");Gf.type="VideoInfoCardContent";var R1=Gf;var zf=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(zf,"VideoOwner");zf.type="VideoOwner";var ts=zf;var Kf=class extends a{constructor(e){var i,o,s,r;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((r=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=d.parseArray(e.badges,nt),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=d.parseItem(e.videoActions,U)}};n(Kf,"VideoPrimaryInfo");Kf.type="VideoPrimaryInfo";var n0=Kf;var $f=class extends a{constructor(e){super(),this.owner=d.parseItem(e.owner,ts),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=d.parseItem(e.subscribeButton,[We,I]),this.metadata=d.parseItem(e.metadataRowContainer,lv),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n($f,"VideoSecondaryInfo");$f.type="VideoSecondaryInfo";var qf=$f;var Xf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Le(e.lengthText.simpleText)},this.style=e.style}};n(Xf,"WatchCardCompactVideo");Xf.type="WatchCardCompactVideo";var s0=Xf;var Qf=class extends a{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=d.parseItem(e.callToActionButton),this.hero_image=d.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Qf,"WatchCardHeroVideo");Qf.type="WatchCardHeroVideo";var M1=Qf;var Zf=class extends a{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new O(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Zf,"WatchCardRichHeader");Zf.type="WatchCardRichHeader";var V1=Zf;var eh=class extends a{constructor(e){super(),this.lists=d.parseArray(e.lists)}};n(eh,"WatchCardSectionSequence");eh.type="WatchCardSectionSequence";var O1=eh;var th=class extends ti{constructor(e){super(e)}};n(th,"WatchNextTabbedResults");th.type="WatchNextTabbedResults";var r0=th;var ih=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=d.parseItem(e.content,Q),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(ih,"AnchoredSection");ih.type="AnchoredSection";var a0=ih;var oh,nh=class extends a{constructor(e){super(),oh.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=b.fromResponse(e.avatar),this.block_button=d.parseItem(e.blockButton,[Ve]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return y(this,void 0,void 0,function*(){if(!c(this,oh,"f"))throw new x("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new x("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new x("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(c(this,oh,"f"),{parse:!1})})}setActions(e){S(this,oh,e,"f")}};n(nh,"KidsBlocklistPickerItem");oh=new WeakMap;nh.type="KidsBlocklistPickerItem";var is=nh;var sh=class extends a{constructor(e){super(),this.title=new u(e.title),this.child_rows=d.parse(e.childRows,!0,[is]),this.done_button=d.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(sh,"KidsBlocklistPicker");sh.type="KidsBlocklistPicker";var D1=sh;var rh=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(rh,"KidsCategoryTab");rh.type="KidsCategoryTab";var os=rh;var ah=class extends a{constructor(e){super(),this.category_tabs=d.parseArray(e.categoryTabs,os),this.privacy_button=d.parseItem(e.privacyButtonRenderer,I)}};n(ah,"KidsCategoriesHeader");ah.type="kidsCategoriesHeader";var u0=ah;var uh=class extends a{constructor(e){super(),this.anchors=d.parseArray(e.anchors,a0)}};n(uh,"KidsHomeScreen");uh.type="kidsHomeScreen";var l0=uh;var jg={};L(jg,{camelToSnake:()=>Po,createRuntimeClass:()=>U1,generateRuntimeClass:()=>dh,generateTypescriptClass:()=>c0,inferType:()=>Og,introspect:()=>Bg,isIgnoredKey:()=>Y1,isMiscType:()=>F1,isRenderer:()=>Dg,isRendererList:()=>L1,mergeKeyInfo:()=>Ug,parse:()=>Yg,toParser:()=>Fg,toTypeDeclaration:()=>Lg});var YI=new Set(["trackingParams","accessibility","accessibilityData"]),Vg={};function Po(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(Po,"camelToSnake");function Og(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Dg(e))return Vg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=L1(e)){for(let[s,r]of Object.entries(i))Vg[s]=r;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=F1(t,e))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([s,r])=>[s,Og(s,r)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(Og,"inferType");function L1(t){return Array.isArray(t)&&t.every(o=>Dg(o))?Object.fromEntries(t.map(o=>{let s=Reflect.ownKeys(o)[0].toString();return[ph(s),o[s]]})):!1}n(L1,"isRendererList");function F1(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(F1,"isMiscType");function Dg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);return i.length===1&&i[0].toString().includes("Renderer")?ph(i[0].toString()):!1}n(Dg,"isRenderer");function UI(t){if(typeof t!="object"||t===null)throw new x("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!Y1(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),s=Og(i,o);return[i,s]})}n(UI,"introspectKeysFirstPass");function jI(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),s=new Set,r=o[0],l;if(r){s.add(r[0]);let f=t.map(([T])=>T).filter(T=>T.endsWith("Badges")||T==="badges"),_=(e=f.filter(T=>T.startsWith("owner")||T.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],g=t.find(([T])=>T===_),w=g?g[1].type==="renderer_list"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;w&&_&&s.add(_),l={type:"misc",misc_type:"Author",optional:!1,params:[r[0],w?_:void 0]}}return l&&t.push(["author",l]),t.filter(([p])=>!s.has(p))}n(jI,"introspectKeysSecondPass");function WI(t){let e=UI(t);return jI(e)}n(WI,"introspect2");function Bg(t){let e=WI(t),i=new Map;for(let[,s]of e)if(s.type==="renderer"||s.type==="renderer_list")for(let r of s.renderers){let l=Vg[r];l&&i.set(r,l)}let o=Array.from(i).filter(([s])=>!d0(s));return{key_info:e,unimplemented_dependencies:o}}n(Bg,"introspect");function Y1(t){return typeof t=="string"&&YI.has(t)}n(Y1,"isIgnoredKey");function U1(t,e,i){var o,s;i({error_type:"class_not_found",classname:t,key_info:e});let r=(o=n(class extends a{static set key_info(l){S(this,o,new Map(l),"f",s)}static get key_info(){return[...c(this,o,"f",s).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=Bg(l),{resolved_key_info:m,changed_keys:_}=Ug(r.key_info,p);_.length>0&&(r.key_info=m,i({error_type:"class_changed",classname:t,key_info:r.key_info,changed_keys:_}));for(let[w,T]of f)dh(w,T,i);for(let[w,T]of p){let C=Po(w);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(C="endpoint"),Reflect.set(this,C,Yg(w,T,l))}}},"_a"),Gy(o,"node"),o.type=t,s={value:new Map},o);return r.key_info=e,Object.defineProperty(r,"name",{value:t,writable:!1}),r}n(U1,"createRuntimeClass");function dh(t,e,i){let{key_info:o,unimplemented_dependencies:s}=Bg(e),r=U1(t,o,i);Wg(t,r);for(let[l,p]of s)dh(l,p,i);return r}n(dh,"generateRuntimeClass");function c0(t,e){let i=[],o=["super();"];for(let[s,r]of e){let l=Po(s);r.type==="misc"&&r.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${r.optional?"?":""}: ${Lg(r)};`),o.push(`this.${l} = ${Fg(s,r)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(c0,"generateTypescriptClass");function Lg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"object":return`{
${t.keys.map(([i,o])=>`${" ".repeat((e+2)*2)}${Po(i)}${o.optional?"?":""}: ${Lg(o,e+1)}`).join(`,
`)}
${" ".repeat((e+1)*2)}}`;case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}n(Lg,"toTypeDeclaration");function Fg(t,e,i=["data"],o=1){let s="undefined";switch(e.type){case"renderer":s=`Parser.parseItem(${i.join(".")}.${t}, [ ${e.renderers.map(r=>`YTNodes.${r}`).join(", ")} ])`;break;case"renderer_list":s=`Parser.parse(${i.join(".")}.${t}, true, [ ${e.renderers.map(r=>`YTNodes.${r}`).join(", ")} ])`;break;case"object":{let r=[...i,t];s=`{
${e.keys.map(([l,p])=>`${" ".repeat((o+2)*2)}${Po(l)}: ${Fg(l,p,r,o+1)}`).join(`,
`)}
${" ".repeat((o+1)*2)}}`}break;case"misc":switch(e.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let r=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${r} : undefined`:r}default:s=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(s==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":s=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${s} : undefined`:s}n(Fg,"toParser");function Wi(t,e){let i=t;for(let o of e)i=i[o];return i}n(Wi,"accessDataFromKeyPath");function B1(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(B1,"hasDataFromKeyPath");function Yg(t,e,i,o=["data"]){let s=!e.optional||B1({data:i},[...o,t]);switch(e.type){case"renderer":return s?oe(Wi({data:i},[...o,t]),e.renderers.map(r=>ch(r))):void 0;case"renderer_list":return s?Xe(Wi({data:i},[...o,t]),!0,e.renderers.map(r=>ch(r))):void 0;case"object":{let r={},l=[...o,t];for(let[p,f]of e.keys)r[p]=s?Yg(p,f,i,l):void 0;return r}case"misc":switch(e.misc_type){case"NavigationEndpoint":return s?new v(Wi({data:i},[...o,t])):void 0;case"Text":return s?new u(Wi({data:i},[...o,t])):void 0;case"Thumbnail":return s?b.fromResponse(Wi({data:i},[...o,t])):void 0;case"Author":return!e.optional||B1({data:i},[...o,e.params[0]])?new O(Wi({data:i},[...o,e.params[0]]),e.params[1]?Wi({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return Wi({data:i},[...o,t])}}n(Yg,"parse");function Ug(t,e){let i=new Map,o=new Set(t.map(([w])=>w)),s=new Set(e.map(([w])=>w)),r=e.filter(([w])=>!o.has(w)),l=t.filter(([w])=>!s.has(w)),p=t.filter(([w])=>s.has(w)),f=new Map(e);for(let[w,T]of p){let C=f.get(w);if(!!C){if(T.type!==C.type){i.set(w,{type:"unknown",optional:!0});continue}switch(T.type){case"object":{if(C.type!=="object")continue;let{resolved_key_info:N}=Ug(T.keys,C.keys),R={type:"object",keys:N,optional:T.optional||C.optional};JSON.stringify(R)!==JSON.stringify(T)&&i.set(w,R)}break;case"renderer":{if(C.type!=="renderer")continue;let N=Object.assign(Object.assign({},T.renderers),C.renderers),R=T.optional||C.optional,V={type:"renderer",renderers:N,optional:R};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(w,V)}break;case"renderer_list":{if(C.type!=="renderer_list")continue;let N=Object.assign(Object.assign({},T.renderers),C.renderers),R=T.optional||C.optional,V={type:"renderer_list",renderers:N,optional:R};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(w,V)}break;case"misc":{if(C.type!=="misc")continue;switch(T.misc_type!==C.misc_type&&i.set(w,{type:"unknown",optional:!0}),T.misc_type){case"Author":{if(C.misc_type!=="Author")break;let N=T.params[1]||C.params[1],R=T.optional||C.optional,V={type:"misc",misc_type:"Author",optional:R,params:[C.params[0],N]};JSON.stringify(V)!==JSON.stringify(T)&&i.set(w,V)}break}}break;case"primative":{if(C.type!=="primative")continue;let N={type:"primative",typeof:Array.from(new Set([...C.typeof,...T.typeof])),optional:T.optional||C.optional};JSON.stringify(N)!==JSON.stringify(T)&&i.set(w,N)}break}}}for(let[w,T]of r)i.set(w,Object.assign(Object.assign({},T),{optional:!0}));for(let[w,T]of l)i.set(w,Object.assign(Object.assign({},T),{optional:!0}));let m=t.filter(([w])=>!i.has(w));return{resolved_key_info:[...new Map([...m,...i]).entries()],changed_keys:[...i.entries()]}}n(Ug,"mergeKeyInfo");var Hi=class extends a{constructor(e){var i,o,s;super(),this.contents=Je(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(Hi,"ItemSectionContinuation");Hi.type="itemSectionContinuation";var Ji=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(Ji,"NavigateAction");Ji.type="navigateAction";var ns=class extends a{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(ns,"ShowMiniplayerCommand");ns.type="showMiniplayerCommand";var Gi=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=Xe(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(Gi,"ReloadContinuationItemsCommand");Gi.type="reloadContinuationItemsCommand";var st=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=Xe(e.contents,!0),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(st,"SectionListContinuation");st.type="sectionListContinuation";var zi=class extends a{constructor(e){var i;super(),this.contents=Xe(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(zi,"MusicPlaylistShelfContinuation");zi.type="musicPlaylistShelfContinuation";var ii=class extends a{constructor(e){var i,o,s,r;super(),this.contents=Je(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(ii,"MusicShelfContinuation");ii.type="musicShelfContinuation";var Ki=class extends a{constructor(e){var i;super(),this.items=Xe(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(Ki,"GridContinuation");Ki.type="gridContinuation";var ss=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=Je(e.contents),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(ss,"PlaylistPanelContinuation");ss.type="playlistPanelContinuation";var No=class extends a{constructor(e){var i,o,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};n(No,"Continuation");No.type="continuation";var $i=class extends a{constructor(e){var i,o,s,r,l,p,f,m;super(),this.actions=Xe((i=e.actions)===null||i===void 0?void 0:i.map(w=>(delete w.clickTrackingParams,w)),!0)||ae([]),this.action_panel=oe(e.actionPanel),this.item_list=oe(e.itemList,tv),this.header=oe(e.header,ev),this.participants_list=oe(e.participantsList,ov),this.popout_message=oe(e.popoutMessage,He),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:b.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let _,g;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(g="timed",_=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(g="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(g="replay",_=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new No({continuation:_,type:g}),this.viewer_name=e.viewerName}};n($i,"LiveChatContinuation");$i.type="liveChatContinuation";var HI=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Jg=new Map(Object.entries(lh)),j1=new Map,Ro=null,Ao=n(t=>{var{classname:e}=t,i=Jy(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new x(`Something went wrong at ${e}!
This is a bug, please report it at ${D.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new yt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new x(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${D.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new x(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${D.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new x(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${D.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${D.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${c0(e,i.key_info)}`));break;case"class_changed":console.warn(`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>Po(o)).join(", ")}
The class has changed to:
${c0(e,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function JI(t){Ao=t}n(JI,"setParserErrorHandler");function oi(){Ro=null}n(oi,"_clearMemo");function ni(){Ro=new Pi}n(ni,"_createMemo");function GI(t,e){if(!Ro)return;let i=Ro.get(t);if(!i)return Ro.set(t,[e]);i.push(e)}n(GI,"_addToMemo");function si(){if(!Ro)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Ro}n(si,"_getMemo");function W1(t){return HI.has(t)}n(W1,"shouldIgnore");function ph(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(ph,"sanitizeClassName");function ch(t){let e=Jg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(ch,"getParserByName");function d0(t){return Jg.has(t)}n(d0,"hasParser");function Wg(t,e){Jg.set(t,e),j1.set(t,e)}n(Wg,"addRuntimeParser");function zI(){return Object.fromEntries(j1)}n(zI,"getDynamicParsers");function KI(t){var e,i;let o={};ni();let s=Xe(t.contents),r=si();s&&(o.contents=s,o.contents_memo=r),oi(),ni();let l=t.onResponseReceivedActions?p0(t.onResponseReceivedActions):null,p=si();l&&(o.on_response_received_actions=l,o.on_response_received_actions_memo=p),oi(),ni();let f=t.onResponseReceivedEndpoints?p0(t.onResponseReceivedEndpoints):null,m=si();f&&(o.on_response_received_endpoints=f,o.on_response_received_endpoints_memo=m),oi(),ni();let _=t.onResponseReceivedCommands?p0(t.onResponseReceivedCommands):null,g=si();_&&(o.on_response_received_commands=_,o.on_response_received_commands_memo=g),oi(),ni();let w=t.continuationContents?J1(t.continuationContents):null,T=si();w&&(o.continuation_contents=w,o.continuation_contents_memo=T),oi(),ni();let C=t.actions?G1(t.actions):null,N=si();C&&(o.actions=C,o.actions_memo=N),oi(),ni();let R=t.liveChatItemContextMenuSupportedRenderers?oe(t.liveChatItemContextMenuSupportedRenderers):null,V=si();R&&(o.live_chat_item_context_menu_supported_renderers=R,o.live_chat_item_context_menu_supported_renderers_memo=V),oi(),ni();let q=t.header?Xe(t.header):null,z=si();q&&(o.header=q,o.header_memo=z),oi(),ni();let me=t.sidebar?oe(t.sidebar):null,ge=si();me&&(o.sidebar=me,o.sidebar_memo=ge),oi(),ni();let Te=Xe(t.items);Te&&(o.items=Te,o.items_memo=si()),oi(),z1(r,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations);let Se=t.continuation?H1(t.continuation):null;Se&&(o.continuation=Se);let Ae=Xe(t.metadata);Ae&&(o.metadata=Ae);let K=oe(t.microformat);K&&(o.microformat=K);let W=oe(t.overlay);W&&(o.overlay=W);let X=Je(t.alerts,[In,lm]);X.length&&(o.alerts=X);let ie=t.refinements;ie&&(o.refinements=ie);let Re=t.estimatedResults?parseInt(t.estimatedResults):null;Re&&(o.estimated_results=Re);let ct=Xe(t.playerOverlays);ct&&(o.player_overlays=ct);let dt=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;dt&&(o.playback_tracking=dt);let pt=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:oe(t.playabilityStatus.audioOnlyPlayability,Zh),error_screen:oe(t.playabilityStatus.errorScreen)}:null;if(pt&&(o.playability_status=pt),t.streamingData){let gt=new Map,Cr={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Hg(t.streamingData.formats,gt),adaptive_formats:Hg(t.streamingData.adaptiveFormats,gt),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};o.streaming_data=Cr}let Ke=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;Ke&&(o.current_video_endpoint=Ke);let tt=t.endpoint?new v(t.endpoint):null;tt&&(o.endpoint=tt);let it=oe(t.captions,am);it&&(o.captions=it);let fe=t.videoDetails?new Oi(t.videoDetails):null;fe&&(o.video_details=fe);let De=Je(t.annotations,rm);De.length&&(o.annotations=De);let Ht=oe(t.storyboards,[ho,um]);Ht&&(o.storyboards=Ht);let Jt=oe(t.endscreen,sm);Jt&&(o.endscreen=Jt);let Gt=oe(t.cards,nm);Gt&&(o.cards=Gt);let zt=Je(t.engagementPanels,Cm);return zt.length&&(o.engagement_panels=zt),o}n(KI,"parseResponse");function oe(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=ph(i[0]);if(!W1(o))try{let r=d0(o)?ch(o):dh(o,t[i[0]],Ao);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===r.type))return Ao({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(r.type!==e.type)return Ao({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let l=new r(t[i[0]]);return GI(o,l),l}catch(s){return Ao({classname:o,classdata:t[i[0]],error:s,error_type:"parse"}),null}return null}n(oe,"parseItem");function Je(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let s=oe(o,e);s&&i.push(s)}return ae(i)}else if(!t)return ae([]);throw new yt("Expected array but got a single item")}n(Je,"parseArray");function Xe(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let r of t){let l=oe(r,i);l&&o.push(l)}let s=ae(o);return e?s:new $t(s)}else if(e)throw new yt("Expected array but got a single item");return new $t(oe(t,i))}n(Xe,"parse");function H1(t){return t.timedContinuationData?new No({continuation:t.timedContinuationData,type:"timed"}):null}n(H1,"parseC");function J1(t){return t.itemSectionContinuation?new Hi(t.itemSectionContinuation):t.sectionListContinuation?new st(t.sectionListContinuation):t.liveChatContinuation?new $i(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new zi(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new ii(t.musicShelfContinuation):t.gridContinuation?new Ki(t.gridContinuation):t.playlistPanelContinuation?new ss(t.playlistPanelContinuation):null}n(J1,"parseLC");function p0(t){return ae(t.map(e=>{if(e.navigateAction)return new Ji(e.navigateAction);if(e.showMiniplayerCommand)return new ns(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Gi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new xo(e.appendContinuationItemsAction)}).filter(e=>e))}n(p0,"parseRR");function G1(t){return Array.isArray(t)?Xe(t.map(e=>(delete e.clickTrackingParams,e))):new $t(oe(t))}n(G1,"parseActions");function Hg(t,e){return(t==null?void 0:t.map(i=>new Nm(i,e)))||[]}n(Hg,"parseFormats");function z1(t,e){let i=t.getType(At);if(i.length>0&&!e)Ao({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let s of i){let r=e.find(p=>{var f,m;return((m=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||m===void 0?void 0:m.id)===s.form_item_entity_key}),l=r==null?void 0:r.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?s.selected=l.selected:o.push(`'${s.title}'`)}o.length>0&&Ao({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(z1,"applyMutations");var oy={};L(oy,{AccountInfo:()=>h0,Analytics:()=>_0,Channel:()=>Ce,ChannelListContinuation:()=>Bo,Comments:()=>x0,FilteredChannelList:()=>Qi,Guide:()=>y0,HashtagFeed:()=>ai,History:()=>fs,HomeFeed:()=>Bt,ItemMenu:()=>S0,Library:()=>C0,LiveChat:()=>O0,NotificationsMenu:()=>D0,Playlist:()=>xi,Search:()=>B0,Settings:()=>L0,SmoothedQueue:()=>A0,TimeWatched:()=>Y0,VideoInfo:()=>Eh});var rs,f0=class{constructor(e){if(rs.set(this,void 0),S(this,rs,d.parseResponse(e.data),"f"),!c(this,rs,"f").contents)throw new x("Page contents not found");let i=c(this,rs,"f").contents.array().as(Vm).first();if(!i)throw new x("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return c(this,rs,"f")}};n(f0,"AccountInfo");rs=new WeakMap;var h0=f0;var fh,m0=class{constructor(e){var i;fh.set(this,void 0),S(this,fh,d.parseResponse(e.data),"f"),this.sections=(i=c(this,fh,"f").contents_memo)===null||i===void 0?void 0:i.getType(jn).map(o=>o.model).flatMap(o=>o||[])}get page(){return c(this,fh,"f")}};n(m0,"Analytics");fh=new WeakMap;var _0=m0;var Gg,rt,Mo,hh,at,K1,qi=class{constructor(e,i,o=!1){Gg.add(this),rt.set(this,void 0),Mo.set(this,void 0),hh.set(this,void 0),at.set(this,void 0),c(this,Gg,"m",K1).call(this,i)||o?S(this,rt,i,"f"):S(this,rt,d.parseResponse(i.data),"f");let s=zg(c(this,rt,"f").contents_memo,c(this,rt,"f").continuation_contents_memo,c(this,rt,"f").on_response_received_commands_memo,c(this,rt,"f").on_response_received_endpoints_memo,c(this,rt,"f").on_response_received_actions_memo,c(this,rt,"f").sidebar_memo,c(this,rt,"f").header_memo);if(!s)throw new x("No memo found in feed");S(this,at,s,"f"),S(this,hh,e,"f")}static getVideosFromMemo(e){return e.getType(Cn,M_,Yv,En,Dv,vi,s0)}static getPlaylistsFromMemo(e){return e.getType(qt,N_)}get videos(){return qi.getVideosFromMemo(c(this,at,"f"))}get posts(){return c(this,at,"f").getType(Bi,Bv,qv)}get channels(){return c(this,at,"f").getType(qm,P_)}get playlists(){return qi.getPlaylistsFromMemo(c(this,at,"f"))}get memo(){return c(this,at,"f")}get page_contents(){var e;let i=(e=c(this,at,"f").getType(xe))===null||e===void 0?void 0:e.first().content,o=c(this,at,"f").getType(Gi).first(),s=c(this,at,"f").getType(xo).first();return i||o||s}get shelves(){return c(this,at,"f").getType(Zn,Wv,Uv)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=c(this,rt,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=c(this,rt,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(ti,t0))return o.secondary_contents}get actions(){return c(this,hh,"f")}get page(){return c(this,rt,"f")}get has_continuation(){return(c(this,at,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return y(this,void 0,void 0,function*(){if(c(this,Mo,"f")){if(c(this,Mo,"f").length===0)throw new x("There are no continuations.");return yield c(this,Mo,"f")[0].endpoint.call(c(this,hh,"f"),{parse:!0})}if(S(this,Mo,c(this,at,"f").getType(ke),"f"),c(this,Mo,"f"))return this.getContinuationData()})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new qi(this.actions,e,!0)})}};n(qi,"Feed");rt=new WeakMap,Mo=new WeakMap,hh=new WeakMap,at=new WeakMap,Gg=new WeakSet,K1=n(function(e){return!("data"in e)},"_Feed_isParsed");var he=qi;var Vo,Oo,Do=class extends he{constructor(e,i,o=!1){var s;super(e,i,o),Vo.set(this,void 0),Oo.set(this,void 0),S(this,Oo,e,"f"),S(this,Vo,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(xe),"f")}get tabs(){var e,i;return(i=(e=c(this,Vo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return y(this,void 0,void 0,function*(){let o=(i=c(this,Vo,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!o)throw new x(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(c(this,Oo,"f"));return new Do(c(this,Oo,"f"),s,!1)})}getTabByURL(e){var i;return y(this,void 0,void 0,function*(){let o=(i=c(this,Vo,"f"))===null||i===void 0?void 0:i.find(r=>{var l;return((l=r.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new x(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(c(this,Oo,"f"));return new Do(c(this,Oo,"f"),s,!1)})}hasTabWithURL(e){var i,o;return(o=(i=c(this,Vo,"f"))===null||i===void 0?void 0:i.some(s=>{var r;return((r=s.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(xe))===null||i===void 0?void 0:i.find(s=>s.selected))===null||o===void 0?void 0:o.title.toString()}};n(Do,"TabbedFeed");Vo=new WeakMap,Oo=new WeakMap;var as=Do;var us,v0=class extends he{constructor(e,i,o=!1){super(e,i,o),us.set(this,void 0)}get filter_chips(){var e,i;if(c(this,us,"f"))return c(this,us,"f")||[];if(((e=this.memo.getType(_i))===null||e===void 0?void 0:e.length)>1)throw new x("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(_i))===null||i===void 0?void 0:i.length)===0)throw new x("There are no feed filter chipbars");return S(this,us,this.memo.getType(_e),"f"),c(this,us,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return y(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new x("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new x("Invalid filter");if(!o)throw new x("Filter not found");if(o.is_selected)return this;let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new x("Failed to get filtered feed");return new he(this.actions,s,!0)})}};n(v0,"FilterableFeed");us=new WeakMap;var Xi=v0;var Ce=class extends as{constructor(e,i,o=!1){var s,r,l,p,f,m;super(e,i,o),this.header=(r=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||r===void 0?void 0:r.as(Mn,$m,F_,$n);let _=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(Qm),g=(p=this.page.microformat)===null||p===void 0?void 0:p.as(Xt);if(this.page.alerts){let w=this.page.alerts.first();if((w==null?void 0:w.alert_type)==="ERROR")throw new ls(w.text.toString())}if(!_&&!this.page.contents)throw new x("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),g||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(We).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().as(ti).tabs.array().filterType(xe,Wn).get({selected:!0})}applyFilter(e){var i;return y(this,void 0,void 0,function*(){let o,s=this.memo.getType(_i).first();if(typeof e=="string"){if(o=s==null?void 0:s.contents.get({text:e}),!o)throw new x(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof _e&&(o=e);if(!o)throw new x("Invalid filter",e);let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new x("No page returned",{filter:o});return new Qi(this.actions,r,!0)})}applySort(e){var i,o;return y(this,void 0,void 0,function*(){let s=this.memo.getType(Rt).first();if(!s)throw new x("No sort filter sub menu found");let r=(i=s==null?void 0:s.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!r)throw new x(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let l=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ce(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,s,r;return y(this,void 0,void 0,function*(){let l=(s=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(Q).sub_menu)===null||s===void 0?void 0:s.as(xu);if(!l)throw new x("Sub menu not found");let p=l.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new x(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(r=p.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Ce(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(_i))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(_e).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(Rt).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let s=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Q).sub_menu)===null||o===void 0?void 0:o.as(xu);return(s==null?void 0:s.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ce(this.actions,e.page,!0)})}getVideos(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ce(this.actions,e.page,!0)})}getShorts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ce(this.actions,e.page,!0)})}getLiveStreams(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ce(this.actions,e.page,!0)})}getReleases(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ce(this.actions,e.page,!0)})}getPodcasts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ce(this.actions,e.page,!0)})}getPlaylists(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ce(this.actions,e.page,!0)})}getCommunity(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ce(this.actions,e.page,!0)})}getChannels(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("channels");return new Ce(this.actions,e.page,!0)})}getAbout(){var e;return y(this,void 0,void 0,function*(){return(e=(yield this.getTabByURL("about")).memo.getType(Xm))===null||e===void 0?void 0:e[0]})}search(e){var i,o;return y(this,void 0,void 0,function*(){let s=(i=this.memo.getType(Wn))===null||i===void 0?void 0:i[0];if(!s)throw new x("Search tab not found",this);let r=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ce(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var e;return((e=this.memo.getType(Wn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new x("Could not get continuation data");return new Bo(this.actions,i,!0)})}};n(Ce,"Channel");var Bo=class extends he{constructor(e,i,o=!1){var s,r;super(e,i,o),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new x("Could not get continuation data");return new Bo(this.actions,i,!0)})}};n(Bo,"ChannelListContinuation");var Qi=class extends Xi{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(_e).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Qi(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new x("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(_i)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(_e)),new Qi(this.actions,i,!0)})}};n(Qi,"FilteredChannelList");var cs,ri,ds,Lo=class{constructor(e,i,o=!1){var s,r,l;cs.set(this,void 0),ri.set(this,void 0),ds.set(this,void 0),S(this,cs,o?i:d.parseResponse(i),"f"),S(this,ri,e,"f");let p=c(this,cs,"f").on_response_received_endpoints;if(!p)throw new x("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.firstOfType(Ln);let _=((r=m==null?void 0:m.contents)===null||r===void 0?void 0:r.filterType(__))||[];this.contents=ae(_.map(g=>{var w;return(w=g.comment)===null||w===void 0||w.setActions(c(this,ri,"f")),g.setActions(c(this,ri,"f")),g})),S(this,ds,(l=m==null?void 0:m.contents)===null||l===void 0?void 0:l.firstOfType(ke),"f")}applySort(e){var i,o,s,r;return y(this,void 0,void 0,function*(){if(!this.header)throw new x("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(r=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!l)throw new x("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(c(this,ri,"f"),{parse:!0});return new Lo(c(this,ri,"f"),p,!0)})}createComment(e){var i;return y(this,void 0,void 0,function*(){if(!this.header)throw new x("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(m_).submit_button;if(!o)throw new x("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new x("Button does not have an endpoint.");return yield o.endpoint.call(c(this,ri,"f"),{commentText:e})})}getContinuation(){return y(this,void 0,void 0,function*(){if(!c(this,ds,"f"))throw new x("Continuation not found");let e=yield c(this,ds,"f").endpoint.call(c(this,ri,"f"),{parse:!0}),i=Object.assign({},c(this,cs,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new x("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Lo(c(this,ri,"f"),i,!0)})}get has_continuation(){return!!c(this,ds,"f")}get page(){return c(this,cs,"f")}};n(Lo,"Comments");cs=new WeakMap,ri=new WeakMap,ds=new WeakMap;var x0=Lo;var mh,g0=class{constructor(e){mh.set(this,void 0),S(this,mh,$.parseResponse(e),"f"),this.contents=c(this,mh,"f").items.array().as(Hn,V_)}get page(){return c(this,mh,"f")}};n(g0,"Guide");mh=new WeakMap;var y0=g0;var ps=class extends he{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(ve),this.feed_actions=this.memo.getType(Jm).first()}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new ps(this.actions,e,!0)})}};n(ps,"History");var fs=ps;var Bt=class extends Xi{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(E_).first(),this.contents=this.memo.getType(ji).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Bt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return y(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Bt(this.actions,o.page,!0)})}};n(Bt,"HomeFeed");var ai=class extends Xi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new x("Unexpected response",this.page);let o=this.page.contents_memo.getType(xe).first();if(!o.content)throw new x("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(O_,$n)),this.contents=o.content.as(ji)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ai(this.actions,o.page)})}};n(ai,"HashtagFeed");var b0,w0,_h,T0=class{constructor(e,i){b0.set(this,void 0),w0.set(this,void 0),_h.set(this,void 0),S(this,b0,e,"f"),S(this,w0,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(U))throw new x('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,_h,o.as(U).items,"f")}selectItem(e){return y(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new x("Item does not have an endpoint.");i=e.endpoint}else{let s=c(this,_h,"f").find(r=>r.is(Li)?r.as(Li).icon_type===e:!1);if(!s||!s.is(Li))throw new x(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new x("Target button does not have an endpoint.");return yield i.call(c(this,w0,"f"),{parse:!0})})}items(){return c(this,_h,"f")}page(){return c(this,b0,"f")}};n(T0,"ItemMenu");b0=new WeakMap,w0=new WeakMap,_h=new WeakMap;var S0=T0;var vh,I0,hs=class extends he{constructor(e,i,o=!1){var s,r,l,p,f;super(e,i,o),vh.add(this);let m=this.memo.getType(Rv).first(),_=this.memo.getType(Vv).first(),g=this.memo.getType(Ov).first(),w=(s=this.page.alerts)===null||s===void 0?void 0:s.firstOfType(In);if(w&&w.alert_type==="ERROR")throw new x(w.text.toString(),w);if(!_&&!g&&Object.keys(this.page).length===0)throw new x("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(r=this.page.metadata)===null||r===void 0?void 0:r.item().as(Mv)),{subtitle:m?m.subtitle:null,author:(p=(l=g==null?void 0:g.owner)===null||l===void 0?void 0:l.as(ts).author)!==null&&p!==void 0?p:m==null?void 0:m.author,thumbnails:(f=_==null?void 0:_.thumbnail_renderer)===null||f===void 0?void 0:f.as(Un,Yn).thumbnail,total_items:c(this,vh,"m",I0).call(this,0,_),views:c(this,vh,"m",I0).call(this,1,_),last_updated:c(this,vh,"m",I0).call(this,2,_),can_share:m==null?void 0:m.can_share,can_delete:m==null?void 0:m.can_delete,is_editable:m==null?void 0:m.is_editable,privacy:m==null?void 0:m.privacy}),this.menu=_==null?void 0:_.menu,this.endpoint=_==null?void 0:_.endpoint,this.messages=this.memo.getType(He)}get items(){return this.videos}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new hs(this.actions,e,!0)})}};n(hs,"Playlist");vh=new WeakSet,I0=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var xi=hs;var Kg,$1,k0=class extends he{constructor(e,i){if(super(e,i),Kg.add(this),!this.page.contents_memo)throw new x("Page contents not found");let o=this.page.contents_memo.getType(Lv).first(),s=this.page.contents_memo.getType(Fv).first();this.profile={stats:o,user_info:s};let r=this.page.contents_memo.getType(Zn);this.sections=r.map(l=>{var p;return{type:l.icon_type,title:l.title,contents:((p=l.content)===null||p===void 0?void 0:p.key("items").array())||[],getAll:()=>c(this,Kg,"m",$1).call(this,l)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(k0,"Library");Kg=new WeakSet,$1=n(function(e){var i;return y(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(U).hasKey("top_level_buttons")))throw new x(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(U).top_level_buttons.firstOfType(I);if(!o)throw new x("Did not find target button.");let s=yield o.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new xi(this.actions,s,!0);case"WATCH_HISTORY":return new fs(this.actions,s,!0);case"CONTENT_CUT":return new he(this.actions,s,!0);default:throw new x("Target shelf not implemented.")}})},"_Library_getAll");var C0=k0;var ms,E0=class extends EventTarget{constructor(){super(),ms.set(this,new Map)}emit(e,...i){let o=new D.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(s=>{s instanceof D.shim.CustomEvent?i(...s.detail):i(s)},"wrapper");c(this,ms,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(s=>{s instanceof D.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)},"wrapper");c(this,ms,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=c(this,ms,"f").get(i);o&&(this.removeEventListener(e,o),c(this,ms,"f").delete(i))}};n(E0,"EventEmitterLike");ms=new WeakMap;var xh=E0;var gi,Zi,Fo,Tt,Lt,ut;function $I(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n($I,"flattenQueue");var P0=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(P0,"DelayQueue");var N0=class{constructor(){gi.set(this,void 0),Zi.set(this,void 0),Fo.set(this,void 0),Tt.set(this,void 0),Lt.set(this,void 0),ut.set(this,void 0),S(this,gi,null,"f"),S(this,Zi,null,"f"),S(this,Fo,null,"f"),S(this,Tt,[],"f"),S(this,Lt,null,"f"),S(this,ut,new P0,"f")}enqueueActionGroup(e){if(c(this,gi,"f")!==null){let i=Date.now()-c(this,gi,"f");c(this,ut,"f").back.push(i),5<c(this,ut,"f").front.length+c(this,ut,"f").back.length&&(c(this,ut,"f").front.length||(c(this,ut,"f").front=c(this,ut,"f").back,c(this,ut,"f").front.reverse(),c(this,ut,"f").back=[]),c(this,ut,"f").front.pop()),S(this,Zi,Math.max(...c(this,ut,"f").getValues()),"f")}S(this,gi,Date.now(),"f"),c(this,Tt,"f").push(e),c(this,Lt,"f")===null&&S(this,Lt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,Lt,null,"f"),c(this,Tt,"f").length){let e=1e4;c(this,Zi,"f")!==null&&c(this,gi,"f")!==null&&(e=c(this,Zi,"f")-Date.now()+c(this,gi,"f")),e=c(this,Tt,"f").length<e/80?1:Math.ceil(c(this,Tt,"f").length/(e/80));let i=$I(c(this,Tt,"f").splice(0,e));c(this,Fo,"f")&&c(this,Fo,"f").call(this,i),c(this,Tt,"f")!==null&&(e==1?(e=c(this,Zi,"f")/c(this,Tt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,Lt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){c(this,Lt,"f")!==null&&(clearTimeout(c(this,Lt,"f")),S(this,Lt,null,"f")),S(this,Tt,[],"f")}set callback(e){S(this,Fo,e,"f")}get callback(){return c(this,Fo,"f")}get action_queue(){return c(this,Tt,"f")}get estimated_update_interval(){return c(this,Zi,"f")}get last_update_time(){return c(this,gi,"f")}get next_update_id(){return c(this,Lt,"f")}get poll_response_delay_queue(){return c(this,ut,"f")}};n(N0,"SmoothedQueue");gi=new WeakMap,Zi=new WeakMap,Fo=new WeakMap,Tt=new WeakMap,Lt=new WeakMap,ut=new WeakMap;var A0=N0;var Fe,yi,bh,R0,Uo,gh,yh,$g,M0,q1,Yo,V0=class extends xh{constructor(e){var i,o;super(),Fe.add(this),yi.set(this,void 0),bh.set(this,void 0),R0.set(this,void 0),Uo.set(this,void 0),gh.set(this,void 0),yh.set(this,0),this.running=!1,this.is_replay=!1,S(this,bh,e.basic_info.id,"f"),S(this,R0,e.basic_info.channel_id,"f"),S(this,yi,e.actions,"f"),S(this,Uo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new A0,this.smoothed_queue.callback=s=>y(this,void 0,void 0,function*(){s.length?s.length<10?yield c(this,Fe,"m",M0).call(this,s):this.is_replay?(c(this,Fe,"m",M0).call(this,s),yield c(this,Fe,"m",Yo).call(this,2e3)):c(this,Fe,"m",M0).call(this,s):yield c(this,Fe,"m",Yo).call(this,2e3),this.running&&c(this,Fe,"m",$g).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,c(this,Fe,"m",$g).call(this),c(this,Fe,"m",q1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return y(this,void 0,void 0,function*(){let i=yield c(this,yi,"f").execute("/live_chat/send_message",{params:Ig(c(this,R0,"f"),c(this,bh,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:D.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new x("Unexpected response from send_message",i);return i.actions.array().as(G_)})}applyFilter(e){var i,o,s,r,l,p,f;if(!this.initial_info)throw new x("Cannot apply filter before initial info is retrieved.");let m=(s=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=m==null?void 0:m.at(0))===null||r===void 0)&&r.selected)return;S(this,Uo,(l=m==null?void 0:m.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;S(this,Uo,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return y(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new x("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(c(this,yi,"f"),{parse:!0});if(!i)throw new x("Could not retrieve item menu.",e);return new S0(i,c(this,yi,"f"))})}selectButton(e){return y(this,void 0,void 0,function*(){return yield e.endpoint.call(c(this,yi,"f"),{parse:!0})})}};n(V0,"LiveChat");yi=new WeakMap,bh=new WeakMap,R0=new WeakMap,Uo=new WeakMap,gh=new WeakMap,yh=new WeakMap,Fe=new WeakSet,$g=n(function t(){y(this,void 0,void 0,function*(){var e,i;try{let o=yield c(this,yi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:c(this,Uo,"f"),parse:!0}),s=o.continuation_contents;if(s||(this.emit("error",new x("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(s instanceof $i)){this.stop(),this.emit("end");return}S(this,Uo,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&c(this,Fe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),S(this,yh,0,"f")}catch(o){this.emit("error",o),S(this,yh,(i=c(this,yh,"f"),e=i++,i),"f"),e<10?(yield c(this,Fe,"m",Yo).call(this,2e3),c(this,Fe,"m",t).call(this)):(this.emit("error",new x("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),M0=n(function(e){return y(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),s=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let r of e)yield c(this,Fe,"m",Yo).call(this,s),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),q1=n(function t(){y(this,void 0,void 0,function*(){var e,i,o,s,r,l,p,f,m,_,g;try{let w={videoId:c(this,bh,"f")};c(this,gh,"f")&&(w.continuation=c(this,gh,"f"));let T=yield c(this,yi,"f").execute("/updated_metadata",w),C=d.parseResponse(T.data);S(this,gh,(e=C.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=C.actions)===null||i===void 0?void 0:i.array().firstOfType(X_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((s=C.actions)===null||s===void 0?void 0:s.array().firstOfType(q_))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((l=C.actions)===null||l===void 0?void 0:l.array().firstOfType(Z_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=C.actions)===null||f===void 0?void 0:f.array().firstOfType(Q_))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((_=C.actions)===null||_===void 0?void 0:_.array().firstOfType($_))||((g=this.metadata)===null||g===void 0?void 0:g.date)},this.emit("metadata-update",this.metadata),yield c(this,Fe,"m",Yo).call(this,5e3),this.running&&c(this,Fe,"m",t).call(this)}catch(w){yield c(this,Fe,"m",Yo).call(this,2e3),this.running&&c(this,Fe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),Yo=n(function(e){return y(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var O0=V0;var jo,wh,_s=class{constructor(e,i){jo.set(this,void 0),wh.set(this,void 0),S(this,wh,e,"f"),S(this,jo,d.parseResponse(i.data),"f"),this.header=c(this,jo,"f").actions_memo.getType(av).first(),this.contents=c(this,jo,"f").actions_memo.getType(Iv)}getContinuation(){return y(this,void 0,void 0,function*(){let e=c(this,jo,"f").actions_memo.getType(ke).first();if(!e)throw new x("Continuation not found");let i=yield e.endpoint.call(c(this,wh,"f"),{parse:!1});return new _s(c(this,wh,"f"),i)})}get page(){return c(this,jo,"f")}};n(_s,"NotificationsMenu");jo=new WeakMap,wh=new WeakMap;var D0=_s;var Wo=class extends he{constructor(e,i,o=!1){var s,r,l,p,f,m;super(e,i,o);let _=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(Q).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!_)throw new x("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Jv)),this.results=(l=_.find(g=>g.is(ve)&&g.contents&&g.contents.length>0))===null||l===void 0?void 0:l.as(ve).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Gv).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(o0).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(Mi)}selectRefinementCard(e){var i,o;return y(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(!this.refinement_cards)throw new x("No refinement cards found.");if(s=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(mo),!s)throw new x(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new x("Invalid refinement card!");let r=yield s.endpoint.call(this.actions,{parse:!0});return new Wo(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(mo).map(i=>i.query))||[]}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new Wo(this.actions,e,!0)})}};n(Wo,"Search");var B0=Wo;var Ho,Th,vs=class{constructor(e,i){var o,s,r,l;if(Ho.set(this,void 0),Th.set(this,void 0),S(this,Th,e,"f"),S(this,Ho,d.parseResponse(i.data),"f"),this.sidebar=(o=c(this,Ho,"f").sidebar)===null||o===void 0?void 0:o.as($v),!c(this,Ho,"f").contents)throw new x("Page contents not found");let p=c(this,Ho,"f").contents.item().as(ti).tabs.array().as(xe).get({selected:!0});if(!p)throw new x("Target tab not found");let f=(s=p.content)===null||s===void 0?void 0:s.as(Q).contents.as(ve);this.introduction=(l=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(Cv),this.sections=f==null?void 0:f.map(m=>{var _;return{title:((_=m.header)===null||_===void 0?void 0:_.title.toString())||null,contents:m.contents}})}selectSidebarItem(e){return y(this,void 0,void 0,function*(){if(!this.sidebar)throw new x("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new x(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Fn))i=e;else throw new x("Invalid item",{target_item:e});let o=yield i.endpoint.call(c(this,Th,"f"),{parse:!1});return new vs(c(this,Th,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new x("Sections not available");for(let o of this.sections)if(!!o.contents)for(let s of o.contents){let r=s.as(Qn).options;if(r){for(let l of r)if(l.is(Xn)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new x(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new x("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Qn).options&&(e=e.concat(o.as(Qn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new x("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return c(this,Ho,"f")}};n(vs,"Settings");Ho=new WeakMap,Th=new WeakMap;var L0=vs;var xs,F0=class{constructor(e){var i;if(xs.set(this,void 0),S(this,xs,d.parseResponse(e.data),"f"),!c(this,xs,"f").contents)throw new x("Page contents not found");let o=c(this,xs,"f").contents.item().as(ei).tabs.get({selected:!0});if(!o)throw new x("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(Q).contents.as(ve)}get page(){return c(this,xs,"f")}};n(F0,"TimeWatched");xs=new WeakMap;var Y0=F0;var iy={};L(iy,{Feed:()=>he,FilterableFeed:()=>Xi,MediaInfo:()=>to,TabbedFeed:()=>as});var W0={};L(W0,{chooseFormat:()=>G0,download:()=>ey,toDash:()=>J0});var qI={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function X1(t){return t.replace(/([&"<>'])/g,(e,i)=>qI[i])}n(X1,"escapeXMLString");function XI(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(XI,"normalizeTag");function ce(t,e,...i){let o=i.flat().map(s=>typeof s=="string"?QI(s):s);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:XI(t),props:Object.assign(Object.assign({},e),{children:o})}}n(ce,"createElement");function QI(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(QI,"createTextElement");function Q1(t){return y(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return X1(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${X1(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>Q1(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(Q1,"renderElementToString");function Z1(t){return y(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield Q1(yield t)}`})}n(Z1,"renderToString");function eS(t){return t.children}n(eS,"Fragment");var Jo,U0=class{constructor(e,i){Jo.set(this,void 0),S(this,Jo,new D.shim.Cache(e,i),"f")}get cache_dir(){return c(this,Jo,"f").cache_dir}get(e){return c(this,Jo,"f").get(e)}set(e,i){return c(this,Jo,"f").set(e,i)}remove(e){return c(this,Jo,"f").remove(e)}};n(U0,"UniversalCache");Jo=new WeakMap;var ek=U0;var qg,Ft,gs,Sh,tS,j0=class{constructor(e,i,o){qg.add(this),Ft.set(this,void 0),gs.set(this,void 0),Sh.set(this,void 0),S(this,Ft,e,"f"),S(this,gs,i,"f"),S(this,Sh,o||D.shim.fetch,"f")}get fetch_function(){return c(this,Sh,"f")}fetch(e,i){return y(this,void 0,void 0,function*(){let o=pe.API.PRODUCTION_1+c(this,Ft,"f").api_version,s=(i==null?void 0:i.baseURL)||o,r=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),l=(i==null?void 0:i.headers)||(e instanceof D.shim.Request?e.headers:new D.shim.Headers)||new D.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof D.shim.Request?e.body:void 0),f=new D.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",c(this,Ft,"f").context.client.visitorData||""),f.set("X-Origin",r.origin),f.set("X-Youtube-Client-Version",c(this,Ft,"f").context.client.clientVersion||""),D.shim.server&&(f.set("User-Agent",Go("desktop")),f.set("origin",r.origin)),r.searchParams.set("key",c(this,Ft,"f").key),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let m=f.get("Content-Type"),_=p,g=!1,w=s===o||s===pe.YT_UPLOAD;if(m==="application/json"&&w&&typeof p=="string"){let N=JSON.parse(p),R=Object.assign(Object.assign({},N),{context:JSON.parse(JSON.stringify(c(this,Ft,"f").context))});c(this,qg,"m",tS).call(this,R.context,R.client),f.set("x-youtube-client-version",R.context.client.clientVersion),delete R.client,D.shim.server&&(R.context.client.clientName==="ANDROID"||R.context.client.clientName==="ANDROID_MUSIC"?f.set("User-Agent",H.ANDROID.USER_AGENT):R.context.client.clientName==="iOS"&&f.set("User-Agent",H.iOS.USER_AGENT)),g=R.context.client.clientName==="WEB_KIDS",_=JSON.stringify(R)}if(c(this,Ft,"f").logged_in&&w&&!g){let N=c(this,Ft,"f").oauth;if(N.validateCredentials()&&(yield N.refreshIfRequired(),f.set("authorization",`Bearer ${N.credentials.access_token}`),r.searchParams.delete("key")),c(this,gs,"f")){let R=je(c(this,gs,"f"),"PAPISID=",";");R&&(f.set("authorization",yield Qg(R)),f.set("x-goog-authuser",c(this,Ft,"f").account_index.toString())),f.set("cookie",c(this,gs,"f"))}}let T=new D.shim.Request(r,e instanceof D.shim.Request?e:i),C=yield c(this,Sh,"f").call(this,T,{body:_,headers:f,credentials:"include",redirect:e instanceof D.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(C.ok)return C;throw new x(`Request to ${C.url} failed with status ${C.status}`,yield C.text())})}};n(j0,"HTTPClient");Ft=new WeakMap,gs=new WeakMap,Sh=new WeakMap,qg=new WeakSet,tS=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=H.ANDROID.SDK_VERSION,e.client.userAgent=H.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=H.iOS.DEVICE_MODEL,e.client.clientVersion=H.iOS.VERSION,e.client.clientName=H.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=H.YTMUSIC.VERSION,e.client.clientName=H.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=H.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=H.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=H.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=H.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=H.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=H.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=H.TV_EMBEDDED.NAME,e.client.clientVersion=H.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:pe.YT_BASE};break;case"YTKIDS":e.client.clientVersion=H.WEB_KIDS.VERSION,e.client.clientName=H.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Xg=j0;function tk(t){var e,i,o;let s=new Map,r=t.some(l=>!!l.audio_track);for(let l of t){if((!l.index_range||!l.init_range)&&!l.is_type_otf)continue;let p=l.mime_type.split(";")[0],f=(e=je(l.mime_type,'codecs="','"'))===null||e===void 0?void 0:e.split(".")[0],m=l.color_info?Object.values(l.color_info).join("-"):"",_=((i=l.audio_track)===null||i===void 0?void 0:i.id)||"",g=`${p}-${f}-${m}-${_}`;s.has(g)||s.set(g,[]),(o=s.get(g))===null||o===void 0||o.push(l)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:r}}n(tk,"getFormatGroupings");function iS(t,e){if(t.length>1&&new Set(t.map(i=>je(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),je(t[0].mime_type,'codecs="','"')}n(iS,"hoistCodecsIfPossible");function oS(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(oS,"hoistNumberAttributeIfPossible");function ik(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(ik,"hoistAudioChannelsIfPossible");function ok(t,e){var i;return y(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ue.STREAM_HEADERS,redirect:"follow"}),s=o.url.replace("&rn=0","").replace("&sq=0",""),r=yield o.text(),l=(i=je(r,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!l)throw new x("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of l){let m=f.trim();if(m.length===0)continue;let _,g=je(m,"(r=",")");g&&(_=parseInt(g)),p.push({duration:parseInt(m),repeat_count:_})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:p}})}n(ok,"getOTFSegmentTemplate");function nS(t,e,i,o,s){let r=new URL(t.decipher(o));r.searchParams.set("cpn",s||"");let l=e(r).toString();if(t.is_type_otf){if(!i)throw new x("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,getSegmentTemplate(){return ok(l,i)}}}if(!t.index_range||!t.init_range)throw new x("Index and init ranges not available",{format:t});return{is_oft:!1,base_url:l,index_range:t.index_range,init_range:t.init_range}}n(nS,"getSegmentInfo");function nk(t,e,i,o,s,r){return new URL(t.decipher(s)).searchParams.set("cpn",r||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:nS(t,i,o,s,r)}}n(nk,"getAudioRepresentation");function sk(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}n(sk,"getTrackRole");function rk(t,e,i,o,s){var r;let l=t[0],{audio_track:p}=l,f=[];return{mime_type:l.mime_type.split(";")[0],language:(r=l.language)!==null&&r!==void 0?r:void 0,codecs:iS(t,f),audio_sample_rate:oS(t,"audio_sample_rate",f),track_name:p==null?void 0:p.display_name,track_role:sk(l),channels:ik(t,f),representations:t.map(_=>nk(_,f,e,i,o,s))}}n(rk,"getAudioSet");var ak={BT709:"1",BT2020:"9"},uk={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},lk={BT709:"1",BT2020_NCL:"14"};function ck(t){let e=t.color_info,i=e!=null&&e.primaries?ak[e.primaries]:void 0,o=e!=null&&e.transfer_characteristics?uk[e.transfer_characteristics]:void 0,s=e!=null&&e.matrix_coefficients?lk[e.matrix_coefficients]:void 0;if((e==null?void 0:e.matrix_coefficients)&&!s){let l=new URL(t.url),p=JSON.parse(JSON.stringify(t));p.url="REDACTED",p.signature_cipher="REDACTED",p.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${D.shim.info.bugs_url} so we can add support for it.
Innertube client: ${l.searchParams.get("c")}
format:`,p)}return{primaries:i,transfer_characteristics:o,matrix_coefficients:s}}n(ck,"getColorInfo");function dk(t,e,i,o,s,r){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:nS(t,e,s,o,r)}}n(dk,"getVideoRepresentation");function pk(t,e,i,o,s){let r=t[0],l=ck(r),p=[];return{mime_type:r.mime_type.split(";")[0],color_info:l,codecs:iS(t,p),fps:oS(t,"fps",p),representations:t.map(m=>dk(m,e,p,i,o,s))}}n(pk,"getVideoSet");function fk(t){var e;let i=new Map;for(let o of t.boards){let s=new URL(o.template_url).pathname.split(".").pop(),r=`image/${s==="jpg"?"jpeg":s}`;i.has(r)||i.set(r,[]),(e=i.get(r))===null||e===void 0||e.push(o)}return i}n(fk,"getStoryboardInfo");function hk(t,e,i,o,s){return y(this,void 0,void 0,function*(){let r=e.template_url,l=i(new URL(r.replace("$M","0"))),p=s.response?s.response:t.session.http.fetch_function(l,{method:"HEAD",headers:Ue.STREAM_HEADERS});return s.response=p,(yield p).headers.get("Content-Type")||o})}n(hk,"getStoryboardMimeType");function mk(t,e,i){return y(this,void 0,void 0,function*(){let o=e.template_url,s=[],r=Math.min(e.storyboard_count,10);for(let m=0;m<r;m++){let _=new URL(o.replace("$M",m.toString())),g=m===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:Ue.STREAM_HEADERS});m===0&&(i.response=g),s.push(g)}let l=yield Promise.all(s),p=[];for(let m of l)p.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(mk,"getStoryboardBitrate");function _k(t,e,i,o,s){let r=i.template_url,l=new URL(r.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return mk(e,i,s)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:t/i.storyboard_count,template_url:o(l).toString(),getURL(f){return l.toString().replace("$Number$",f.toString())}}}n(_k,"getImageRepresentation");function vk(t,e,i,o){let s=fk(i),r={};return Array.from(s.entries()).map(([l,p])=>({probable_mime_type:l,getMimeType(){return hk(e,p[0],o,l,r)},representations:p.map(f=>_k(t,e,f,o,r))}))}n(vk,"getImageSets");function H0(t,e=p=>p,i,o,s,r,l){if(!t)throw new x("Streaming data not available");let p=i?t.adaptive_formats.filter(V=>!i(V)):t.adaptive_formats,f=p[0].approx_duration_ms/1e3,{groups:m,has_multiple_audio_tracks:_}=tk(p),{video_groups:g,audio_groups:w}=m.reduce((V,q)=>q[0].has_audio?(_&&!q[0].audio_track||V.audio_groups.push(q),V):(V.video_groups.push(q),V),{video_groups:[],audio_groups:[]}),T=w.map(V=>rk(V,e,r,s,o)),C=g.map(V=>pk(V,e,s,r,o)),N=l&&r?vk(f,r,l,e):[];return{duration:f,audio_sets:T,video_sets:C,image_sets:N}}n(H0,"getStreamingInfo");function xk({info:t}){return y(this,void 0,void 0,function*(){if(!t.is_oft)return null;let e=yield t.getSegmentTemplate();return ce("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},ce("segment-timeline",null,e.timeline.map(i=>ce("s",{d:i.duration,r:i.repeat_count}))))})}n(xk,"OTFSegmentInfo");function sS({info:t}){return t.is_oft?ce(xk,{info:t}):ce(eS,null,ce("base-url",null,t.base_url),ce("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ce("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(sS,"SegmentInfo");function gk({streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:s,actions:r,storyboards:l}){let{duration:p,audio_sets:f,video_sets:m,image_sets:_}=H0(t,e,i,o,s,r,l);return ce("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${p}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ce("period",null,f.map((g,w)=>ce("adaptation-set",{id:w,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:g.language,codecs:g.codecs,audioSamplingRate:g.audio_sample_rate},g.track_role&&ce("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:g.track_role}),g.track_name&&ce("label",{id:w},g.track_name),g.channels&&ce("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:g.channels}),g.representations.map(T=>ce("representation",{id:T.uid,bandwidth:T.bitrate,codecs:T.codecs,audioSamplingRate:T.audio_sample_rate},T.channels&&ce("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:T.channels}),ce(sS,{info:T.segment_info}))))),m.map((g,w)=>ce("adaptation-set",{id:w+f.length,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:g.codecs,maxPlayoutRate:"1",frameRate:g.fps},g.color_info.primaries&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:g.color_info.primaries}),g.color_info.transfer_characteristics&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:g.color_info.transfer_characteristics}),g.color_info.matrix_coefficients&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:g.color_info.matrix_coefficients}),g.representations.map(T=>ce("representation",{id:T.uid,bandwidth:T.bitrate,width:T.width,height:T.height,codecs:T.codecs,frameRate:T.fps},ce(sS,{info:T.segment_info}))))),_.map((g,w)=>y(this,void 0,void 0,function*(){return ce("adaptation-set",{id:w+f.length+m.length,mimeType:yield g.getMimeType(),contentType:"image"},g.representations.map(T=>y(this,void 0,void 0,function*(){return ce("representation",{id:`thumbnails_${T.thumbnail_width}x${T.thumbnail_height}`,bandwidth:yield T.getBitrate(),width:T.sheet_width,height:T.sheet_height},ce("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${T.columns}x${T.rows}`}),ce("segment-template",{media:T.template_url,duration:T.template_duration,startNumber:"0"}))})))}))))}n(gk,"DashManifest");function J0(t,e=p=>p,i,o,s,r,l){if(!t)throw new x("Streaming data not available");return Z1(ce(gk,{streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:s,actions:r,storyboards:l}))}n(J0,"toDash");function ey(t,e,i,o,s,r){return y(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new x("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new x("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new x("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=G0(l,o),f=p.decipher(s);if(l.type==="video+audio"&&!t.range){let N=yield e.session.http.fetch_function(`${f}&cpn=${r}`,{method:"GET",headers:Qh,redirect:"follow"});if(!N.ok)throw new x("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:N});let R=N.body;if(!R)throw new x("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:N});return R}let m=1048576*10,_=t.range?t.range.start:0,g=t.range?t.range.end:m,w=!1,T;return new D.shim.ReadableStream({start(){},pull:N=>y(this,void 0,void 0,function*(){if(w){N.close();return}return(g>=(p.content_length?p.content_length:0)||t.range)&&(w=!0),new Promise((R,V)=>y(this,void 0,void 0,function*(){var q,z,me,ge;try{T=new AbortController;let K=yield e.session.http.fetch_function(`${f}&cpn=${r}&range=${_}-${g||""}`,{method:"GET",headers:Object.assign({},Qh),signal:T.signal}),W=K.body;if(!W)throw new x("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:K});try{for(var Te=!0,Se=Ky(ty(W)),Ae;Ae=yield Se.next(),q=Ae.done,!q;Te=!0){ge=Ae.value,Te=!1;let X=ge;N.enqueue(X)}}catch(X){z={error:X}}finally{try{!Te&&!q&&(me=Se.return)&&(yield me.call(Se))}finally{if(z)throw z.error}}_=g+1,g+=m,R()}catch(K){V(K)}}))}),cancel(N){return y(this,void 0,void 0,function*(){T.abort(N)})}},{highWaterMark:1,size(N){return N.byteLength}})})}n(ey,"download");function G0(t,e){if(!e)throw new x("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,s=t.type?t.type.includes("video"):!0,r=t.language||"original",l=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(l),m=l!=="best",_=i.filter(g=>o&&!g.has_audio||s&&!g.has_video||t.format!=="any"&&!g.mime_type.includes(t.format||"mp4")||!f&&g.quality_label!==l?!1:(p<g.width&&(p=g.width),!0));if(!_.length)throw new x("No matching formats found",{options:t});if(f&&s&&(_=_.filter(g=>g.width===p)),o&&!s){let g=_.filter(w=>r!=="original"?!w.has_video&&w.language===r:!w.has_video&&w.is_original);g.length>0&&(_=g)}return m?_.sort((g,w)=>g.bitrate-w.bitrate):_.sort((g,w)=>w.bitrate-g.bitrate),_[0]}n(G0,"chooseFormat");var Ih,kh,ys=class{constructor(e,i){Ih.set(this,void 0),kh.set(this,void 0),S(this,Ih,d.parseResponse(i.data),"f"),S(this,kh,e,"f"),this.transcript=c(this,Ih,"f").actions_memo.getType(Nn).first()}selectLanguage(e){var i,o,s,r;return y(this,void 0,void 0,function*(){let l=(r=(s=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.find(f=>f.title.toString()===e);if(!l)throw new Error(`Language not found: ${e}`);if(l.selected)return this;let p=yield c(this,kh,"f").execute("/get_transcript",{params:l.continuation});return new ys(c(this,kh,"f"),p)})}get languages(){var e,i,o,s;return((s=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||s===void 0?void 0:s.map(r=>r.title.toString()))||[]}get selectedLanguage(){var e,i,o,s,r;return((r=(s=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||s===void 0?void 0:s.find(l=>l.selected))===null||r===void 0?void 0:r.title.toString())||""}get page(){return c(this,Ih,"f")}};n(ys,"TranscriptInfo");Ih=new WeakMap,kh=new WeakMap;var rS=ys;var eo,Yt,bs,Ch,z0=class{constructor(e,i,o){var s,r;eo.set(this,void 0),Yt.set(this,void 0),bs.set(this,void 0),Ch.set(this,void 0),S(this,Yt,i,"f");let l=d.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?d.parseResponse(e[1].data):void 0;if(S(this,eo,[l,p],"f"),S(this,bs,o,"f"),((r=l.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new x("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,S(this,Ch,l.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var s;return y(this,void 0,void 0,function*(){let r=c(this,eo,"f")[0];if(r.video_details&&(r.video_details.is_live||r.video_details.is_post_live_dvr))throw new x("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let l;return o.include_thumbnails&&((s=r.storyboards)===null||s===void 0?void 0:s.is(ho))&&(l=r.storyboards),J0(this.streaming_data,e,i,c(this,bs,"f"),c(this,Yt,"f").session.player,c(this,Yt,"f"),l)})}getStreamingInfo(e,i){var o;return H0(this.streaming_data,e,i,this.cpn,c(this,Yt,"f").session.player,c(this,Yt,"f"),!((o=c(this,eo,"f")[0].storyboards)===null||o===void 0)&&o.is(ho)?c(this,eo,"f")[0].storyboards:void 0)}chooseFormat(e){return G0(e,this.streaming_data)}download(e={}){return y(this,void 0,void 0,function*(){let i=c(this,eo,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new x("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return ey(e,c(this,Yt,"f"),this.playability_status,this.streaming_data,c(this,Yt,"f").session.player,this.cpn)})}getTranscript(){var e;return y(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new x("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new x("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new x("Transcript panel not found. Video likely has no transcript.");let s=(e=o.content)===null||e===void 0?void 0:e.as(ke);if(!s)throw new x("Transcript continuation not found.");let r=yield s.endpoint.call(this.actions);return new rS(this.actions,r)})}addToWatchHistory(e=H.WEB.NAME,i=H.WEB.VERSION,o="https://www."){return y(this,void 0,void 0,function*(){if(!c(this,Ch,"f"))throw new x("Playback tracking not available");let s={cpn:c(this,bs,"f"),fmt:251,rtn:0,rt:0},r=c(this,Ch,"f").videostats_playback_url.replace("https://s.",o);return yield c(this,Yt,"f").stats(r,{client_name:e,client_version:i},s)})}get actions(){return c(this,Yt,"f")}get cpn(){return c(this,bs,"f")}get page(){return c(this,eo,"f")}};n(z0,"MediaInfo");eo=new WeakMap,Yt=new WeakMap,bs=new WeakMap,Ch=new WeakMap;var to=z0;var io,ws=class extends to{constructor(e,i,o){var s,r,l,p,f,m,_,g,w,T,C,N,R,V,q,z,me,ge,Te,Se,Ae,K,W,X,ie,Re,ct,dt,pt,Ke,tt,it,fe,De,Ht,Jt,Gt,zt,gt,Cr,cg,dg;super(e,i,o),io.set(this,void 0);let[de,fi]=this.page;if(de.microformat&&!(!((s=de.microformat)===null||s===void 0)&&s.is(Dt,Xt)))throw new x("Invalid microformat",de.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},de.video_details),{embed:!((r=de.microformat)===null||r===void 0)&&r.is(Dt)?(l=de.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=de.microformat)===null||p===void 0)&&p.is(Dt)?(f=de.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=de.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(_=de.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((g=de.microformat)===null||g===void 0)&&g.is(Dt)?(w=de.microformat)===null||w===void 0?void 0:w.category:null,has_ypc_metadata:!((T=de.microformat)===null||T===void 0)&&T.is(Dt)?(C=de.microformat)===null||C===void 0?void 0:C.has_ypc_metadata:null,start_timestamp:!((N=de.microformat)===null||N===void 0)&&N.is(Dt)?de.microformat.start_timestamp:null,view_count:((R=de.microformat)===null||R===void 0?void 0:R.is(Dt))&&isNaN((V=de.video_details)===null||V===void 0?void 0:V.view_count)?de.microformat.view_count:(q=de.video_details)===null||q===void 0?void 0:q.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=de.annotations,this.storyboards=de.storyboards,this.endscreen=de.endscreen,this.captions=de.captions,this.cards=de.cards,this.streaming_data){let Be=this.streaming_data.adaptive_formats.find(Ei=>{var $e;return($e=Ei.audio_track)===null||$e===void 0?void 0:$e.audio_is_default});if(Be)this.streaming_data.formats.forEach(Ei=>Ei.language=Be.language);else if(typeof((z=this.captions)===null||z===void 0?void 0:z.default_audio_track_index)<"u"&&((me=this.captions)===null||me===void 0?void 0:me.audio_tracks)&&this.captions.caption_tracks){let $e=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,jy=this.captions.caption_tracks[$e].language_code;this.streaming_data.adaptive_formats.forEach(qh=>{qh.has_audio&&(qh.language=jy)}),this.streaming_data.formats.forEach(qh=>qh.language=jy)}}let ot=(ge=fi==null?void 0:fi.contents)===null||ge===void 0?void 0:ge.item().as(es),Tn=ot==null?void 0:ot.results,$h=ot==null?void 0:ot.secondary_results;if(Tn&&$h){if(((Te=de.microformat)===null||Te===void 0?void 0:Te.is(Dt))&&((Se=de.microformat)===null||Se===void 0?void 0:Se.category)==="Gaming"){let $e=(W=(K=(Ae=Tn.firstOfType(qf))===null||Ae===void 0?void 0:Ae.metadata)===null||K===void 0?void 0:K.rows)===null||W===void 0?void 0:W.firstOfType(Up);$e!=null&&$e.is(Up)&&(this.game_info={title:(ie=(X=$e==null?void 0:$e.contents)===null||X===void 0?void 0:X.firstOfType(Fp))===null||ie===void 0?void 0:ie.title,release_year:(ct=(Re=$e==null?void 0:$e.contents)===null||Re===void 0?void 0:Re.firstOfType(Fp))===null||ct===void 0?void 0:ct.subtitle})}this.primary_info=Tn.firstOfType(n0),this.secondary_info=Tn.firstOfType(qf),this.merchandise=Tn.firstOfType(uv),this.related_chip_cloud=(dt=$h.firstOfType(jv))===null||dt===void 0?void 0:dt.content.as(ft),ot!=null&&ot.playlist&&(this.playlist=ot.playlist),this.watch_next_feed=((pt=$h.firstOfType(ve))===null||pt===void 0?void 0:pt.contents)||$h,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Ke=this.watch_next_feed.at(-1))===null||Ke===void 0?void 0:Ke.is(ke))&&S(this,io,(tt=this.watch_next_feed.pop())===null||tt===void 0?void 0:tt.as(ke),"f"),this.player_overlays=(it=fi==null?void 0:fi.player_overlays)===null||it===void 0?void 0:it.item().as(Ui),ot!=null&&ot.autoplay&&(this.autoplay=ot.autoplay);let Be=(De=(fe=this.primary_info)===null||fe===void 0?void 0:fe.menu)===null||De===void 0?void 0:De.top_level_buttons.firstOfType(Eo);((Ht=Be==null?void 0:Be.like_button)===null||Ht===void 0?void 0:Ht.is(Ve))&&((Jt=Be==null?void 0:Be.dislike_button)===null||Jt===void 0?void 0:Jt.is(Ve))&&(this.basic_info.like_count=(Gt=Be==null?void 0:Be.like_button)===null||Gt===void 0?void 0:Gt.like_count,this.basic_info.is_liked=(zt=Be==null?void 0:Be.like_button)===null||zt===void 0?void 0:zt.is_toggled,this.basic_info.is_disliked=(gt=Be==null?void 0:Be.dislike_button)===null||gt===void 0?void 0:gt.is_toggled);let Ei=(Cr=Tn.get({target_id:"comments-entry-point"}))===null||Cr===void 0?void 0:Cr.as(ve);this.comments_entry_point_header=(cg=Ei==null?void 0:Ei.contents)===null||cg===void 0?void 0:cg.firstOfType(h_),this.livechat=(dg=fi==null?void 0:fi.contents_memo)===null||dg===void 0?void 0:dg.getType(W_).first()}}selectFilter(e){var i,o,s,r;return y(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new x("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let m=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!m)throw new x("Invalid filter",{available_filters:this.filters});l=m}else if(e!=null&&e.is(_e))l=e;else throw new x("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(s=l.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),f=(r=p==null?void 0:p.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,s,r;return y(this,void 0,void 0,function*(){if(!c(this,io,"f"))throw new x("Watch next feed continuation not found");let l=yield(e=c(this,io,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new x("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||s===void 0)&&s.is(ke)?S(this,io,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(ke),"f"):S(this,io,void 0,"f"),this})}like(){var e,i;return y(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Eo),s=o==null?void 0:o.like_button;if(!s)throw new x("Like button not found",{video_id:this.basic_info.id});if(!s.is(Ve))throw new x("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new x("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}dislike(){var e,i;return y(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Eo),s=o==null?void 0:o.dislike_button;if(!s)throw new x("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(Ve))throw new x("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new x("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}removeRating(){var e,i;return y(this,void 0,void 0,function*(){let o,s=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Eo),r=s==null?void 0:s.like_button,l=s==null?void 0:s.dislike_button;if(!(r!=null&&r.is(Ve))||!(l!=null&&l.is(Ve)))throw new x("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r!=null&&r.is_toggled?o=r:l!=null&&l.is_toggled&&(o=l),!o)throw new x("This video is not liked/disliked",{video_id:this.basic_info.id});return yield o.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new x("Live Chat is not available",{video_id:this.basic_info.id});return new O0(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(up).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new ws([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var s;return(s=o.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!c(this,io,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(up))}get music_tracks(){var e,i,o,s,r,l;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var m;return(m=f.content)===null||m===void 0?void 0:m.is(vo)});if(p!==void 0&&p.length>0){let f=(r=(s=(o=p[0].content)===null||o===void 0?void 0:o.as(vo))===null||s===void 0?void 0:s.items)===null||r===void 0?void 0:r.filterType(Pn);if(f!==void 0&&f.length>0)return(l=f[0].carousel_lockups)===null||l===void 0?void 0:l.map(m=>{var _,g,w,T,C,N,R,V,q,z,me,ge,Te,Se,Ae,K,W,X,ie;let Re,ct,dt,pt,Ke,tt;Re=(g=(_=m.video_lockup)===null||_===void 0?void 0:_.title)===null||g===void 0?void 0:g.toString(),Ke=(w=m.video_lockup)===null||w===void 0?void 0:w.endpoint.payload.videoId;for(let it=0;it<m.info_rows.length;it++){let fe=m.info_rows[it];if(fe.info_row_expand_status_key===void 0)if(Re===void 0){if(Re=((T=fe.default_metadata)===null||T===void 0?void 0:T.toString())||((C=fe.expanded_metadata)===null||C===void 0?void 0:C.toString()),Ke===void 0){let De=((N=fe.default_metadata)===null||N===void 0?void 0:N.endpoint)||((R=fe.expanded_metadata)===null||R===void 0?void 0:R.endpoint);Ke=(V=De==null?void 0:De.payload)===null||V===void 0?void 0:V.videoId}}else dt=((q=fe.default_metadata)===null||q===void 0?void 0:q.toString())||((z=fe.expanded_metadata)===null||z===void 0?void 0:z.toString());else{if(((me=fe.info_row_expand_status_key)===null||me===void 0?void 0:me.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(ct=((ge=fe.default_metadata)===null||ge===void 0?void 0:ge.toString())||((Te=fe.expanded_metadata)===null||Te===void 0?void 0:Te.toString()),tt===void 0)){let De=((Se=fe.default_metadata)===null||Se===void 0?void 0:Se.endpoint)||((Ae=fe.expanded_metadata)===null||Ae===void 0?void 0:Ae.endpoint);tt=(K=De==null?void 0:De.payload)===null||K===void 0?void 0:K.browseId}((W=fe.info_row_expand_status_key)===null||W===void 0?void 0:W.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(pt=((X=fe.default_metadata)===null||X===void 0?void 0:X.toString())||((ie=fe.expanded_metadata)===null||ie===void 0?void 0:ie.toString()))}}return{song:Re,artist:ct,album:dt,license:pt,videoId:Ke,channelId:tt}})}return[]}};n(ws,"VideoInfo");io=new WeakMap;var Eh=ws;var sy={};L(sy,{Album:()=>$0,Artist:()=>Q0,Explore:()=>ex,HomeFeed:()=>tx,Library:()=>ix,LibraryContinuation:()=>qo,Playlist:()=>Ns,Recap:()=>nx,Search:()=>sx,TrackInfo:()=>Vh});var bi,K0=class{constructor(e){var i,o,s;if(bi.set(this,void 0),S(this,bi,d.parseResponse(e.data),"f"),this.header=(i=c(this,bi,"f").header)===null||i===void 0?void 0:i.item().as(ko),this.url=((o=c(this,bi,"f").microformat)===null||o===void 0?void 0:o.as(Xt).url_canonical)||null,!c(this,bi,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(s=c(this,bi,"f").contents_memo.getType(ye))===null||s===void 0?void 0:s.first().contents,this.sections=c(this,bi,"f").contents_memo.getType(Pe)||[]}get page(){return c(this,bi,"f")}};n(K0,"Album");bi=new WeakMap;var $0=K0;var Ts,q0,X0=class{constructor(e,i){var o,s,r;Ts.set(this,void 0),q0.set(this,void 0),S(this,Ts,d.parseResponse(e.data),"f"),S(this,q0,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(gv,Sv,Yi);let l=((s=c(this,Ts,"f").contents_memo)===null||s===void 0?void 0:s.getType(ye))||[],p=((r=c(this,Ts,"f").contents_memo)===null||r===void 0?void 0:r.getType(Pe))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return y(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new x("Could not find any node of type MusicShelf.");let s=o.find(p=>p.title.toString()==="Songs");if(!s)throw new x("Could not find target shelf (Songs).");if(!s.endpoint)throw new x("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield s.endpoint.call(c(this,q0,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Co))===null||i===void 0?void 0:i.first()})}get page(){return c(this,Ts,"f")}};n(X0,"Artist");Ts=new WeakMap,q0=new WeakMap;var Q0=X0;var Ph,Z0=class{constructor(e){var i,o,s;Ph.set(this,void 0),S(this,Ph,d.parseResponse(e.data),"f");let r=(i=c(this,Ph,"f").contents)===null||i===void 0?void 0:i.item().as(ei).tabs.get({selected:!0});if(!r)throw new x("Could not find target tab.");let l=(o=r.content)===null||o===void 0?void 0:o.as(Q);if(!l)throw new x("Target tab did not have any content.");this.top_buttons=((s=l.contents.firstOfType(wo))===null||s===void 0?void 0:s.items.as(Jn))||[],this.sections=l.contents.filterType(Pe)}get page(){return c(this,Ph,"f")}};n(Z0,"Explore");Ph=new WeakMap;var ex=Z0;var oo,zo,Ko,$o=class{constructor(e,i){var o,s,r,l,p,f;oo.set(this,void 0),zo.set(this,void 0),Ko.set(this,void 0),S(this,zo,i,"f"),S(this,oo,d.parseResponse(e.data),"f");let m=(o=c(this,oo,"f").contents)===null||o===void 0?void 0:o.item().as(ei).tabs.get({selected:!0});if(!m)throw new x("Could not find Home tab.");if(m.content===null){if(!c(this,oo,"f").continuation_contents)throw new x("Continuation did not have any content.");S(this,Ko,c(this,oo,"f").continuation_contents.as(st).continuation,"f"),this.sections=(s=c(this,oo,"f").continuation_contents.as(st).contents)===null||s===void 0?void 0:s.as(Pe);return}this.header=(l=(r=m.content)===null||r===void 0?void 0:r.as(Q).header)===null||l===void 0?void 0:l.as(ft),S(this,Ko,(p=m.content)===null||p===void 0?void 0:p.as(Q).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(Q).contents.as(Pe,Tv)}getContinuation(){return y(this,void 0,void 0,function*(){if(!c(this,Ko,"f"))throw new x("Continuation not found.");let e=yield c(this,zo,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,Ko,"f")});return new $o(e,c(this,zo,"f"))})}applyFilter(e){var i,o;return y(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(_e).get({text:e}),!s)throw new x("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(_e)&&(s=e);if(!s)throw new x("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new x("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(c(this,zo,"f"),{client:"YTMUSIC"});return new $o(r,c(this,zo,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(_e).map(o=>o.text))||[]}get has_continuation(){return!!c(this,Ko,"f")}get page(){return c(this,oo,"f")}};n($o,"HomeFeed");oo=new WeakMap,zo=new WeakMap,Ko=new WeakMap;var tx=$o;var ui,no,Ss,Is,Nh,ks,Cs=class{constructor(e,i){var o,s,r,l,p;ui.set(this,void 0),no.set(this,void 0),Ss.set(this,void 0),S(this,ui,d.parseResponse(e.data),"f"),S(this,no,i,"f");let f=(o=c(this,ui,"f").contents_memo)===null||o===void 0?void 0:o.getType(Q).first();this.header=(s=f==null?void 0:f.header)===null||s===void 0?void 0:s.as(bv),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(wo,ye),S(this,Ss,(p=(l=this.contents)===null||l===void 0?void 0:l.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,s,r,l,p,f,m,_,g;return y(this,void 0,void 0,function*(){let w;if(typeof e=="string"){let R=(i=c(this,ui,"f").contents_memo)===null||i===void 0?void 0:i.getType(Kd).first(),V=(o=R==null?void 0:R.menu)===null||o===void 0?void 0:o.options.filter(q=>q instanceof At);if(w=V==null?void 0:V.find(q=>q.title===e),!w)throw new x(`Sort option "${e}" not found`,{available_filters:V.map(q=>q.title)})}else e instanceof At&&(w=e);if(!w)throw new x("Invalid sort option");if(w.selected)return this;let T=(p=(l=(r=(s=w.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commands)===null||l===void 0?void 0:l.find(R=>R.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!T)throw new x("Failed to find sort option command");let C=yield c(this,no,"f").execute("/browse",{client:"YTMUSIC",continuation:T.continuation.reloadContinuationData.continuation,parse:!0}),N=(m=(f=c(this,ui,"f").contents_memo)===null||f===void 0?void 0:f.getType(At))===null||m===void 0?void 0:m.find(R=>R.selected);return N&&(N.selected=!1),w.selected=!0,this.contents=(g=(_=C.continuation_contents)===null||_===void 0?void 0:_.as(st).contents)===null||g===void 0?void 0:g.as(wo,ye),this})}applyFilter(e){var i,o,s,r;return y(this,void 0,void 0,function*(){let l,p=(i=c(this,ui,"f").contents_memo)===null||i===void 0?void 0:i.getType(ft).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new x(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof _e&&(l=e);if(!l)throw new x("Invalid filter",e);let m=yield new v((r=(s=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||s===void 0?void 0:s.commands)===null||r===void 0?void 0:r[0]).call(c(this,no,"f"),{client:"YTMUSIC"});return new Cs(m,c(this,no,"f"))})}getContinuation(){return y(this,void 0,void 0,function*(){if(!c(this,Ss,"f"))throw new x("No continuation available");let e=yield c(this,no,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,Ss,"f")});return new qo(e,c(this,no,"f"))})}get has_continuation(){return!!c(this,Ss,"f")}get sort_options(){var e,i;let o=(e=c(this,ui,"f").contents_memo)===null||e===void 0?void 0:e.getType(Kd).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof At)).map(r=>r.title)}get filters(){var e,i;return((i=(e=c(this,ui,"f").contents_memo)===null||e===void 0?void 0:e.getType(ft))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return c(this,ui,"f")}};n(Cs,"Library");ui=new WeakMap,no=new WeakMap,Ss=new WeakMap;var qo=class{constructor(e,i){if(Is.set(this,void 0),Nh.set(this,void 0),ks.set(this,void 0),S(this,Is,d.parseResponse(e.data),"f"),S(this,Nh,i,"f"),!c(this,Is,"f").continuation_contents)throw new x("No continuation contents found");this.contents=c(this,Is,"f").continuation_contents.as(ii,Ki),S(this,ks,this.contents.continuation||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!c(this,ks,"f"))throw new x("No continuation available");let e=yield c(this,Nh,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,ks,"f")});return new qo(e,c(this,Nh,"f"))})}get has_continuation(){return!!c(this,ks,"f")}get page(){return c(this,Is,"f")}};n(qo,"LibraryContinuation");Is=new WeakMap,Nh=new WeakMap,ks=new WeakMap;var ix=Cs;var ny,ht,Qo,Xo,Es,Ah,aS,Ps=class{constructor(e,i){var o,s,r,l,p,f,m;if(ny.add(this),ht.set(this,void 0),Qo.set(this,void 0),Xo.set(this,void 0),Es.set(this,void 0),Ah.set(this,void 0),S(this,Qo,i,"f"),S(this,ht,d.parseResponse(e.data),"f"),S(this,Es,null,"f"),S(this,Ah,null,"f"),c(this,ht,"f").continuation_contents){let _=(o=c(this,ht,"f").continuation_contents)===null||o===void 0?void 0:o.as(zi);this.items=_.contents,S(this,Xo,_.continuation,"f")}else((s=c(this,ht,"f").header)===null||s===void 0?void 0:s.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(r=c(this,ht,"f").header)===null||r===void 0?void 0:r.item().as(xv).header)===null||l===void 0?void 0:l.as(ko):this.header=(p=c(this,ht,"f").header)===null||p===void 0?void 0:p.item().as(ko),this.items=((f=c(this,ht,"f").contents_memo)===null||f===void 0?void 0:f.getType(Co).first().contents)||null,S(this,Xo,((m=c(this,ht,"f").contents_memo)===null||m===void 0?void 0:m.getType(Co).first().continuation)||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!c(this,Xo,"f"))throw new x("Continuation not found.");let e=yield c(this,Qo,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,Xo,"f")});return new Ps(e,c(this,Qo,"f"))})}getRelated(){var e,i,o,s,r;return y(this,void 0,void 0,function*(){let l=(i=(e=c(this,ht,"f").contents_memo)===null||e===void 0?void 0:e.getType(Q))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield c(this,Qo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(st),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Pe,ye),_=(r=m==null?void 0:m.matchCondition(g=>g.is(Pe)))===null||r===void 0?void 0:r.as(Pe);if(_)return _;l=f==null?void 0:f.continuation}throw new x("Target section not found.")})}getSuggestions(e=!0){return y(this,void 0,void 0,function*(){let s=yield e||!c(this,Es,"f")?c(this,ny,"m",aS).call(this):Promise.resolve(null);return s&&(S(this,Es,s.items,"f"),S(this,Ah,s.continuation,"f")),(s==null?void 0:s.items)||c(this,Es,"f")})}get page(){return c(this,ht,"f")}get has_continuation(){return!!c(this,Xo,"f")}};n(Ps,"Playlist");ht=new WeakMap,Qo=new WeakMap,Xo=new WeakMap,Es=new WeakMap,Ah=new WeakMap,ny=new WeakSet,aS=n(function(){var e,i,o,s,r;return y(this,void 0,void 0,function*(){let l=c(this,Ah,"f")||((i=(e=c(this,ht,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(Q).continuation);if(l){let f=(o=(yield c(this,Qo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(st),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Pe,ye),_=(r=m==null?void 0:m.matchCondition(g=>g.is(ye)))===null||r===void 0?void 0:r.as(ye);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var Ns=Ps;var so,Rh,ox=class{constructor(e,i){var o,s,r,l,p,f,m;so.set(this,void 0),Rh.set(this,void 0),S(this,so,d.parseResponse(e.data),"f"),S(this,Rh,i,"f");let _=(o=c(this,so,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(Vd)?(l=(r=(s=c(this,so,"f").header)===null||s===void 0?void 0:s.item().as(Vd).element)===null||r===void 0?void 0:r.model)===null||l===void 0?void 0:l.as(Jl):(p=c(this,so,"f").header)===null||p===void 0?void 0:p.item().as(Yi);let g=(f=c(this,so,"f").contents)===null||f===void 0?void 0:f.item().as(ei).tabs.firstOfType(xe);if(!g)throw new x("Target tab not found");this.sections=(m=g.content)===null||m===void 0?void 0:m.as(Q).contents.as(ve,Pe,He)}getPlaylist(){return y(this,void 0,void 0,function*(){if(!this.header)throw new x("Header not found");if(!this.header.is(Jl))throw new x("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(c(this,Rh,"f"),{client:"YTMUSIC"});return new Ns(i,c(this,Rh,"f"))})}get page(){return c(this,so,"f")}};n(ox,"Recap");so=new WeakMap,Rh=new WeakMap;var nx=ox;var li,wi,As,Mh,Rs,Zo=class{constructor(e,i,o){var s,r,l;if(li.set(this,void 0),wi.set(this,void 0),As.set(this,void 0),S(this,wi,i,"f"),S(this,li,d.parseResponse(e.data),"f"),!c(this,li,"f").contents||!c(this,li,"f").contents_memo)throw new x("Response did not contain any contents.");let p=c(this,li,"f").contents.item().as(e0).tabs.get({selected:!0});if(!p)throw new x("Could not find target tab.");let f=(s=p.content)===null||s===void 0?void 0:s.as(Q);if(!f)throw new x("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(ft),this.contents=f.contents.as(ye,fv,ve),o&&S(this,As,(l=this.contents.firstOfType(ye))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return y(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new x("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(c(this,wi,"f"),{client:"YTMUSIC"});if(!i)throw new x("Endpoint did not return any data");return new Zo(i,c(this,wi,"f"),!0)})}getContinuation(){return y(this,void 0,void 0,function*(){if(!c(this,As,"f"))throw new x("Continuation not found.");let e=yield c(this,wi,"f").execute("/search",{continuation:c(this,As,"f"),client:"YTMUSIC"});return new Ms(c(this,wi,"f"),e)})}applyFilter(e){var i,o;return y(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(_e).get({text:e}),!s)throw new x("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(_e)&&(s=e);if(!s)throw new x("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new x("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(c(this,wi,"f"),{client:"YTMUSIC"});return new Zo(r,c(this,wi,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(_e).map(o=>o.text))||[]}get has_continuation(){return!!c(this,As,"f")}get did_you_mean(){var e;return(e=c(this,li,"f").contents_memo)===null||e===void 0?void 0:e.getType(T_).first()}get showing_results_for(){var e;return(e=c(this,li,"f").contents_memo)===null||e===void 0?void 0:e.getType(Xv).first()}get message(){var e;return(e=c(this,li,"f").contents_memo)===null||e===void 0?void 0:e.getType(He).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(ye))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye)}get page(){return c(this,li,"f")}};n(Zo,"Search");li=new WeakMap,wi=new WeakMap,As=new WeakMap;var sx=Zo,Ms=class{constructor(e,i){var o,s;Mh.set(this,void 0),Rs.set(this,void 0),S(this,Mh,e,"f"),S(this,Rs,d.parseResponse(i.data),"f"),this.header=(o=c(this,Rs,"f").header)===null||o===void 0?void 0:o.item().as(Yi),this.contents=(s=c(this,Rs,"f").continuation_contents)===null||s===void 0?void 0:s.as(ii)}getContinuation(){var e;return y(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new x("Continuation not found.");let i=yield c(this,Mh,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new Ms(c(this,Mh,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return c(this,Rs,"f")}};n(Ms,"SearchContinuation");Mh=new WeakMap,Rs=new WeakMap;var rx=class extends to{constructor(e,i,o){var s,r,l,p,f,m,_,g,w;super(e,i,o);let[T,C]=this.page;if(!(!((s=T.microformat)===null||s===void 0)&&s.is(Xt)))throw new x("Invalid microformat",T.microformat);if(this.basic_info=Object.assign(Object.assign({},T.video_details),{description:(r=T.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(l=T.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=T.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=T.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=T.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=T.storyboards,this.endscreen=T.endscreen,C){let N=(g=(_=C.contents_memo)===null||_===void 0?void 0:_.getType(r0))===null||g===void 0?void 0:g[0];this.tabs=N==null?void 0:N.tabs.array().as(xe),this.current_video_endpoint=C.current_video_endpoint,this.player_overlays=(w=C.player_overlays)===null||w===void 0?void 0:w.item().as(Ui)}}getTab(e){var i,o;return y(this,void 0,void 0,function*(){if(!this.tabs)throw new x("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!s)throw new x(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let r=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=r.contents)===null||o===void 0?void 0:o.item().type)==="Message")return r.contents.item().as(He);if(!r.contents)throw new x("Page contents was empty",r);return r.contents.item().as(Q).contents})}getUpNext(e=!0){var i,o;return y(this,void 0,void 0,function*(){let s=yield this.getTab("Up next");if(!s||!s.content)throw new x("Music queue was empty, the video id is probably invalid.",s);let r=s.content.as(Zt);if(!r.playlist_id&&e){let l=r.contents.firstOfType(Di);if(!l)throw new x("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new x("Could not fetch automix");return(o=p.contents_memo.getType(Zt))===null||o===void 0?void 0:o[0]}return r})}getRelated(){return y(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return y(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(Io)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,H.YTMUSIC.NAME,H.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(rx,"TrackInfo");var Vh=rx;var ry={};L(ry,{Channel:()=>ax,HomeFeed:()=>ux,Search:()=>cx,VideoInfo:()=>px});var Vs=class extends he{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(Mn),this.contents=this.memo.getType(ve).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(Hi))}getContinuation(){var e;return y(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new Vs(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(Vs,"Channel");var ax=Vs;var Os=class extends he{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(u0),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(l0)}selectCategoryTab(e){var i;return y(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(os)&&(o=e),!o)throw new x(`Tab "${e}" not found`);let s=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new Os(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(Os,"HomeFeed");var ux=Os;var lx=class extends he{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(ve).first();if(!o)throw new x("No item section found in search response.");this.contents=o.contents}};n(lx,"Search");var cx=lx;var dx=class extends to{constructor(e,i,o){var s,r,l,p,f;super(e,i,o);let[m,_]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let g=(s=_==null?void 0:_.contents)===null||s===void 0?void 0:s.item().as(es),w=g==null?void 0:g.results,T=g==null?void 0:g.secondary_results;w&&T&&(this.slim_video_metadata=(l=(r=w.firstOfType(ve))===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(Qv),this.watch_next_feed=((p=T.firstOfType(ve))===null||p===void 0?void 0:p.contents)||T,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(Ui))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(dx,"VideoInfo");var px=dx;var d=$;var mt,fx=class{constructor(e,i,o,s){var r,l,p,f,m,_,g,w,T,C,N,R,V,q,z,me,ge,Te,Se,Ae,K,W,X,ie,Re,ct,dt,pt,Ke,tt,it,fe,De,Ht,Jt,Gt,zt;mt.set(this,void 0),S(this,mt,new u(e),"f"),this.id=s||((m=(f=(p=(l=(r=c(this,mt,"f"))===null||r===void 0?void 0:r.runs)===null||l===void 0?void 0:l[0])===null||p===void 0?void 0:p.endpoint)===null||f===void 0?void 0:f.payload)===null||m===void 0?void 0:m.browseId)||((w=(g=(_=c(this,mt,"f"))===null||_===void 0?void 0:_.endpoint)===null||g===void 0?void 0:g.payload)===null||w===void 0?void 0:w.browseId)||"N/A",this.name=((T=c(this,mt,"f"))===null||T===void 0?void 0:T.text)||"N/A",this.thumbnails=o?b.fromResponse(o):[],this.endpoint=((R=(N=(C=c(this,mt,"f"))===null||C===void 0?void 0:C.runs)===null||N===void 0?void 0:N[0])===null||R===void 0?void 0:R.endpoint)||((V=c(this,mt,"f"))===null||V===void 0?void 0:V.endpoint),this.badges=Array.isArray(i)?d.parseArray(i):ae([]),this.is_moderator=(q=this.badges)===null||q===void 0?void 0:q.some(gt=>gt.icon_type=="MODERATOR"),this.is_verified=(z=this.badges)===null||z===void 0?void 0:z.some(gt=>gt.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(me=this.badges)===null||me===void 0?void 0:me.some(gt=>gt.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((K=(Ae=(Se=(Te=(ge=c(this,mt,"f"))===null||ge===void 0?void 0:ge.runs)===null||Te===void 0?void 0:Te[0])===null||Se===void 0?void 0:Se.endpoint)===null||Ae===void 0?void 0:Ae.metadata)===null||K===void 0?void 0:K.api_url)==="/browse"&&`${pe.YT_BASE}${((ct=(Re=(ie=(X=(W=c(this,mt,"f"))===null||W===void 0?void 0:W.runs)===null||X===void 0?void 0:X[0])===null||ie===void 0?void 0:ie.endpoint)===null||Re===void 0?void 0:Re.payload)===null||ct===void 0?void 0:ct.canonicalBaseUrl)||`/u/${(it=(tt=(Ke=(pt=(dt=c(this,mt,"f"))===null||dt===void 0?void 0:dt.runs)===null||pt===void 0?void 0:pt[0])===null||Ke===void 0?void 0:Ke.endpoint)===null||tt===void 0?void 0:tt.payload)===null||it===void 0?void 0:it.browseId}`}`||`${pe.YT_BASE}${((Ht=(De=(fe=c(this,mt,"f"))===null||fe===void 0?void 0:fe.endpoint)===null||De===void 0?void 0:De.payload)===null||Ht===void 0?void 0:Ht.canonicalBaseUrl)||`/u/${(zt=(Gt=(Jt=c(this,mt,"f"))===null||Jt===void 0?void 0:Jt.endpoint)===null||Gt===void 0?void 0:Gt.payload)===null||zt===void 0?void 0:zt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(fx,"Author");mt=new WeakMap;var O=fx;var uS={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var hx,mx,D=class{static load(e){S(D,hx,e,"f",mx)}static get shim(){if(!c(D,hx,"f",mx))throw new Error("Platform is not loaded");return c(D,hx,"f",mx)}};n(D,"Platform");hx=D;mx={value:void 0};var x=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=D.shim.info.version}};n(x,"InnertubeError");var yt=class extends x{};n(yt,"ParsingError");var en=class extends x{};n(en,"MissingParamError");var ci=class extends x{};n(ci,"OAuthError");var _t=class extends Error{};n(_t,"PlayerError");var Ds=class extends Error{};n(Ds,"SessionError");var ls=class extends Error{};n(ls,"ChannelError");function Xh(t,e){return Reflect.ownKeys(t).some(o=>{let s=e[o]instanceof u;return!s&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(s?e[o].toString():e[o])})}n(Xh,"deepCompare");function je(t,e,i){let o=new RegExp(`${uy(e)}(.*?)${uy(i)}`,"s"),s=t.match(o);return s?s[1]:void 0}n(je,"getStringBetweenStrings");function uy(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(uy,"escapeStringRegexp");function Go(t){let e=uS[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Go,"getRandomUserAgent");function Qg(t){return y(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),s=yield D.shim.sha1Hash(o);return["SAPISIDHASH",[i,s].join("_")].join(" ")})}n(Qg,"generateSidAuth");function St(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(St,"generateRandomString");function Le(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Le,"timeToSeconds");function zg(...t){let e=new Pi;for(let i of t)if(!!i)for(let o of i)e.set(...o);return e}n(zg,"concatMemos");function ee(t){for(let[e,i]of Object.entries(t))if(!i)throw new en(`${e} is missing`)}n(ee,"throwIfMissing");function yk(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(yk,"hasKeys");function ty(t){return zy(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:s}=yield co(i.read());if(o)return yield co(void 0);yield yield co(s)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(ty,"streamToIterable");var bk=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,s=[...o],r=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=s.length>0?`${s.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${r}`),D.shim.fetch(t,e)},"debugFetch");function bt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(bt,"u8ToBase64");function Rg(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(Rg,"base64ToU8");function qe(t){return!("emoji"in t)}n(qe,"isTextRun");function ly(t){return y(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let s=new Uint8Array(o),r=[];for(let l=0;l<s.length;++l)r.push(e[s[l]]);return r.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(ly,"sha1Hash");var _x={name:"youtubei.js",version:"7.0.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var Dh={};L(Dh,{ArrayExpression:()=>Bs,ArrowFunctionExpression:()=>Ls,AssignmentExpression:()=>Fs,BinaryExpression:()=>Ys,BlockStatement:()=>Us,BreakStatement:()=>js,CallExpression:()=>Ws,ConditionalExpression:()=>Js,ContinueStatement:()=>Gs,ExpressionStatement:()=>zs,ForOfStatement:()=>Ks,ForStatement:()=>$s,FunctionDeclaration:()=>qs,FunctionExpression:()=>Xs,Identifier:()=>Qs,IfStatement:()=>Zs,Literal:()=>er,LogicalExpression:()=>tr,MemberExpression:()=>ir,NewExpression:()=>or,ObjectExpression:()=>nr,Property:()=>sr,ReturnStatement:()=>rr,SequenceExpression:()=>ar,SwitchCase:()=>ur,SwitchStatement:()=>lr,ThisExpression:()=>cr,ThrowStatement:()=>dr,TryStatement:()=>pr,UnaryExpression:()=>fr,UpdateExpression:()=>hr,VariableDeclaration:()=>mr,WhileStatement:()=>_r});var A=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(A,"BaseJSNode");var Bs=class extends A{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Bs,"ArrayExpression");var cy={};L(cy,{namedFunction:()=>tn});var tn=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var Ls=class extends A{run(){let{params:e,body:i}=this.node;return tn("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(Ls,"ArrowFunctionExpression");var Fs=class extends A{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Fs,"AssignmentExpression");var Ys=class extends A{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Ys,"BinaryExpression");var Us=class extends A{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(Us,"BlockStatement");var js=class extends A{run(){return"break"}};n(js,"BreakStatement");var lS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},vx,dy,Ws=class extends A{constructor(){super(...arguments),vx.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="proceed")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="proceed")return r}if(this.node.callee.type==="MemberExpression"){if(Hs.has(this.node,this.visitor))return Hs.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof r[l]!="function"&&lS(this,vx,"m",dy).call(this),r[l].toString().includes("[native code]")?r[l](...p):r[l](p)}let o=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof o!="function"&&lS(this,vx,"m",dy).call(this),o(s)}};n(Ws,"CallExpression");vx=new WeakSet,dy=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Hs=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Hs,"Builtins");Hs.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(let r of o)i[0]([r,s++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Js=class extends A{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Js,"ConditionalExpression");var Gs=class extends A{run(){return"continue"}};n(Gs,"ContinueStatement");var zs=class extends A{run(){return this.visitor.visitNode(this.node.expression)}};n(zs,"ExpressionStatement");var Ks=class extends A{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let s of this.node.left.declarations[0].id.properties)s.type==="Property"&&s.value.type==="Identifier"&&s.key.type==="Identifier"&&this.visitor.scope.set(s.value.name,i[s.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(Ks,"ForOfStatement");var $s=class extends A{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n($s,"ForStatement");var qs=class extends A{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),s=tn(o,r=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,r[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,s)}};n(qs,"FunctionDeclaration");var Xs=class extends A{run(){let{params:e,body:i}=this.node;return tn("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(Xs,"FunctionExpression");var Qs=class extends A{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Qs,"Identifier");var Zs=class extends A{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Zs,"IfStatement");var er=class extends A{run(){return this.node.value}};n(er,"Literal");var tr=class extends A{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(tr,"LogicalExpression");var ir=class extends A{run(){let{object:e,property:i,computed:o}=this.node,s=this.visitor.visitNode(e),r=o?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let l=this.visitor.listeners[r](this.node,this.visitor);if(l!=="proceed")return l}return s==null?void 0:s[r]}}};n(ir,"MemberExpression");var or=class extends A{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(or,"NewExpression");var nr=class extends A{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(nr,"ObjectExpression");var py=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Oh,cS,dS,pS,sr=class extends A{constructor(){super(...arguments),Oh.add(this)}run(){switch(this.node.kind){case"init":return py(this,Oh,"m",cS).call(this);case"get":return py(this,Oh,"m",dS).call(this);case"set":return py(this,Oh,"m",pS).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(sr,"Property");Oh=new WeakSet,cS=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),dS=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),pS=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var rr=class extends A{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(rr,"ReturnStatement");var ar=class extends A{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(ar,"SequenceExpression");var ur=class extends A{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(ur,"SwitchCase");var lr=class extends A{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,s=0;for(;;){let r=this.node.cases[s];if(i){let l=this.visitor.visitNode(r);if(l==="break")break;if(l==="continue")return l;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&s>this.node.cases.length)break;if(r&&!i&&!r.test){o=s,s+=1;continue}if(!r&&!i&&o!==-1){i=!0,s=o;continue}i||++s}}};n(lr,"SwitchStatement");var cr=class extends A{run(){return this.visitor.scope.get("_this")}};n(cr,"ThisExpression");var dr=class extends A{run(){throw this.visitor.visitNode(this.node.argument)}};n(dr,"ThrowStatement");var pr=class extends A{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(pr,"TryStatement");var fr=class extends A{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(fr,"UnaryExpression");var hr=class extends A{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(hr,"UpdateExpression");var mr=class extends A{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,s=this.visitor.getName(i),r=o?this.visitor.visitNode(o):void 0;s&&this.visitor.scope.set(s,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};n(mr,"VariableDeclaration");var _r=class extends A{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(_r,"WhileStatement");var Tk=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},fy,fS,vr=class{constructor(e){fy.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=Tk(this,fy,"m",fS).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(vr,"Visitor");fy=new WeakSet,fS=n(function(e){let i=Dh[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var Sk=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],xS=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],Ik="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",gS="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",hy={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},my="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",kk={5:my,"5module":my+" export import",6:my+" const class extends export import super"},Ck=/^in(stanceof)?$/,Ek=new RegExp("["+gS+"]"),Pk=new RegExp("["+gS+Ik+"]");function vy(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(vy,"isInAstralSet");function Ti(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&Ek.test(String.fromCharCode(t)):e===!1?!1:vy(t,xS)}n(Ti,"isIdentifierStart");function xr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&Pk.test(String.fromCharCode(t)):e===!1?!1:vy(t,xS)||vy(t,Sk)}n(xr,"isIdentifierChar");var ne=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function It(t,e){return new ne(t,{beforeExpr:!0,binop:e})}n(It,"binop");var kt={beforeExpr:!0},lt={startsExpr:!0},yy={};function te(t,e){return e===void 0&&(e={}),e.keyword=t,yy[t]=new ne(t,e)}n(te,"kw");var h={num:new ne("num",lt),regexp:new ne("regexp",lt),string:new ne("string",lt),name:new ne("name",lt),privateId:new ne("privateId",lt),eof:new ne("eof"),bracketL:new ne("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ne("]"),braceL:new ne("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ne("}"),parenL:new ne("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ne(")"),comma:new ne(",",kt),semi:new ne(";",kt),colon:new ne(":",kt),dot:new ne("."),question:new ne("?",kt),questionDot:new ne("?."),arrow:new ne("=>",kt),template:new ne("template"),invalidTemplate:new ne("invalidTemplate"),ellipsis:new ne("...",kt),backQuote:new ne("`",lt),dollarBraceL:new ne("${",{beforeExpr:!0,startsExpr:!0}),eq:new ne("=",{beforeExpr:!0,isAssign:!0}),assign:new ne("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ne("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ne("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:It("||",1),logicalAND:It("&&",2),bitwiseOR:It("|",3),bitwiseXOR:It("^",4),bitwiseAND:It("&",5),equality:It("==/!=/===/!==",6),relational:It("</>/<=/>=",7),bitShift:It("<</>>/>>>",8),plusMin:new ne("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:It("%",10),star:It("*",10),slash:It("/",10),starstar:new ne("**",{beforeExpr:!0}),coalesce:It("??",1),_break:te("break"),_case:te("case",kt),_catch:te("catch"),_continue:te("continue"),_debugger:te("debugger"),_default:te("default",kt),_do:te("do",{isLoop:!0,beforeExpr:!0}),_else:te("else",kt),_finally:te("finally"),_for:te("for",{isLoop:!0}),_function:te("function",lt),_if:te("if"),_return:te("return",kt),_switch:te("switch"),_throw:te("throw",kt),_try:te("try"),_var:te("var"),_const:te("const"),_while:te("while",{isLoop:!0}),_with:te("with"),_new:te("new",{beforeExpr:!0,startsExpr:!0}),_this:te("this",lt),_super:te("super",lt),_class:te("class",lt),_extends:te("extends",kt),_export:te("export"),_import:te("import",lt),_null:te("null",lt),_true:te("true",lt),_false:te("false",lt),_in:te("in",{beforeExpr:!0,binop:7}),_instanceof:te("instanceof",{beforeExpr:!0,binop:7}),_typeof:te("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:te("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:te("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Pt=/\r\n?|\n|\u2028|\u2029/,Nk=new RegExp(Pt.source,"g");function gr(t){return t===10||t===13||t===8232||t===8233}n(gr,"isNewLine");function yS(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var s=t.charCodeAt(o);if(gr(s))return o<i-1&&s===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(yS,"nextLineBreak");var bS=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,wS=Object.prototype,Ak=wS.hasOwnProperty,Rk=wS.toString,Yh=Object.hasOwn||function(t,e){return Ak.call(t,e)},hS=Array.isArray||function(t){return Rk.call(t)==="[object Array]"};function ro(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(ro,"wordsRegexp");function ao(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(ao,"codePointToString");var Mk=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Lh=n(function(e,i){this.line=e,this.column=i},"Position");Lh.prototype.offset=n(function(e){return new Lh(this.line,this.column+e)},"offset");var wx=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function TS(t,e){for(var i=1,o=0;;){var s=yS(t,o,e);if(s<0)return new Lh(i,e-o);++i,o=s}}n(TS,"getLineInfo");var xy={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},mS=!1;function Vk(t){var e={};for(var i in xy)e[i]=t&&Yh(t,i)?t[i]:xy[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!mS&&typeof console=="object"&&console.warn&&(mS=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),hS(e.onToken)){var o=e.onToken;e.onToken=function(s){return o.push(s)}}return hS(e.onComment)&&(e.onComment=Ok(e,e.onComment)),e}n(Vk,"getOptions");function Ok(t,e){return function(i,o,s,r,l,p){var f={type:i?"Block":"Line",value:o,start:s,end:r};t.locations&&(f.loc=new wx(this,l,p)),t.ranges&&(f.range=[s,r]),e.push(f)}}n(Ok,"pushComment");var Fh=1,yr=2,by=4,SS=8,IS=16,kS=32,wy=64,CS=128,Uh=256,Ty=Fh|yr|Uh;function Sy(t,e){return yr|(t?by:0)|(e?SS:0)}n(Sy,"functionFlags");var gx=0,Iy=1,Ii=2,ES=3,PS=4,NS=5,Oe=n(function(e,i,o){this.options=e=Vk(e),this.sourceFile=e.sourceFile,this.keywords=ro(kk[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=hy[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=ro(s);var r=(s?s+" ":"")+hy.strict;this.reservedWordsStrict=ro(r),this.reservedWordsStrictBind=ro(r+" "+hy.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Pt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Fh),this.regexpState=null,this.privateNameStack=[]},"Parser"),di={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Oe.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");di.inFunction.get=function(){return(this.currentVarScope().flags&yr)>0};di.inGenerator.get=function(){return(this.currentVarScope().flags&SS)>0&&!this.currentVarScope().inClassFieldInit};di.inAsync.get=function(){return(this.currentVarScope().flags&by)>0&&!this.currentVarScope().inClassFieldInit};di.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Uh)return!1;if(e.flags&yr)return(e.flags&by)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};di.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&wy)>0||i||this.options.allowSuperOutsideMethod};di.allowDirectSuper.get=function(){return(this.currentThisScope().flags&CS)>0};di.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};di.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(yr|Uh))>0||i};di.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Uh)>0};Oe.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,s=0;s<e.length;s++)o=e[s](o);return o},"extend");Oe.parse=n(function(e,i){return new this(i,e).parse()},"parse");Oe.parseExpressionAt=n(function(e,i,o){var s=new this(o,e,i);return s.nextToken(),s.parseExpression()},"parseExpressionAt");Oe.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Oe.prototype,di);var Qe=Oe.prototype,Dk=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Qe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Ct.lastIndex=t,t+=Ct.exec(this.input)[0].length;var e=Dk.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Ct.lastIndex=t+e[0].length;var i=Ct.exec(this.input),o=i.index+i[0].length,s=this.input.charAt(o);return s===";"||s==="}"||Pt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,Ct.lastIndex=t,t+=Ct.exec(this.input)[0].length,this.input[t]===";"&&t++}};Qe.eat=function(t){return this.type===t?(this.next(),!0):!1};Qe.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Qe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Qe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Qe.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||Pt.test(this.input.slice(this.lastTokEnd,this.start))};Qe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Qe.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Qe.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Qe.expect=function(t){this.eat(t)||this.unexpected()};Qe.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Tx=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Qe.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Qe.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};Qe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Qe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var B=Oe.prototype;B.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,s=Object.keys(this.undefinedExports);o<s.length;o+=1){var r=s[o];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var ky={kind:"loop"},Bk={kind:"switch"};B.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ct.lastIndex=this.pos;var e=Ct.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Ti(o,!0)){for(var s=i+1;xr(o=this.input.charCodeAt(s),!0);)++s;if(o===92||o>55295&&o<56320)return!0;var r=this.input.slice(i,s);if(!Ck.test(r))return!0}return!1};B.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ct.lastIndex=this.pos;var t=Ct.exec(this.input),e=this.pos+t[0].length,i;return!Pt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(xr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};B.parseStatement=function(t,e,i){var o=this.type,s=this.startNode(),r;switch(this.isLet(t)&&(o=h._var,r="let"),o){case h._break:case h._continue:return this.parseBreakContinueStatement(s,o.keyword);case h._debugger:return this.parseDebuggerStatement(s);case h._do:return this.parseDoStatement(s);case h._for:return this.parseForStatement(s);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(s,!0);case h._if:return this.parseIfStatement(s);case h._return:return this.parseReturnStatement(s);case h._switch:return this.parseSwitchStatement(s);case h._throw:return this.parseThrowStatement(s);case h._try:return this.parseTryStatement(s);case h._const:case h._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case h._while:return this.parseWhileStatement(s);case h._with:return this.parseWithStatement(s);case h.braceL:return this.parseBlock(!0,s);case h.semi:return this.parseEmptyStatement(s);case h._export:case h._import:if(this.options.ecmaVersion>10&&o===h._import){Ct.lastIndex=this.pos;var l=Ct.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===h._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var m=this.value,_=this.parseExpression();return o===h.name&&_.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(s,m,_,t):this.parseExpressionStatement(s,_)}};B.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var s=this.labels[o];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};B.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};B.parseDoStatement=function(t){return this.next(),this.labels.push(ky),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};B.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ky),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var o=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(o,!0,s),this.finishNode(o,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var r=this.isContextual("let"),l=!1,p=new Tx,f=this.parseExpression(e>-1?"await":!0,p);return this.type===h._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};B.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Bh|(i?0:gy),!1,e)};B.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};B.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};B.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(Bk),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var o=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};B.parseThrowStatement=function(t){return this.next(),Pt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var Lk=[];B.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?kS:0),this.checkLValPattern(t,e?PS:Ii),this.expect(h.parenR),t};B.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();this.next(),this.eat(h.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};B.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};B.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(ky),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};B.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};B.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};B.parseLabeledStatement=function(t,e,i,o){for(var s=0,r=this.labels;s<r.length;s+=1){var l=r[s];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};B.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};B.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};B.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};B.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};B.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var s=this.startNode();if(this.parseVarId(s,i),this.eat(h.eq)?s.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&s.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,t.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(h.comma))break}return t};B.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Iy:Ii,!1)};var Bh=1,gy=2,AS=4;B.parseFunction=function(t,e,i,o,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===h.star&&e&gy&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&Bh&&(t.id=e&AS&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&gy)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Iy:Ii:ES));var r=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Sy(t.async,t.generator)),e&Bh||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=r,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&Bh?"FunctionDeclaration":"FunctionExpression")};B.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};B.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(h.braceL);this.type!==h.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(s.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(r&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),r=!0):l.key&&l.key.type==="PrivateIdentifier"&&Fk(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};B.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",s=!1,r=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?r=!0:o="async"),!o&&(e>=9||!r)&&this.eat(h.star)&&(s=!0),!o&&!r&&!s){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||l!=="method"||s||r){var m=!i.static&&yx(i,"constructor"),_=m&&t;m&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":l,this.parseClassMethod(i,s,r,_)}else this.parseClassField(i);return i};B.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};B.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};B.parseClassMethod=function(t,e,i,o){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&yx(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};B.parseClassField=function(t){if(yx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&yx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};B.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Uh|wy);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};B.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ii,!1)):(e===!0&&this.unexpected(),t.id=null)};B.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};B.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};B.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,s=o===0?null:this.privateNameStack[o-1],r=0;r<i.length;++r){var l=i[r];Yh(e,l.name)||(s?s.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function Fk(t,e){var i=e.key.name,o=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),o==="iget"&&s==="iset"||o==="iset"&&s==="iget"||o==="sget"&&s==="sset"||o==="sset"&&s==="sget"?(t[i]="true",!1):o?!0:(t[i]=s,!1)}n(Fk,"isPrivateNameConflicted");function yx(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(yx,"checkKeyName");B.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};B.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(t,e);if(this.eat(h._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var s=o[i];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};B.parseExportDeclaration=function(t){return this.parseStatement(null)};B.parseExportDefaultDeclaration=function(){var t;if(this.type===h._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Bh|AS,!1,t)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};B.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Yh(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};B.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,s=e.properties;o<s.length;o+=1){var r=s[o];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};B.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var s=o[i];this.checkPatternExport(t,s.id)}};B.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};B.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};B.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseExportSpecifier(t))}return e};B.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=Lk,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};B.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Ii),this.finishNode(t,"ImportSpecifier")};B.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Ii),this.finishNode(t,"ImportDefaultSpecifier")};B.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Ii),this.finishNode(t,"ImportNamespaceSpecifier")};B.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return t;if(this.type===h.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseImportSpecifier())}return t};B.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return Mk.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};B.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};B.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Nt=Oe.prototype;Nt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Nt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var s=t[o];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};Nt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Nt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Nt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Nt.parseBindingList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(h.comma),e&&this.type===h.comma)s.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),s.push(l),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else s.push(this.parseAssignableListItem(o))}return s};Nt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Nt.parseBindingListItem=function(t){return t};Nt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Nt.checkLValSimple=function(t,e,i){e===void 0&&(e=gx);var o=e!==gx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Ii&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Yh(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==NS&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Nt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=gx),t.type){case"ObjectPattern":for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Nt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=gx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Ut=n(function(e,i,o,s,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=s,this.generator=!!r},"TokContext"),be={b_stat:new Ut("{",!1),b_expr:new Ut("{",!0),b_tmpl:new Ut("${",!1),p_stat:new Ut("(",!1),p_expr:new Ut("(",!0),q_tmpl:new Ut("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Ut("function",!1),f_expr:new Ut("function",!0),f_expr_gen:new Ut("function",!0,!1,null,!0),f_gen:new Ut("function",!1,!1,null,!0)},br=Oe.prototype;br.initialContext=function(){return[be.b_stat]};br.curContext=function(){return this.context[this.context.length-1]};br.braceIsBlock=function(t){var e=this.curContext();return e===be.f_expr||e===be.f_stat?!0:t===h.colon&&(e===be.b_stat||e===be.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?Pt.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===be.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};br.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};br.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};br.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===be.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?be.b_stat:be.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(be.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?be.p_stat:be.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==be.p_stat)&&!(t===h._return&&Pt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===be.b_stat)?this.context.push(be.f_expr):this.context.push(be.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===be.q_tmpl?this.context.pop():this.context.push(be.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===be.f_expr?this.context[e]=be.f_expr_gen:this.context[e]=be.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var j=Oe.prototype;j.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,s;switch(o.type){case"Identifier":s=o.name;break;case"Literal":s=String(o.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var l=e[s];if(l){var p;r==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[r],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[s]={init:!1,get:!1,set:!1};l[r]=!0}};j.parseExpression=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===h.comma){var r=this.startNodeAt(i,o);for(r.expressions=[s];this.eat(h.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s};j.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,s=-1,r=-1,l=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Tx,o=!0);var p=this.start,f=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===h.eq&&(m=this.toAssignable(m,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(m):this.checkLValSimple(m),_.left=m,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),m};j.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(h.question)){var r=this.startNodeAt(i,o);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(h.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s};j.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,o,-1,t)};j.parseExprOp=function(t,e,i,o,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==h._in)&&r>o){var l=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(r=h.logicalAND.binop);var f=this.value;this.next();var m=this.start,_=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),m,_,r,s),w=this.buildBinary(e,i,t,g,f,l||p);return(l&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,o,s)}return t};j.buildBinary=function(t,e,i,o,s,r){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=s,l.right=o,this.finishNode(l,r?"LogicalExpression":"BinaryExpression")};j.parseMaybeUnary=function(t,e,i,o){var s=this.start,r=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&RS(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(s,r);m.operator=this.value,m.prefix=!1,m.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function RS(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&RS(t.expression)}n(RS,"isPrivateFieldAccess");j.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,o,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};j.parseSubscripts=function(t,e,i,o,s){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,r,l,s);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};j.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};j.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};j.parseSubscript=function(t,e,i,o,s,r,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(h.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(h.bracketL);if(m||f&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var _=this.startNodeAt(e,i);_.object=t,m?(_.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!m,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(h.parenL)){var g=new Tx,w=this.yieldPos,T=this.awaitPos,C=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,g);if(s&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=T,this.awaitIdentPos=C,this.parseSubscriptAsyncArrow(e,i,N,l);this.checkExpressionErrors(g,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=C||this.awaitIdentPos;var R=this.startNodeAt(e,i);R.callee=t,R.arguments=N,p&&(R.optional=f),t=this.finishNode(R,"CallExpression")}else if(this.type===h.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var V=this.startNodeAt(e,i);V.tag=t,V.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(V,"TaggedTemplateExpression")}return t};j.parseExprAtom=function(t,e,i){this.type===h.slash&&this.readRegexp();var o,s=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(o,"Super");case h._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case h.name:var r=this.start,l=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(be.f_expr),this.parseFunction(this.startNodeAt(r,l),0,!1,!0,e);if(s&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(r,l),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===h.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,l),[f],!0,e)}return f;case h.regexp:var m=this.value;return o=this.parseLiteral(m.value),o.regex={pattern:m.pattern,flags:m.flags},o;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return o=this.startNode(),o.value=this.type===h._null?null:this.type===h._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case h.parenL:var _=this.start,g=this.parseParenAndDistinguishExpression(s,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),g;case h.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case h.braceL:return this.overrideContext(be.b_expr),this.parseObj(!1,t);case h._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};j.parseExprAtomDefault=function(){this.unexpected()};j.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===h.parenL&&!t)return this.parseDynamicImport(e);if(this.type===h.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};j.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};j.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};j.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};j.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};j.shouldParseArrow=function(t){return!this.canInsertSemicolon()};j.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],m=!0,_=!1,g=new Tx,w=this.yieldPos,T=this.awaitPos,C;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(m?m=!1:this.expect(h.comma),r&&this.afterTrailingComma(h.parenR,!0)){_=!0;break}else if(this.type===h.ellipsis){C=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var N=this.lastTokEnd,R=this.lastTokEndLoc;if(this.expect(h.parenR),t&&this.shouldParseArrow(f)&&this.eat(h.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=T,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),C&&this.unexpected(C),this.checkExpressionErrors(g,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,f.length>1?(s=this.startNodeAt(l,p),s.expressions=f,this.finishNodeAt(s,"SequenceExpression",N,R)):s=f[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var V=this.startNodeAt(i,o);return V.expression=s,this.finishNode(V,"ParenthesizedExpression")}else return s};j.parseParenItem=function(t){return t};j.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var Yk=[];j.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,s=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,s,!0,!1),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=Yk,this.finishNode(t,"NewExpression")};j.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};j.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};j.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!Pt.test(this.input.slice(this.lastTokEnd,this.start))};j.parseObj=function(t,e){var i=this.startNode(),o=!0,s={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(o)o=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};j.parseProperty=function(t,e){var i=this.startNode(),o,s,r,l;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,l=this.startLoc),t||(o=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(s=!0,o=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):s=!1,this.parsePropertyValue(i,t,o,s,r,l,e,p),this.finishNode(i,"Property")};j.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};j.parsePropertyValue=function(t,e,i,o,s,r,l,p){(i||o)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key)):this.type===h.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};j.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};j.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};j.parseMethod=function(t,e,i){var o=this.startNode(),s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Sy(e,o.generator)|wy|(i?CS:0)),this.expect(h.parenL),o.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};j.parseArrowExpression=function(t,e,i,o){var s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(Sy(i,!1)|IS),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};j.parseFunctionBody=function(t,e,i,o){var s=e&&this.type!==h.braceL,r=this.strict,l=!1;if(s)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!r&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,NS),t.body=this.parseBlock(!1,void 0,l&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};j.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};j.checkParams=function(t,e){for(var i=Object.create(null),o=0,s=t.params;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,Iy,e?null:i)}};j.parseExprList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===h.comma?l=null:this.type===h.ellipsis?(l=this.parseSpread(o),o&&this.type===h.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),s.push(l)}return s};j.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};j.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};j.parseIdentNode=function(){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};j.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};j.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};j.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var bx=Oe.prototype;bx.raise=function(t,e){var i=TS(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};bx.raiseRecoverable=bx.raise;bx.curPosition=function(){if(this.options.locations)return new Lh(this.curLine,this.pos-this.lineStart)};var uo=Oe.prototype,Uk=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");uo.enterScope=function(t){this.scopeStack.push(new Uk(t))};uo.exitScope=function(){this.scopeStack.pop()};uo.treatFunctionsAsVarInScope=function(t){return t.flags&yr||!this.inModule&&t.flags&Fh};uo.declareName=function(t,e,i){var o=!1;if(e===Ii){var s=this.currentScope();o=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&Fh&&delete this.undefinedExports[t]}else if(e===PS){var r=this.currentScope();r.lexical.push(t)}else if(e===ES){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&kS&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&Fh&&delete this.undefinedExports[t],f.flags&Ty)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};uo.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};uo.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};uo.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Ty)return e}};uo.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Ty&&!(e.flags&IS))return e}};var Sx=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new wx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),jh=Oe.prototype;jh.startNode=function(){return new Sx(this,this.start,this.startLoc)};jh.startNodeAt=function(t,e){return new Sx(this,t,e)};function MS(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(MS,"finishNodeAt");jh.finishNode=function(t,e){return MS.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};jh.finishNodeAt=function(t,e,i,o){return MS.call(this,t,e,i,o)};jh.copyNode=function(t){var e=new Sx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var VS="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",OS=VS+" Extended_Pictographic",DS=OS,BS=DS+" EBase EComp EMod EPres ExtPict",LS=BS,jk=LS,Wk={9:VS,10:OS,11:DS,12:BS,13:LS,14:jk},Hk="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Jk={9:"",10:"",11:"",12:"",13:"",14:Hk},_S="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",FS="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",YS=FS+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",US=YS+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",jS=US+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",WS=jS+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Gk=WS+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",zk={9:FS,10:YS,11:US,12:jS,13:WS,14:Gk},HS={};function Kk(t){var e=HS[t]={binary:ro(Wk[t]+" "+_S),binaryOfStrings:ro(Jk[t]),nonBinary:{General_Category:ro(_S),Script:ro(zk[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(Kk,"buildUnicodeData");for(xx=0,_y=[9,10,11,12,13,14];xx<_y.length;xx+=1)vS=_y[xx],Kk(vS);var vS,xx,_y,M=Oe.prototype,pi=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=HS[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");pi.prototype.reset=n(function(e,i,o){var s=o.indexOf("v")!==-1,r=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},"reset");pi.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");pi.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return-1;var r=o.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=s)return r;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(r<<10)+l-56613888:r},"at");pi.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return s;var r=o.charCodeAt(e),l;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=s||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");pi.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");pi.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");pi.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");pi.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");pi.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,s=0,r=e;s<r.length;s+=1){var l=r[s],p=this.at(o,i);if(p===-1||p!==l)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");M.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,s=!1,r=0;r<i.length;r++){var l=i.charAt(r);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(o=!0),l==="v"&&(s=!0)}this.options.ecmaVersion>=15&&o&&s&&this.raise(t.start,"Invalid regular expression flag")};M.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};M.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};M.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};M.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};M.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};M.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};M.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};M.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};M.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};M.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};M.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};M.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};M.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};M.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};M.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};M.regexp_eatSyntaxCharacter=function(t){var e=t.current();return JS(e)?(t.lastIntValue=e,t.advance(),!0):!1};function JS(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(JS,"isSyntaxCharacter");M.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!JS(i);)t.advance();return t.pos!==e};M.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};M.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};M.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};M.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=ao(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=ao(t.lastIntValue);return!0}return!1};M.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),$k(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function $k(t){return Ti(t,!0)||t===36||t===95}n($k,"isRegExpIdentifierStart");M.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),qk(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function qk(t){return xr(t,!0)||t===36||t===95||t===8204||t===8205}n(qk,"isRegExpIdentifierPart");M.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};M.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};M.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};M.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};M.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};M.regexp_eatZero=function(t){return t.current()===48&&!Ix(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};M.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};M.regexp_eatControlLetter=function(t){var e=t.current();return GS(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function GS(t){return t>=65&&t<=90||t>=97&&t<=122}n(GS,"isControlLetter");M.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(o&&s>=55296&&s<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(s-55296)*1024+(l-56320)+65536,!0}t.pos=r,t.lastIntValue=s}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&Xk(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function Xk(t){return t>=0&&t<=1114111}n(Xk,"isValidUnicode");M.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};M.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var zS=0,Si=1,Et=2;M.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Qk(e))return t.lastIntValue=-1,t.advance(),Si;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===Et&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return zS};function Qk(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(Qk,"isCharacterClassEscape");M.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Si}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s)}return zS};M.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Yh(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};M.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Si;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Et;t.raise("Invalid property name")};M.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";KS(e=t.current());)t.lastStringValue+=ao(e),t.advance();return t.lastStringValue!==""};function KS(t){return GS(t)||t===95}n(KS,"isUnicodePropertyNameCharacter");M.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Zk(e=t.current());)t.lastStringValue+=ao(e),t.advance();return t.lastStringValue!==""};function Zk(t){return KS(t)||Ix(t)}n(Zk,"isUnicodePropertyValueCharacter");M.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};M.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===Et&&t.raise("Negated character class may contain strings"),!0}return!1};M.regexp_classContents=function(t){return t.current()===93?Si:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Si)};M.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};M.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||XS(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};M.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};M.regexp_classSetExpression=function(t){var e=Si,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Et&&(e=Et);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Et&&(e=Si);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===Et&&(e=Et)}};M.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};M.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Si:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};M.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===Et&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var s=this.regexp_eatCharacterClassEscape(t);if(s)return s;t.pos=e}return null};M.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};M.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Et&&(e=Et);return e};M.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Si:Et};M.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&eC(i)||tC(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function eC(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(eC,"isClassSetReservedDoublePunctuatorCharacter");function tC(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(tC,"isClassSetSyntaxCharacter");M.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return iC(e)?(t.lastIntValue=e,t.advance(),!0):!1};function iC(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(iC,"isClassSetReservedPunctuator");M.regexp_eatClassControlLetter=function(t){var e=t.current();return Ix(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};M.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};M.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Ix(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Ix(t){return t>=48&&t<=57}n(Ix,"isDecimalDigit");M.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;$S(i=t.current());)t.lastIntValue=16*t.lastIntValue+qS(i),t.advance();return t.pos!==e};function $S(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n($S,"isHexDigit");function qS(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(qS,"hexToInt");M.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};M.regexp_eatOctalDigit=function(t){var e=t.current();return XS(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function XS(t){return t>=48&&t<=55}n(XS,"isOctalDigit");M.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var s=t.current();if(!$S(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+qS(s),t.advance()}return!0};var Cy=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new wx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Z=Oe.prototype;Z.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Cy(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Z.getToken=function(){return this.next(),new Cy(this)};typeof Symbol<"u"&&(Z[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});Z.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Z.readToken=function(t){return Ti(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Z.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Z.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,s=e;(o=yS(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};Z.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!gr(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};Z.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&bS.test(String.fromCharCode(t)))++this.pos;else break e}}};Z.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};Z.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};Z.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};Z.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(o,i)};Z.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};Z.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};Z.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Pt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};Z.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};Z.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};Z.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};Z.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ti(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ao(e)+"'")};Z.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ao(t)+"'")};Z.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};Z.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(Pt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(r);var p=this.regexpState||(this.regexpState=new pi(this));p.reset(i,s,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(s,l)}catch(m){}return this.finishToken(h.regexp,{pattern:s,flags:l,value:f})};Z.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,l=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var _=this.input.charCodeAt(this.pos),g=void 0;if(o&&_===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?g=_-97+10:_>=65?g=_-65+10:_>=48&&_<=57?g=_-48:g=1/0,g>=t)break;p=_,l=l*t+g}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:l};function oC(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(oC,"stringToNumber");function QS(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(QS,"stringToBigInt");Z.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=QS(this.input.slice(e,this.pos)),++this.pos):Ti(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};Z.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var s=QS(this.input.slice(e,this.pos));return++this.pos,Ti(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ti(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=oC(this.input.slice(e,this.pos),i);return this.finishToken(h.num,r)};Z.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};Z.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(gr(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var ZS={};Z.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===ZS)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Z.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ZS;this.raise(t,e)};Z.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(gr(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Z.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Z.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ao(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(o,8);return s>255&&(o=o.slice(0,-1),s=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return gr(e)?"":String.fromCharCode(e)}};Z.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};Z.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(xr(s,o))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Ti:xr)(l,o)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=ao(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};Z.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=yy[t]),this.finishToken(e,t)};var nC="8.10.0";Oe.acorn={Parser:Oe,version:nC,defaultOptions:xy,Position:Lh,SourceLocation:wx,getLineInfo:TS,Node:Sx,TokenType:ne,tokTypes:h,keywordTypes:yy,TokContext:Ut,tokContexts:be,isIdentifierChar:xr,isIdentifierStart:Ti,Token:Cy,isNewLine:gr,lineBreak:Pt,lineBreakG:Nk,nonASCIIwhitespace:bS};function eI(t,e){return Oe.parse(t,e)}n(eI,"parse");var sC=function(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},rC=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},kx,on=class{constructor(e){kx.set(this,void 0);let i=eI(e,{ecmaVersion:2020});sC(this,kx,i.body,"f"),this.visitor=new vr(rC(this,kx,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,s)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=console[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(o,s)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=Math[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(o,s)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=String[r];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(on,"Jinter");kx=new WeakMap;function Ey(t,e){let i=new on(t);for(let[o,s]of Object.entries(e))i.scope.set(o,s);return i.interpret()}n(Ey,"evaluate");var Wh,nn,tI,iI,oI,Cx=class{constructor(e){Wh.add(this),nn.set(this,void 0),S(this,nn,e,"f")}get session(){return c(this,nn,"f")}stats(e,i,o){return y(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))s.searchParams.set(l,o[l]);return yield c(this,nn,"f").http.fetch(s)})}execute(e,i){var o,s;return y(this,void 0,void 0,function*(){let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&c(this,Wh,"m",oI).call(this,r.browseId)&&!c(this,nn,"f").logged_in)throw new x("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield c(this,nn,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=d.parseResponse(yield p.json());if(c(this,Wh,"m",iI).call(this,f)&&((s=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(Ji);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return c(this,Wh,"m",tI).call(this,p)})}};n(Cx,"Actions");nn=new WeakMap,Wh=new WeakSet,tI=n(function(e){return y(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),iI=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),oI=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Py=Cx;var wr,Ny,Tr,Hh,Jh,jt=class{constructor(e,i,o,s){wr.set(this,void 0),Ny.set(this,void 0),Tr.set(this,void 0),Hh.set(this,void 0),Jh.set(this,void 0),S(this,wr,o,"f"),S(this,Tr,i,"f"),S(this,Hh,e,"f"),S(this,Jh,s,"f"),S(this,Ny,new Map,"f")}static create(e,i=D.shim.fetch){return y(this,void 0,void 0,function*(){let o=new URL("/iframe_api",pe.YT_BASE),s=yield i(o);if(s.status!==200)throw new _t("Failed to request player id");let r=yield s.text(),l=je(r,"player\\/","\\/");if(!l)throw new _t("Failed to get player id");if(e){let T=yield jt.fromCache(e,l);if(T)return T}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,pe.YT_BASE),f=yield i(p,{headers:{"user-agent":Go("desktop")}});if(!f.ok)throw new _t(`Failed to get player data: ${f.status}`);let m=yield f.text(),_=this.extractSigTimestamp(m),g=this.extractSigSourceCode(m),w=this.extractNSigSourceCode(m);return yield jt.fromSource(e,_,g,w,l)})}decipher(e,i,o,s){if(e=e||i||o,!e)throw new _t("No valid URL to decipher");let r=new URLSearchParams(e),l=new URL(r.get("url")||e);if(i||o){let m=D.shim.eval(c(this,Tr,"f"),{sig:r.get("s")});if(typeof m!="string")throw new _t("Failed to decipher signature");let _=r.get("sp");_?l.searchParams.set(_,m):l.searchParams.set("signature",m)}let p=l.searchParams.get("n");if(p){let m;if(s&&s.has(p))m=s.get(p);else{if(m=D.shim.eval(c(this,wr,"f"),{nsig:p}),typeof m!="string")throw new _t("Failed to decipher nsig");m.startsWith("enhanced_except_")?console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):s&&s.set(p,m)}l.searchParams.set("n",m)}switch(l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",H.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",H.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",H.WEB_KIDS.VERSION);break;case"ANDROID":l.searchParams.set("cver",H.ANDROID.VERSION);break;case"ANDROID_MUSIC":l.searchParams.set("cver",H.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",H.TV_EMBEDDED.VERSION);break}return l.toString()}static fromCache(e,i){return y(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let s=new DataView(o);if(s.getUint32(0,!0)!==jt.LIBRARY_VERSION)return null;let l=s.getUint32(4,!0),p=s.getUint32(8,!0),f=o.slice(12,12+p),m=o.slice(12+p),_=new TextDecoder,g=_.decode(f),w=_.decode(m);return new jt(l,g,w,i)})}static fromSource(e,i,o,s,r){return y(this,void 0,void 0,function*(){let l=new jt(i,o,s,r);return yield l.cache(e),l})}cache(e){return y(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(c(this,Tr,"f")),s=i.encode(c(this,wr,"f")),r=new ArrayBuffer(12+o.byteLength+s.byteLength),l=new DataView(r);l.setUint32(0,jt.LIBRARY_VERSION,!0),l.setUint32(4,c(this,Hh,"f"),!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(r).set(o,12),new Uint8Array(r).set(s,12+o.byteLength),yield e.set(c(this,Jh,"f"),new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(je(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,s;let r=je(e,'function(a){a=a.split("")','return a.join("")}'),l=(s=(o=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||s===void 0?void 0:s.trim(),p=je(e,`var ${l}={`,"};");return(!p||!r)&&console.warn(new _t("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${je(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new _t("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${c(this,Jh,"f")}/player_ias.vflset/en_US/base.js`,pe.YT_BASE).toString()}get sts(){return c(this,Hh,"f")}get nsig_sc(){return c(this,wr,"f")}get sig_sc(){return c(this,Tr,"f")}static get LIBRARY_VERSION(){return 2}};n(jt,"Player");wr=new WeakMap,Ny=new WeakMap,Tr=new WeakMap,Hh=new WeakMap,Jh=new WeakMap;var Ay=jt;var ki,sn,Ne,we,Ex,sI,My,nI,rI,Ry,Px=class{constructor(e){ki.add(this),sn.set(this,void 0),Ne.set(this,void 0),we.set(this,void 0),Ex.set(this,5),S(this,Ne,e,"f")}init(e){return y(this,void 0,void 0,function*(){S(this,we,e,"f"),this.validateCredentials()?this.has_access_token_expired||c(this,Ne,"f").emit("auth",{credentials:c(this,we,"f"),status:"SUCCESS"}):(yield c(this,ki,"m",sI).call(this))||(yield c(this,ki,"m",My).call(this))})}cacheCredentials(){var e;return y(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(c(this,we,"f")));yield(e=c(this,Ne,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return y(this,void 0,void 0,function*(){yield(e=c(this,Ne,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return y(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield c(this,ki,"m",rI).call(this))})}revokeCredentials(){return y(this,void 0,void 0,function*(){if(!!c(this,we,"f"))return yield this.removeCache(),c(this,Ne,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(c(this,we,"f").access_token)}`,pe.YT_BASE),{method:"post"})})}get credentials(){return c(this,we,"f")}get has_access_token_expired(){let e=c(this,we,"f")?new Date(c(this,we,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return c(this,we,"f")&&Reflect.has(c(this,we,"f"),"access_token")&&Reflect.has(c(this,we,"f"),"refresh_token")&&Reflect.has(c(this,we,"f"),"expires")||!1}};n(Px,"OAuth");sn=new WeakMap,Ne=new WeakMap,we=new WeakMap,Ex=new WeakMap,ki=new WeakSet,sI=n(function(){var e;return y(this,void 0,void 0,function*(){let i=yield(e=c(this,Ne,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,s=JSON.parse(o.decode(i));return S(this,we,{access_token:s.access_token,refresh_token:s.refresh_token,expires:new Date(s.expires)},"f"),c(this,Ne,"f").emit("auth",{credentials:c(this,we,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),My=n(function(){return y(this,void 0,void 0,function*(){S(this,sn,yield c(this,ki,"m",Ry).call(this),"f");let e={client_id:c(this,sn,"f").client_id,scope:Ni.SCOPE,device_id:D.shim.uuidv4(),device_model:Ni.MODEL_NAME},o=yield(yield c(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/device/code",pe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();c(this,Ne,"f").emit("auth-pending",o),S(this,Ex,o.interval,"f"),c(this,ki,"m",nI).call(this,o.device_code)})},"_OAuth_getUserCode"),nI=n(function(e){let i=setInterval(()=>y(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({},c(this,sn,"f")),{code:e,grant_type:Ni.GRANT_TYPE});try{let r=yield(yield c(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/token",pe.YT_BASE),{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(r.error){switch(r.error){case"access_denied":c(this,Ne,"f").emit("auth-error",new ci("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":c(this,Ne,"f").emit("auth-error",new ci("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),c(this,ki,"m",My).call(this);break;default:break}return}let l=new Date(new Date().getTime()+r.expires_in*1e3);S(this,we,{access_token:r.access_token,refresh_token:r.refresh_token,expires:l},"f"),c(this,Ne,"f").emit("auth",{credentials:c(this,we,"f"),status:"SUCCESS"}),clearInterval(i)}catch(s){return clearInterval(i),c(this,Ne,"f").emit("auth-error",new ci("Could not obtain user code.",{status:"FAILED",error:s}))}}),c(this,Ex,"f")*1e3)},"_OAuth_startPolling"),rI=n(function(){return y(this,void 0,void 0,function*(){if(!c(this,we,"f"))return;S(this,sn,yield c(this,ki,"m",Ry).call(this),"f");let e=Object.assign(Object.assign({},c(this,sn,"f")),{refresh_token:c(this,we,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield c(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/token",pe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),s=new Date(new Date().getTime()+o.expires_in*1e3);S(this,we,{access_token:o.access_token,refresh_token:o.refresh_token||c(this,we,"f").refresh_token,expires:s},"f"),c(this,Ne,"f").emit("update-credentials",{credentials:c(this,we,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),Ry=n(function(){var e;return y(this,void 0,void 0,function*(){let o=yield(yield c(this,Ne,"f").http.fetch_function(new URL("/tv",pe.YT_BASE),{headers:Ni.HEADERS})).text(),s=(e=Ni.REGEX.AUTH_SCRIPT.exec(o))===null||e===void 0?void 0:e[1];if(!s)throw new ci("Could not obtain script url.",{status:"FAILED"});let l=(yield(yield c(this,Ne,"f").http.fetch(s,{baseURL:pe.YT_BASE})).text()).replace(/\n/g,"").match(Ni.REGEX.CLIENT_IDENTITY),p=l==null?void 0:l.groups;if(!p)throw new ci("Could not obtain client identity.",{status:"FAILED"});return p})},"_OAuth_getClientIdentity");var Vy=Px;var Nx,Ax,Rx,rn,Mx,Vx,aI,Oy,Dy;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Dy||(Dy={}));var lo=class extends xh{constructor(e,i,o,s,r,l,p,f){super(),Ax.set(this,void 0),Rx.set(this,void 0),rn.set(this,void 0),Mx.set(this,void 0),Vx.set(this,void 0),S(this,rn,e,"f"),S(this,Mx,s,"f"),S(this,Rx,i,"f"),S(this,Ax,o,"f"),S(this,Vx,r,"f"),this.http=new Xg(this,l,p),this.actions=new Py(this),this.oauth=new Vy(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return y(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:s,account_index:r}=yield lo.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new lo(i,o,s,r,e.retrieve_player===!1?void 0:yield Ay.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,s="",r=!1,l=!1,p="desktop",f=Dy.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,_=D.shim.fetch,g){return y(this,void 0,void 0,function*(){let w,T={lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s,on_behalf_of_user:g};if(l)w=c(this,Nx,"m",Oy).call(this,T);else try{w=yield c(this,Nx,"m",aI).call(this,T,_)}catch(C){w=c(this,Nx,"m",Oy).call(this,T)}return Object.assign(Object.assign({},w),{account_index:o})})}signIn(e){return y(this,void 0,void 0,function*(){return new Promise((i,o)=>y(this,void 0,void 0,function*(){let s=n(r=>o(r),"error_handler");this.once("auth",r=>{this.off("auth-error",s),r.status==="SUCCESS"&&(this.logged_in=!0,i()),o(r)}),this.once("auth-error",s);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(r){o(r)}}))})}signOut(){return y(this,void 0,void 0,function*(){if(!this.logged_in)throw new x("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return c(this,Rx,"f")}get api_version(){return c(this,Ax,"f")}get client_version(){return c(this,rn,"f").client.clientVersion}get client_name(){return c(this,rn,"f").client.clientName}get account_index(){return c(this,Mx,"f")}get context(){return c(this,rn,"f")}get player(){return c(this,Vx,"f")}get lang(){return c(this,rn,"f").client.hl}};n(lo,"Session");Nx=lo,Ax=new WeakMap,Rx=new WeakMap,rn=new WeakMap,Mx=new WeakMap,Vx=new WeakMap,aI=n(function(e,i=D.shim.fetch){return y(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",pe.YT_BASE),s=St(11);e.visitor_data&&(s=l_(e.visitor_data).id);let r=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":Go("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!r.ok)throw new Ds(`Failed to retrieve session data: ${r.status}`);let l=yield r.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],m=`v${f[0][0][6]}`,[[_],g]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:pe.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:g,api_version:m}})},"_Session_retrieveSessionData"),Oy=n(function(e){let i=St(11);return e.visitor_data&&(i=l_(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:bg(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:H.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:pe.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:H.WEB.API_KEY,api_version:H.WEB.API_VERSION}},"_Session_generateSessionData");var By=lo;var Fy={};L(Fy,{Kids:()=>Kx,Music:()=>Xx,Studio:()=>Zx});var Ly={};L(Ly,{Account:()=>ln,Browse:()=>Dx,BrowseEndpoint:()=>Y,Channel:()=>Ci,Comment:()=>Fx,GetNotificationMenuEndpoint:()=>an,GuideEndpoint:()=>Sr,Kids:()=>Gx,Like:()=>Yx,Music:()=>Ux,NextEndpoint:()=>Ie,Notification:()=>jx,PlayerEndpoint:()=>Ze,Playlist:()=>Wx,ResolveURLEndpoint:()=>un,SearchEndpoint:()=>vt,Subscription:()=>Hx,Upload:()=>Jx});var Y={};L(Y,{PATH:()=>aC,build:()=>uC});var aC="/browse";function uC(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(uC,"build");var an={};L(an,{PATH:()=>lC,build:()=>cC});var lC="/notification/get_notification_menu";function cC(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(cC,"build");var Sr={};L(Sr,{PATH:()=>dC});var dC="/guide";var Ie={};L(Ie,{PATH:()=>pC,build:()=>fC});var pC="/next";function fC(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(fC,"build");var Ze={};L(Ze,{PATH:()=>hC,build:()=>mC});var hC="/player";function mC(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}n(mC,"build");var un={};L(un,{PATH:()=>_C,build:()=>vC});var _C="/navigation/resolve_url";function vC(t){return Object.assign({url:t.url})}n(vC,"build");var vt={};L(vt,{PATH:()=>xC,build:()=>gC});var xC="/search";function gC(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(gC,"build");var ln={};L(ln,{AccountListEndpoint:()=>Ox});var Ox={};L(Ox,{PATH:()=>yC,build:()=>bC});var yC="/account/accounts_list";function bC(){return{client:"ANDROID"}}n(bC,"build");var Dx={};L(Dx,{EditPlaylistEndpoint:()=>et});var et={};L(et,{PATH:()=>wC,build:()=>TC});var wC="/browse/edit_playlist";function TC(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}n(TC,"build");var Ci={};L(Ci,{EditDescriptionEndpoint:()=>Lx,EditNameEndpoint:()=>Bx});var Bx={};L(Bx,{PATH:()=>SC,build:()=>IC});var SC="/channel/edit_name";function IC(t){return{givenName:t.given_name,client:"ANDROID"}}n(IC,"build");var Lx={};L(Lx,{PATH:()=>kC,build:()=>CC});var kC="/channel/edit_description";function CC(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(CC,"build");var Fx={};L(Fx,{CreateCommentEndpoint:()=>dn,PerformCommentActionEndpoint:()=>cn});var cn={};L(cn,{PATH:()=>EC,build:()=>PC});var EC="/comment/perform_comment_action";function PC(t){return Object.assign({actions:t.actions},{client:t.client})}n(PC,"build");var dn={};L(dn,{PATH:()=>NC,build:()=>AC});var NC="/comment/create_comment";function AC(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(AC,"build");var Yx={};L(Yx,{DislikeEndpoint:()=>fn,LikeEndpoint:()=>pn,RemoveLikeEndpoint:()=>hn});var pn={};L(pn,{PATH:()=>RC,build:()=>MC});var RC="/like/like";function MC(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(MC,"build");var fn={};L(fn,{PATH:()=>VC,build:()=>OC});var VC="/like/dislike";function OC(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(OC,"build");var hn={};L(hn,{PATH:()=>DC,build:()=>BC});var DC="/like/removelike";function BC(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(BC,"build");var Ux={};L(Ux,{GetSearchSuggestionsEndpoint:()=>mn});var mn={};L(mn,{PATH:()=>LC,build:()=>FC});var LC="/music/get_search_suggestions";function FC(t){return{input:t.input,client:"YTMUSIC"}}n(FC,"build");var jx={};L(jx,{GetUnseenCountEndpoint:()=>Ir,ModifyChannelPreferenceEndpoint:()=>_n});var Ir={};L(Ir,{PATH:()=>YC});var YC="/notification/get_unseen_count";var _n={};L(_n,{PATH:()=>UC,build:()=>jC});var UC="/notification/modify_channel_preference";function jC(t){return Object.assign({params:t.params},{client:t.client})}n(jC,"build");var Wx={};L(Wx,{CreateEndpoint:()=>vn,DeleteEndpoint:()=>xn});var vn={};L(vn,{PATH:()=>WC,build:()=>HC});var WC="/playlist/create";function HC(t){return{title:t.title,ids:t.ids}}n(HC,"build");var xn={};L(xn,{PATH:()=>JC,build:()=>GC});var JC="/playlist/delete";function GC(t){return{playlistId:t.playlist_id}}n(GC,"build");var Hx={};L(Hx,{SubscribeEndpoint:()=>gn,UnsubscribeEndpoint:()=>yn});var gn={};L(gn,{PATH:()=>zC,build:()=>KC});var zC="/subscription/subscribe";function KC(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(KC,"build");var yn={};L(yn,{PATH:()=>$C,build:()=>qC});var $C="/subscription/unsubscribe";function qC(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(qC,"build");var Jx={};L(Jx,{CreateVideoEndpoint:()=>bn});var bn={};L(bn,{PATH:()=>XC,build:()=>QC});var XC="/upload/createvideo";function QC(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(QC,"build");var Gx={};L(Gx,{BlocklistPickerEndpoint:()=>wn});var wn={};L(wn,{PATH:()=>ZC,build:()=>eE});var ZC="/kids/get_kids_blocklist_picker";function eE(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}n(eE,"build");var Ge,zx=class{constructor(e){Ge.set(this,void 0),S(this,Ge,e,"f")}search(e){return y(this,void 0,void 0,function*(){let i=yield c(this,Ge,"f").actions.execute(vt.PATH,vt.build({client:"YTKIDS",query:e}));return new cx(c(this,Ge,"f").actions,i)})}getInfo(e){var i;return y(this,void 0,void 0,function*(){let o=Ze.build({sts:(i=c(this,Ge,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),s=Ie.build({video_id:e,client:"YTKIDS"}),r=c(this,Ge,"f").actions.execute(Ze.PATH,o),l=c(this,Ge,"f").actions.execute(Ie.PATH,s),p=yield Promise.all([r,l]),f=St(16);return new px(p,c(this,Ge,"f").actions,f)})}getChannel(e){return y(this,void 0,void 0,function*(){let i=yield c(this,Ge,"f").actions.execute(Y.PATH,Y.build({browse_id:e,client:"YTKIDS"}));return new ax(c(this,Ge,"f").actions,i)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield c(this,Ge,"f").actions.execute(Y.PATH,Y.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new ux(c(this,Ge,"f").actions,e)})}blockChannel(e){var i,o;return y(this,void 0,void 0,function*(){if(!c(this,Ge,"f").logged_in)throw new x("You must be signed in to perform this operation.");let s=wn.build({channel_id:e}),p={contents:(yield c(this,Ge,"f").actions.execute(wn.PATH,s)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},m=(i=d.parseResponse(p).contents_memo)===null||i===void 0?void 0:i.getType(is);if(!m)throw new x("Could not find any kids profiles or supervised accounts.");let _=[];for(let g of m)!((o=g.block_button)===null||o===void 0)&&o.is_toggled||(g.setActions(c(this,Ge,"f").actions),_.push(yield g.blockChannel()));return _})}};n(zx,"Kids");Ge=new WeakMap;var Kx=zx;var $x,Gh,ue,uI,lI,qx=class{constructor(e){$x.add(this),Gh.set(this,void 0),ue.set(this,void 0),S(this,Gh,e,"f"),S(this,ue,e.actions,"f")}getInfo(e){if(e instanceof zn)return c(this,$x,"m",lI).call(this,e);if(typeof e=="string")return c(this,$x,"m",uI).call(this,e);throw new x("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return y(this,void 0,void 0,function*(){ee({query:e});let o=yield c(this,ue,"f").execute(vt.PATH,vt.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?Sg(i):void 0}));return new sx(o,c(this,ue,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield c(this,ue,"f").execute(Y.PATH,Y.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new tx(e,c(this,ue,"f"))})}getExplore(){return y(this,void 0,void 0,function*(){let e=yield c(this,ue,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new ex(e)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield c(this,ue,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new ix(e,c(this,ue,"f"))})}getArtist(e){return y(this,void 0,void 0,function*(){if(ee({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new x("Invalid artist id",e);let i=yield c(this,ue,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:e}));return new Q0(i,c(this,ue,"f"))})}getAlbum(e){return y(this,void 0,void 0,function*(){if(ee({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new x("Invalid album id",e);let i=yield c(this,ue,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:e}));return new $0(i)})}getPlaylist(e){return y(this,void 0,void 0,function*(){ee({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield c(this,ue,"f").execute(Y.PATH,Y.build({client:"YTMUSIC",browse_id:e}));return new Ns(i,c(this,ue,"f"))})}getUpNext(e,i=!0){var o,s,r;return y(this,void 0,void 0,function*(){ee({video_id:e});let p=(o=(yield c(this,ue,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(xe),f=p==null?void 0:p.first();if(!f)throw new x("Could not find target tab.");let m=(s=f.content)===null||s===void 0?void 0:s.as(Kn);if(!m||!m.content)throw new x("Music queue was empty, the given id is probably invalid.",m);let _=m.content.as(Zt);if(!_.playlist_id&&i){let g=_.contents.firstOfType(Di);if(!g)throw new x("Automix item not found");let w=yield(r=g.playlist_video)===null||r===void 0?void 0:r.endpoint.call(c(this,ue,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!w||!w.contents_memo)throw new x("Could not fetch automix");return w.contents_memo.getType(Zt).first()}return _})}getRelated(e){var i;return y(this,void 0,void 0,function*(){ee({video_id:e});let s=(i=(yield c(this,ue,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(xe),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new x("Could not find target tab.");let l=yield r.endpoint.call(c(this,ue,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new x("Unexpected response",l);return l.contents.item().as(Q).contents.as(Pe,Io)})}getLyrics(e){var i;return y(this,void 0,void 0,function*(){ee({video_id:e});let s=(i=(yield c(this,ue,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(xe),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new x("Could not find target tab.");let l=yield r.endpoint.call(c(this,ue,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new x("Unexpected response",l);if(l.contents.item().type==="Message")throw new x(l.contents.item().as(He).text.toString(),e);return l.contents.item().as(Q).contents.firstOfType(Io)})}getRecap(){return y(this,void 0,void 0,function*(){let e=yield c(this,ue,"f").execute(Y.PATH,Y.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new nx(e,c(this,ue,"f"))})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){let i=yield c(this,ue,"f").execute(mn.PATH,Object.assign(Object.assign({},mn.build({input:e})),{parse:!0}));return i.contents_memo?i.contents_memo.getType(zv):[]})}};n(qx,"Music");Gh=new WeakMap,ue=new WeakMap,$x=new WeakSet,uI=n(function(e){var i;return y(this,void 0,void 0,function*(){let o=Ze.build({video_id:e,sts:(i=c(this,Gh,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),s=Ie.build({video_id:e,client:"YTMUSIC"}),r=c(this,ue,"f").execute(Ze.PATH,o),l=c(this,ue,"f").execute(Ie.PATH,s),p=yield Promise.all([r,l]),f=St(16);return new Vh(p,c(this,ue,"f"),f)})},"_Music_fetchInfoFromVideoId"),lI=n(function(e){var i;return y(this,void 0,void 0,function*(){if(!e)throw new x("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(c(this,ue,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=c(this,Gh,"f").player)===null||i===void 0?void 0:i.sts})}}),s=e.endpoint.call(c(this,ue,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=St(16),l=yield Promise.all([o,s]);return new Vh(l,c(this,ue,"f"),r)})},"_Music_fetchInfoFromListItem");var Xx=qx;var zh,Wt,cI,dI,pI,Qx=class{constructor(e){zh.add(this),Wt.set(this,void 0),S(this,Wt,e,"f")}setThumbnail(e,i){return y(this,void 0,void 0,function*(){if(!c(this,Wt,"f").logged_in)throw new x("You must be signed in to perform this operation.");if(!e||!i)throw new en("One or more parameters are missing.");let o=Ng(e,i);return yield c(this,Wt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return y(this,void 0,void 0,function*(){if(!c(this,Wt,"f").logged_in)throw new x("You must be signed in to perform this operation.");let o=Pg(e,i);return yield c(this,Wt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return y(this,void 0,void 0,function*(){if(!c(this,Wt,"f").logged_in)throw new x("You must be signed in to perform this operation.");let o=yield c(this,zh,"m",cI).call(this),s=yield c(this,zh,"m",dI).call(this,o.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new x("Could not process video.");return yield c(this,zh,"m",pI).call(this,o,s,i)})}};n(Qx,"Studio");Wt=new WeakMap,zh=new WeakSet,cI=n(function(){return y(this,void 0,void 0,function*(){let e=`innertube_android:${D.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${D.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield c(this,Wt,"f").http.fetch("/upload/youtubei",{baseURL:pe.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new x("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),dI=n(function(e,i){return y(this,void 0,void 0,function*(){let o=yield c(this,Wt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new x("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),pI=n(function(e,i,o){return y(this,void 0,void 0,function*(){return yield c(this,Wt,"f").actions.execute(bn.PATH,bn.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var Zx=Qx;var Yy={};L(Yy,{AccountManager:()=>tg,InteractionManager:()=>sg,PlaylistManager:()=>og});var xt,eg=class{constructor(e){xt.set(this,void 0),S(this,xt,e,"f"),this.channel={editName:i=>{if(!c(this,xt,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");return c(this,xt,"f").execute(Ci.EditNameEndpoint.PATH,Ci.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!c(this,xt,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");return c(this,xt,"f").execute(Ci.EditDescriptionEndpoint.PATH,Ci.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return y(this,void 0,void 0,function*(){if(!c(this,xt,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let e=yield c(this,xt,"f").execute(ln.AccountListEndpoint.PATH,ln.AccountListEndpoint.build());return new h0(e)})}getTimeWatched(){return y(this,void 0,void 0,function*(){let e=yield c(this,xt,"f").execute(Y.PATH,Y.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new Y0(e)})}getSettings(){return y(this,void 0,void 0,function*(){let e=yield c(this,xt,"f").execute(Y.PATH,Y.build({browse_id:"SPaccount_overview"}));return new L0(c(this,xt,"f"),e)})}getAnalytics(){var e;return y(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield c(this,xt,"f").execute(Y.PATH,Y.build({browse_id:"FEanalytics_screen",params:wg((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new _0(o)})}};n(eg,"AccountManager");xt=new WeakMap;var tg=eg;var Ee,ig=class{constructor(e){Ee.set(this,void 0),S(this,Ee,e,"f")}create(e,i){return y(this,void 0,void 0,function*(){if(ee({title:e,video_ids:i}),!c(this,Ee,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=yield c(this,Ee,"f").execute(vn.PATH,vn.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e}),!c(this,Ee,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let i=yield c(this,Ee,"f").execute(xn.PATH,xn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,video_ids:i}),!c(this,Ee,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=yield c(this,Ee,"f").execute(et.PATH,et.build({actions:i.map(s=>({action:"ACTION_ADD_VIDEO",added_video_id:s})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,video_ids:i}),!c(this,Ee,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=yield c(this,Ee,"f").execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:`VL${e}`})),{parse:!0})),s=new xi(c(this,Ee,"f"),o,!0);if(!s.info.is_editable)throw new x("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},l=n(f=>y(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>r.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),r.actions.length<i.length){let _=yield f.getContinuation();return l(_)}}),"getSetVideoIds");if(yield l(s),!r.actions.length)throw new x("Given video ids were not found in this playlist.",i);let p=yield c(this,Ee,"f").execute(et.PATH,et.build(r));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!c(this,Ee,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let s=yield c(this,Ee,"f").execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:`VL${e}`})),{parse:!0})),r=new xi(c(this,Ee,"f"),s,!0);if(!r.info.is_editable)throw new x("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,m=n(g=>y(this,void 0,void 0,function*(){let w=g.videos.find(C=>i===C.key("id").string()),T=g.videos.find(C=>o===C.key("id").string());if(p=p||(w==null?void 0:w.key("set_video_id").string()),f=f||(T==null?void 0:T.key("set_video_id").string()),!p||!f){let C=yield g.getContinuation();return m(C)}}),"getSetVideoIds");yield m(r),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield c(this,Ee,"f").execute(et.PATH,et.build(l));return{playlist_id:e,action_result:_.data.actions}})}setName(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,name:i}),!c(this,Ee,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let s=yield c(this,Ee,"f").execute(et.PATH,et.build(o));return{playlist_id:e,action_result:s.data.actions}})}setDescription(e,i){return y(this,void 0,void 0,function*(){if(ee({playlist_id:e,description:i}),!c(this,Ee,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let s=yield c(this,Ee,"f").execute(et.PATH,et.build(o));return{playlist_id:e,action_result:s.data.actions}})}};n(ig,"PlaylistManager");Ee=new WeakMap;var og=ig;var Ye,ng=class{constructor(e){Ye.set(this,void 0),S(this,Ye,e,"f")}like(e){return y(this,void 0,void 0,function*(){if(ee({video_id:e}),!c(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield c(this,Ye,"f").execute(pn.PATH,pn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return y(this,void 0,void 0,function*(){if(ee({video_id:e}),!c(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield c(this,Ye,"f").execute(fn.PATH,fn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return y(this,void 0,void 0,function*(){if(ee({video_id:e}),!c(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield c(this,Ye,"f").execute(hn.PATH,hn.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return y(this,void 0,void 0,function*(){if(ee({channel_id:e}),!c(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield c(this,Ye,"f").execute(gn.PATH,gn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return y(this,void 0,void 0,function*(){if(ee({channel_id:e}),!c(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield c(this,Ye,"f").execute(yn.PATH,yn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return y(this,void 0,void 0,function*(){if(ee({video_id:e,text:i}),!c(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield c(this,Ye,"f").execute(dn.PATH,dn.build({comment_text:i,create_comment_params:Cg(e),client:"ANDROID"}))})}translate(e,i,o={}){return y(this,void 0,void 0,function*(){ee({text:e,target_language:i});let s=Au(22,Object.assign({text:e,target_language:i},o)),r=yield c(this,Ye,"f").execute(cn.PATH,cn.build({client:"ANDROID",actions:[s]})),l=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:l.translatedContent.content,data:r.data}})}setNotificationPreferences(e,i){return y(this,void 0,void 0,function*(){if(ee({channel_id:e,type:i}),!c(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield c(this,Ye,"f").execute(_n.PATH,_n.build({client:"WEB",params:Eg(e,o[i.toUpperCase()])}))})}};n(ng,"InteractionManager");Ye=new WeakMap;var sg=ng;var ze,kr=class{constructor(e){ze.set(this,void 0),S(this,ze,e,"f")}static create(e={}){return y(this,void 0,void 0,function*(){return new kr(yield By.create(e))})}getInfo(e,i){var o,s,r,l,p;return y(this,void 0,void 0,function*(){ee({target:e});let f;if(e instanceof v)f=Ie.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(r=e.payload)===null||r===void 0?void 0:r.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Ie.build({video_id:e});else throw new x("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new x("Video id cannot be empty",f);let m=Ze.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=c(this,ze,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(Ze.PATH,m),g=this.actions.execute(Ie.PATH,f),w=yield Promise.all([_,g]),T=St(16);return new Eh(w,this.actions,T)})}getBasicInfo(e,i){var o;return y(this,void 0,void 0,function*(){ee({video_id:e});let s=yield this.actions.execute(Ze.PATH,Ze.build({video_id:e,client:i,sts:(o=c(this,ze,"f").player)===null||o===void 0?void 0:o.sts})),r=St(16);return new Eh([s],this.actions,r)})}search(e,i={}){return y(this,void 0,void 0,function*(){ee({query:e});let o=yield this.actions.execute(vt.PATH,vt.build({query:e,params:i?Tg(i):void 0}));return new B0(this.actions,o)})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){ee({query:e});let i=new URL(`${pe.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",c(this,ze,"f").context.client.hl),i.searchParams.set("gl",c(this,ze,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let s=yield(yield c(this,ze,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return y(this,void 0,void 0,function*(){ee({video_id:e});let o=yield this.actions.execute(Ie.PATH,Ie.build({continuation:kg(e,{sort_by:i||"TOP_COMMENTS"})}));return new x0(this.actions,o.data)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FEwhat_to_watch"}));return new Bt(this.actions,e)})}getGuide(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Sr.PATH);return new y0(e.data)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FElibrary"}));return new C0(this.actions,e)})}getHistory(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FEhistory"}));return new fs(this.actions,e)})}getTrending(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:"FEtrending"})),{parse:!0}));return new as(this.actions,e)})}getSubscriptionsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Y.PATH,Object.assign(Object.assign({},Y.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new he(this.actions,e)})}getChannel(e){return y(this,void 0,void 0,function*(){ee({id:e});let i=yield this.actions.execute(Y.PATH,Y.build({browse_id:e}));return new Ce(this.actions,i)})}getNotifications(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(an.PATH,an.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new D0(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,s;return y(this,void 0,void 0,function*(){let r=yield this.actions.execute(Ir.PATH);return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((s=(o=(i=r.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||s===void 0?void 0:s.unseenCount)||0})}getPlaylist(e){return y(this,void 0,void 0,function*(){ee({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(Y.PATH,Y.build({browse_id:e}));return new xi(this.actions,i)})}getHashtag(e){return y(this,void 0,void 0,function*(){ee({hashtag:e});let i=yield this.actions.execute(Y.PATH,Y.build({browse_id:"FEhashtag",params:Ag(e)}));return new ai(this.actions,i)})}getStreamingData(e,i={}){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return y(this,void 0,void 0,function*(){return(yield this.actions.execute(un.PATH,Object.assign(Object.assign({},un.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new Xx(c(this,ze,"f"))}get studio(){return new Zx(c(this,ze,"f"))}get kids(){return new Kx(c(this,ze,"f"))}get account(){return new tg(c(this,ze,"f").actions)}get playlist(){return new og(c(this,ze,"f").actions)}get interact(){return new sg(c(this,ze,"f").actions)}get actions(){return c(this,ze,"f").actions}get session(){return c(this,ze,"f")}};n(kr,"Innertube");ze=new WeakMap;var Uy=kr;var fI={};var hI=Uy;var Kh,rg,ag,ug,lg=class{constructor(e=!1,i){Kh.add(this),rg.set(this,void 0),ag.set(this,void 0),S(this,rg,i||"","f"),S(this,ag,e,"f")}get cache_dir(){return c(this,ag,"f")?c(this,rg,"f"):""}get(e){return y(this,void 0,void 0,function*(){let i=yield c(this,Kh,"m",ug).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=s,r.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;o(p?p.buffer:void 0)}})})}set(e,i){return y(this,void 0,void 0,function*(){let o=yield c(this,Kh,"m",ug).call(this);if(!!o)return new Promise((s,r)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=r,l.onsuccess=()=>s()})})}remove(e){return y(this,void 0,void 0,function*(){let i=yield c(this,Kh,"m",ug).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=s,r.onsuccess=()=>o()})})}};n(lg,"Cache");rg=new WeakMap,ag=new WeakMap,Kh=new WeakSet,ug=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(r){o("indexedDB request error"),console.error(r)},s.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");D.load({runtime:"browser",server:!1,info:{version:_x.version,bugs_url:_x.bugs.url,repo_url:_x.homepage.split("#")[0]},Cache:lg,sha1Hash:ly,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:Ey,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var p1e=hI;export{Py as Actions,xo as AppendContinuationItemsAction,Dy as ClientType,Fy as Clients,Ue as Constants,No as Continuation,Ly as Endpoints,xh as EventEmitter,W0 as FormatUtils,jg as Generator,Ki as GridContinuation,Xg as HTTPClient,fg as Helpers,Uy as Innertube,Hi as ItemSectionContinuation,$i as LiveChatContinuation,Yy as Managers,ay as Misc,iy as Mixins,zi as MusicPlaylistShelfContinuation,ii as MusicShelfContinuation,Ji as NavigateAction,Vy as OAuth,d as Parser,D as Platform,Ay as Player,ss as PlaylistPanelContinuation,Mt as Proto,Gi as ReloadContinuationItemsCommand,st as SectionListContinuation,By as Session,ns as ShowMiniplayerCommand,fI as Types,ek as UniversalCache,Zg as Utils,oy as YT,ry as YTKids,sy as YTMusic,lh as YTNodes,p1e as default};
//# sourceMappingURL=browser.min.js.map
